define("addPanelInfra/addPanel/addPanelStyleManager",["lodash","core"],function(a,b){"use strict";var c={"wysiwyg.viewer.components.MatrixGallery":["mg2","mg3"],"wysiwyg.viewer.components.SlideShowGallery":["ssg3"],"wysiwyg.viewer.components.SliderGallery":["sg2"],"wysiwyg.viewer.components.PaginatedGridGallery":["pagg2","pagg3"],"wysiwyg.viewer.components.SiteButton":["b1","b2","b3","b4"],"wysiwyg.viewer.components.PopupCloseTextButton":["b1","b2","b3","b4"],"mobile.core.components.Container":["c1","c2","c3","c4"],"core.components.ContainerOBC":["c1","c2","c3","c4"],"wysiwyg.viewer.components.BgImageStrip":["bgis1","bgis2"],"wysiwyg.viewer.components.FiveGridLine":["hl1","hl2","hl3","hl4"],fiveGridLineFullWidth:["hl1","hl2","hl3","hl4"],"wysiwyg.viewer.components.VerticalLine":["vl1","vl2","vl3","vl4"],"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer":["SingleAudioPlayer_1"],"wysiwyg.viewer.components.AudioPlayer":["ap1","ap2"],"wysiwyg.viewer.components.WFacebookLike":["fbl1"],"wysiwyg.viewer.components.WGooglePlusOne":["gp1"],"wysiwyg.viewer.components.WTwitterTweet":["twt1"],"wysiwyg.viewer.components.ContactForm":["cf1","cf2"],"wysiwyg.common.components.subscribeform.viewer.SubscribeForm":["SubscribeForm_1"],"wysiwyg.viewer.components.GoogleMap":["gm1"],"wysiwyg.viewer.components.mobile.TinyMenu":["tm1","tm2"],"wysiwyg.viewer.components.HorizontalMenu":["rt1","rt2","rt3"],"wysiwyg.viewer.components.menus.DropDownMenu":["ddm1","ddm2","ddm3"],"wysiwyg.common.components.verticalmenu.viewer.VerticalMenu":["VerticalMenu_1"],"wysiwyg.viewer.components.WPhoto":["wp1","wp2","wp3","wp4"],"wysiwyg.viewer.components.Video":["v1"],"wysiwyg.viewer.components.FooterContainer":["fc1","fc2","fc3"],"wysiwyg.viewer.components.HeaderContainer":["hc1","hc2"],"wysiwyg.viewer.components.ScreenWidthContainer":["sc1","sc2","sc3","sc4"],pageContainer:["p1","p2","p3"],WRichTextStyle1:["txtNew"],WRichTextStyle2:["txtNew"],WRichTextStyle3:["txtNew"],WRichTextStyle4:["txtNew"],WRichTextStyle5:["txtNew"],WRichTextStyle6:["txtNew"]};return{getComponentThemeStyles:function(d,e,f){var g=c[d],h=a.without(a.map(g,function(a){return b.styleManager.getStyleById(e,f,a)}),void 0),i=[];return a.forEach(h,function(c){if(a.isEmpty(i))i.push(c);else{var d=a.find(i,function(a){return b.styleManager.isEqualWithoutTypeConsideration(c,a)});d||i.push(c)}}),i},getThemeStylesArr:function(b,c,d){return a.reduce(b,function(b,e){var f=this.getComponentThemeStyles(e,c,d);return a.isEmpty(f)?b:b.concat(a.pluck(f,"id"))},[],this)},getPersonalizeStylesArr:function(c,d,e){return a.reduce(e,function(e,f){var g=b.styleManager.getUniqueCustomStyleList(c,d,f);return a.isEmpty(g)?e:e.concat(g)},[])}}}),define("addPanelInfra/addPanel/componentsDefaultData",["lodash","util","addPanelData"],function(a,b,c){"use strict";function e(){return{isHidden:!1,isPreset:!0,schemaVersion:"1.0"}}function f(){return[{type:"Image",title:d("add_default_text1_image1"),uri:"a9ff3b_61fe61f3eb4c4adeb5835a166de10689.jpg",description:d("add_default_text1_gallerydescription"),width:1920,height:1280,id:"i01ch4",metaData:e()},{type:"Image",title:d("add_default_text1_image2"),uri:"a9ff3b_5f378900670848919283755eb67a5949.jpg",description:d("add_default_text1_gallerydescription"),width:1920,height:1922,id:"i1119k",metaData:e()},{type:"Image",title:d("add_default_text1_image3"),uri:"a9ff3b_7125cf82b18841c2961ce0a241b78826.jpg",description:d("add_default_text1_gallerydescription"),width:1920,height:1280,id:"i2lj2",metaData:e()},{type:"Image",title:d("add_default_text1_image4"),uri:"a9ff3b_1d0b83b8723c4dc39192405fd083142a.jpg",description:d("add_default_text1_gallerydescription"),width:1920,height:1280,id:"i321j6",metaData:e()},{type:"Image",title:d("add_default_text1_image5"),uri:"a9ff3b_f69457ef952c4aa4ba805827a02331c4.jpg",description:d("add_default_text1_gallerydescription"),width:1920,height:1280,id:"i41crh",metaData:e()},{type:"Image",title:d("add_default_text1_image6"),uri:"a9ff3b_f2f5a5f6dac648e8a23cd07144c67530.jpg",description:d("add_default_text1_gallerydescription"),width:1920,height:1280,id:"i56rx",metaData:e()},{type:"Image",title:d("add_default_text1_image7"),uri:"a9ff3b_42da54d3813d45d4b968f5d693c1d29c.jpg",description:d("add_default_text1_gallerydescription"),width:1920,height:1920,id:"image_217e",metaData:e()},{type:"Image",title:d("add_default_text1_image8"),uri:"a9ff3b_a2cb5c4ffde14da5a2f47610c4587ad1.jpg",description:d("add_default_text1_gallerydescription"),width:1920,height:1920,id:"image_14p9",metaData:e()},{type:"Image",title:d("add_default_text1_image9"),uri:"a9ff3b_2919fbec56cb4c3086b8159d5aa04b2e.jpg",description:d("add_default_text1_gallerydescription"),width:1920,height:1280,id:"image_kae",metaData:e()},{type:"Image",title:d("add_default_text1_image10"),uri:"a9ff3b_ffc94924b5634693a8686d91ab95b0bb.jpg",description:d("add_default_text1_gallerydescription"),width:1920,height:1280,id:"image_tty",metaData:e()},{type:"Image",title:d("add_default_text1_image11"),uri:"a9ff3b_ee9cb7f87e424de7a2d49bcb20ea25f1.jpg",description:d("add_default_text1_gallerydescription"),width:1920,height:1280,id:"image_1tta",metaData:e()},{type:"Image",title:d("add_default_text1_image12"),uri:"a9ff3b_f48ad132eda944eba22352d9dc140fb5.jpg",description:d("add_default_text1_gallerydescription"),width:1920,height:1280,id:"image_1hwt",metaData:e()},{type:"Image",title:d("add_default_text1_image13"),uri:"a9ff3b_06ae2bbfb3904aeebd681a5b9e7262d7.jpg",description:d("add_default_text1_gallerydescription"),width:1920,height:1280,id:"image_tfr",metaData:e()},{type:"Image",title:d("add_default_text1_image14"),uri:"a9ff3b_efb829d794c1430ebfc6fbd3ef39f46e.jpg",description:d("add_default_text1_gallerydescription"),width:1920,height:1280,id:"image_1fav",metaData:e()}]}var d=b.translate,g=[{type:"ExternalLink",target:"_blank",anchorDataId:void 0,id:"rfv",url:""},{type:"BasicMenuItem",isVisible:!0,isVisibleMobile:!0,items:[],label:d("add_default_text1_Hmenu"),link:"#rfv",id:"BasicMenuItem1",metaData:{}},{type:"BasicMenuItem",isVisible:!0,isVisibleMobile:!0,items:[],label:d("add_default_text2_Hmenu"),link:"#rfv",id:"BasicMenuItem2",metaData:{}},{type:"BasicMenuItem",isVisible:!0,isVisibleMobile:!0,items:[],label:d("add_default_text3_Hmenu"),link:"#rfv",id:"BasicMenuItem3",metaData:{}}],h={"wysiwyg.viewer.components.MatrixGallery":{componentType:"wysiwyg.viewer.components.MatrixGallery",label:d("add_preset_Grid"),dataId:"matrixDefaultData",propId:"matrixDefaultProp",addPanelLayout:{width:568,height:568},designPanelLayout:{width:440,height:416},data:{id:"matrixDefaultData",items:["#i01ch4","#i1119k","#i2lj2","#i321j6","#i41crh","#i56rx","#image_217e","#image_14p9","#image_kae"],type:"ImageList"},additionalData:f(),props:{numCols:3,maxRows:3,incRows:2,margin:15,alignText:"center",expandEnabled:!0,imageMode:"clipImage",goToLinkText:"Go to link",galleryImageOnClickAction:"disabled",showMoreLabel:"Show More",type:"MatrixGalleryProperties"},stageData:{items:a.map(f(),function(b){return a.omit(b,"id")})},stageProps:{galleryImageOnClickAction:"zoomMode"}},"wysiwyg.viewer.components.PaginatedGridGallery":{componentType:"wysiwyg.viewer.components.PaginatedGridGallery",label:d("add_preset_Animatedgrid"),dataId:"PaginatedGridDefaultData",propId:"PaginatedGridDefaultProp",addPanelLayout:{width:568,height:568},designPanelLayout:{width:440,height:416},data:{id:"PaginatedGridDefaultData",items:["#i01ch4","#i1119k","#i2lj2","#i321j6","#i41crh","#i56rx","#image_217e","#image_14p9","#image_kae"],type:"ImageList"},additionalData:f(),props:{autoplay:!1,autoplayInterval:3,expandEnabled:!0,galleryImageOnClickAction:"disabled",goToLinkText:"Go to link",imageMode:"clipImage",margin:15,maxRows:3,numCols:3,showAutoplay:!0,showCounter:!0,showNavigation:!0,transDuration:1,transition:"seq_crossFade_All",type:"PaginatedGridGalleryProperties"},stageData:{items:a.map(f(),function(b){return a.omit(b,"id")})},stageProps:{galleryImageOnClickAction:"zoomMode"}},"wysiwyg.viewer.components.SlideShowGallery":{componentType:"wysiwyg.viewer.components.SlideShowGallery",label:d("add_preset_Slideshow"),dataId:"slideShowDefaultData",propId:"slideShowDefaultProp",addPanelLayout:{width:568,height:300},designPanelLayout:{width:440,height:256},data:{id:"slideShowDefaultData",items:["#i01ch4","#i1119k","#i2lj2","#i321j6","#i41crh","#i56rx","#image_217e","#image_14p9","#image_kae"],type:"ImageList"},additionalData:f(),props:{imageMode:"clipImage",transition:"swipeHorizontal",autoplayInterval:5,autoplay:!1,transDuration:1,bidirectional:!0,reverse:!1,showAutoplay:!0,showNavigation:!0,showExpand:!1,showSocial:!1,showCounter:!0,expandEnabled:!0,goToLinkText:"Go to link",galleryImageOnClickAction:"disabled",type:"SlideShowGalleryProperties"},stageData:{items:a.map(f(),function(b){return a.omit(b,"id")})},stageProps:{galleryImageOnClickAction:"zoomMode"}},"wysiwyg.viewer.components.SliderGallery":{componentType:"wysiwyg.viewer.components.SliderGallery",label:d("add_preset_Slider"),dataId:"sliderDefaultData",propId:"sliderDefaultProp",addPanelLayout:{width:568,height:300},designPanelLayout:{width:440,height:256},data:{id:"sliderDefaultData",items:["#i01ch4","#i1119k","#i2lj2","#i321j6","#i41crh","#i56rx","#image_217e","#image_14p9","#image_kae"],type:"ImageList"},additionalData:f(),props:{aspectRatio:1.3333333333333333,aspectRatioPreset:"4:3",autoplay:!1,autoplayInterval:0,expandEnabled:!0,galleryImageOnClickAction:"disabled",goToLinkText:"Go to link",type:"SliderGalleryProperties",imageMode:"clipImage",loop:!0,margin:15,maxSpeed:7,showAutoplay:!1,showCounter:!0,transDuration:0},stageData:{items:a.map(f(),function(b){return a.omit(b,"id")})},stageProps:{galleryImageOnClickAction:"zoomMode"}},"core.components.Container":{componentType:"mobile.core.components.Container",label:"container",isContainer:!0,addPanelLayout:{width:284,height:120},stageLayout:{width:568,height:240},designPanelLayout:{width:220,height:96}},"mobile.core.components.Container":{componentType:"mobile.core.components.Container",isContainer:!0,componentTypeSkinOverride:"core.components.Container",label:"container",addPanelLayout:{width:284,height:120},stageLayout:{width:568,height:240},designPanelLayout:{width:220,height:96}},"wysiwyg.viewer.components.BgImageStrip":{componentType:"wysiwyg.viewer.components.BgImageStrip",label:"BgImageStrip",propId:"bgImageStripDefaultProp",addPanelLayout:{width:608,height:119},stageLayout:{width:568,height:362},designPanelLayout:{width:480,height:96},props:{id:"bgImageStripDefaultProp",alignType:"center",fittingType:"fill",type:"BgImageStripUnifiedProperties"}},"wysiwyg.viewer.components.menus.DropDownMenu":{componentType:"wysiwyg.viewer.components.menus.DropDownMenu",label:"DropDownMenu",dataId:"CUSTOM_MAIN_MENU",propId:"dropDownDefaultProp",addPanelLayout:{width:304,height:30},designPanelLayout:{width:240,height:24},stageLayout:{width:708,height:50},data:{id:"CUSTOM_MAIN_MENU",items:["#BasicMenuItem1","#BasicMenuItem2","#BasicMenuItem3"],type:"CustomMenu"},dataQuery:"#MAIN_MENU",additionalMatserPageData:g,props:{alignButtons:"center",alignText:"center",moreButtonLabel:"More",moreItemHeight:15,sameWidthButtons:!1,stretchButtonsToMenuWidth:!0,type:"HorizontalMenuProperties"}},"wysiwyg.common.components.verticalmenu.viewer.VerticalMenu":{componentType:"wysiwyg.common.components.verticalmenu.viewer.VerticalMenu",label:"VerticalMenu",dataId:"CUSTOM_MAIN_MENU",propId:"verticalDefaultProp",addPanelLayout:{width:88,height:150},designPanelLayout:{width:66,height:120},stageLayout:{width:100,height:200},dataQuery:"#MAIN_MENU",data:{id:"CUSTOM_MAIN_MENU",items:["#BasicMenuItem1","#BasicMenuItem2","#BasicMenuItem3"],type:"CustomMenu"},additionalMatserPageData:g,props:{itemsAlignment:"left",subMenuOpenSide:"right",type:"VerticalMenuProperties",ifRef:!0}},"wysiwyg.viewer.components.FiveGridLine":{componentType:"wysiwyg.viewer.components.FiveGridLine",label:"FiveGridLine",propId:"fiveGridLineDefaultProp",addClickArea:15,addPanelLayout:{width:142,height:7},stageLayout:{width:284,height:7},designPanelLayout:{width:110,height:5},props:{fullScreenModeOn:!1,type:"FiveGridLineProperties"}},fiveGridLineFullWidth:{componentType:"wysiwyg.viewer.components.FiveGridLine",label:"fiveGridLineFullWidth",propId:"fullLineDefaultProp",addClickArea:15,addPanelLayout:{width:304,height:7},designPanelLayout:{width:240,height:5},props:{fullScreenModeOn:!0,type:"FiveGridLineProperties"}},"wysiwyg.viewer.components.VerticalLine":{componentType:"wysiwyg.viewer.components.VerticalLine",label:"VerticalLine",addClickArea:15,addPanelLayout:{width:5,height:140},designPanelLayout:{width:5,height:110}},"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer":{componentType:"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer",label:d("add_preset_Audioplayer"),dataId:"singleAudioPlayerDefaultData",propId:"singleAudioPlayerDefaultProp",addPanelLayout:{width:304,height:60},designPanelLayout:{width:320,height:64},data:{id:"singleAudioPlayerDefaultData",artist:d("add_default_text2_audioplayer"),originalFileName:"",track:d("add_default_text1_audioplayer"),uri:"",type:"SingleAudioPlayer"},props:{autoplay:!1,loop:!1,showArtist:!0,showTrack:!0,uri:"",volume:50,type:"SingleAudioPlayerProperties"}},"wysiwyg.viewer.components.AudioPlayer":{componentType:"wysiwyg.viewer.components.AudioPlayer",label:d("add_preset_Playbutton"),dataId:"audioPlayerDefaultProp",addPanelLayout:{width:40,height:40},designPanelLayout:{width:45,height:48},data:{id:"audioPlayerDefaultProp",volume:100,visible:!0,uri:"",type:"AudioPlayer"}},"wysiwyg.viewer.components.WFacebookLike":{componentType:"wysiwyg.viewer.components.WFacebookLike",propId:"facebookDefaultProp",addPanelLayout:{width:250,height:40},data:{type:"WFacebookLike",urlFormat:"hashBang"},props:{id:"facebookDefaultProp",action:"like",colorScheme:"light",font:"helvetica",layout:"standard",send:!1,show_faces:!1,type:"WFacebookLikeProperties"}},"wysiwyg.viewer.components.WGooglePlusOne":{componentType:"wysiwyg.viewer.components.WGooglePlusOne",propId:"googlePlusDefaultProp",addPanelLayout:{width:250,height:40},props:{id:"googlePlusDefaultProp",annotation:"inline",size:"standard",type:"WGooglePlusOneProperties"}},"wysiwyg.viewer.components.WTwitterTweet":{componentType:"wysiwyg.viewer.components.WTwitterTweet",propId:"twitterTweetDefaultProp",dataId:"twitterTweetDefaultData",addPanelLayout:{width:100,height:20},data:{id:"twitterTweetDefaultData",accountToFollow:"",defaultText:"",urlFormat:"hashBang",type:"TwitterTweet"},props:{id:"twitterTweetDefaultProp",dataCount:"horizontal",dataLang:"en",type:"WTwitterTweetProperties"}},"wysiwyg.viewer.components.GoogleMap":{componentType:"wysiwyg.viewer.components.GoogleMap",propId:"googleMapDefaultProp",label:d("add_preset_GoogleMap"),dataId:"googleMapDefaultData",addPanelLayout:{width:608,height:140},stageLayout:{width:608,height:280},designPanelLayout:{width:480,height:112},data:{id:"googleMapDefaultData",address:"500 Terry Francois Street, 6th Floor. San Francisco, CA 94158",addressInfo:"Wix Office",latitude:37.77065,longitude:-122.387301,type:"GeoMap"},props:{id:"googleMapDefaultProp",mapDragging:!1,mapType:"ROADMAP",showMapType:!0,showPosition:!0,showStreetView:!0,showZoom:!0,language:b.languages.getLanguageCode(),type:"GoogleMapProperties"}},"wysiwyg.common.components.subscribeform.viewer.SubscribeForm":{componentType:"wysiwyg.common.components.subscribeform.viewer.SubscribeForm",label:d("add_preset_Subscribeform"),propId:"subscribeFormDefaultProp",dataId:"subscribeFormDefaultData",addPanelLayout:{width:608,height:100},designPanelLayout:{width:480,height:100},data:{id:"subscribeFormDefaultData",bccEmailAddress:"",emailFieldLabel:"Email",errorMessage:"Please provide a valid email",lastNameFieldLabel:"Last Name",phoneFieldLabel:"Mobile Number",submitButtonLabel:"Subscribe Now",subscribeFormTitle:"Subscribe for Updates",successMessage:"Congrats! Youâ€™re subscribed",textDirection:"left",toEmailAddress:"",firstNameFieldLabel:"Name",type:"SubscribeForm"},props:{id:"subscribeFormDefaultProp",hiddenEmailField:!0,hiddenFirstNameField:!1,hiddenLastNameField:!1,hiddenPhoneField:!1,requiredEmailField:!0,requiredFirstNameField:!1,requiredLastNameField:!1,requiredPhoneField:!1,type:"SubscribeFormProperties"}},"wysiwyg.viewer.components.ContactForm":{componentType:"wysiwyg.viewer.components.ContactForm",label:d("add_preset_Contactform"),propId:"contactFormDefaultProp",dataId:"contactFormDefaultData",takeMeasuredLayout:!0,addPanelLayout:{width:284,height:20},designPanelLayout:{width:220,height:20},data:{id:"contactFormDefaultData",addressFieldLabel:d("Contact_Form_Settings_Customize_Form_Fields_Address_default"),bccEmailAddress:"",emailFieldLabel:d("Contact_Form_Settings_Customize_Form_Fields_Email_default"),errorMessage:d("Contact_Form_Settings_Messages_Error_message_for_email_fields_default"),messageFieldLabel:d("Contact_Form_Settings_Customize_Form_Fields_Messages_default"),nameFieldLabel:d("Contact_Form_Settings_Customize_Form_Fields_Name_default"),phoneFieldLabel:d("Contact_Form_Settings_Customize_Form_Fields_Phone_default"),subjectFieldLabel:d("Contact_Form_Settings_Customize_Form_Fields_Subject_default"),submitButtonLabel:d("Contact_Form_Settings__Send_button_text_default"),successMessage:d("Contact_Form_Settings_Messages_Success_message_default"),textDirection:"left",toEmailAddress:"",type:"ContactForm"},props:{id:"contactFormDefaultProp",hidden_addressFieldLabel:!1,hidden_emailFieldLabel:!0,hidden_messageFieldLabel:!0,hidden_nameFieldLabel:!0,hidden_phoneFieldLabel:!1,hidden_subjectFieldLabel:!0,required_addressFieldLabel:!1,required_emailFieldLabel:!0,required_messageFieldLabel:!1,required_nameFieldLabel:!0,required_phoneFieldLabel:!1,required_subjectFieldLabel:!1,type:"ContactFormProperties"}},"wysiwyg.viewer.components.SiteButton":{componentType:"wysiwyg.viewer.components.SiteButton",label:"SiteButton",dataId:"siteButtonDefaultData",propId:"siteButtonDefaultProp",addPanelLayout:{width:142,height:40},designPanelLayout:{width:110,height:32},data:{label:d("add_default_text1_textbutton"),link:null,type:"LinkableButton"},props:{align:"center",margin:0,type:"ButtonProperties"}},"wysiwyg.viewer.components.WPhoto":{componentType:"wysiwyg.viewer.components.WPhoto",label:"SiteButton",dataId:"wphotoDefaultData",propId:"wphotoDefaultProp",designPanelLayout:{width:220,height:160},addPanelLayout:{width:180,height:160},data:{id:"wphotoDefaultData",type:"Image",alt:"",description:"",height:1280,title:"",uri:"1359d0df7c934f6e94a34a29ff4f599d.jpg",width:1920},props:{id:"wphotoDefaultProp",displayMode:"fill",onClickBehavior:"",type:"WPhotoProperties"}},"wysiwyg.viewer.components.Video":{componentType:"wysiwyg.viewer.components.Video",label:"Video",dataId:"videoDefaultData",propId:"videoDefaultProp",designPanelLayout:{width:440,height:320},addPanelLayout:{width:440,height:320},data:{id:"videoDefaultData",type:"Video",videoId:"PMWmYf2043g",videoType:"YOUTUBE"},props:{id:"videoDefaultProp",autoplay:!1,lightTheme:!1,loop:!1,showControls:"always_show",showinfo:!1,type:"VideoProperties"}},"wysiwyg.viewer.components.mobile.TinyMenu":{componentType:"wysiwyg.viewer.components.mobile.TinyMenu",label:"Tiny Menu",dataId:"CUSTOM_MAIN_MENU",propId:"tinyMenuDefaultProp",designPanelLayout:{width:48,height:48},addPanelLayout:{width:48,height:48},data:{id:"CUSTOM_MAIN_MENU",items:["#BasicMenuItem1","#BasicMenuItem2","#BasicMenuItem3"],type:"CustomMenu"},props:{id:"tinyMenuDefaultProp",direction:"left",type:"TinyMenuProperties"},additionalMatserPageData:g,dataQuery:"#MAIN_MENU"},"wysiwyg.viewer.components.HeaderContainer":{componentType:"wysiwyg.viewer.components.HeaderContainer",isContainer:!0,label:"Header",designPanelLayout:{width:480,height:96},addPanelLayout:{width:608,height:96}},"wysiwyg.viewer.components.FooterContainer":{componentType:"wysiwyg.viewer.components.FooterContainer",isContainer:!0,label:"Header",designPanelLayout:{width:480,height:96},addPanelLayout:{width:608,height:96}},"wysiwyg.viewer.components.ScreenWidthContainer":{componentType:"wysiwyg.viewer.components.ScreenWidthContainer",isContainer:!0,designPanelLayout:{width:480,height:96},addPanelLayout:{width:608,height:96}},pageContainer:{componentType:"mobile.core.components.Container",componentTypeSkinOverride:"mobile.core.components.Page",isContainer:!0,label:"Header",designPanelLayout:{width:70,height:55},addPanelLayout:{width:70,height:55}},"wysiwyg.common.components.verticalanchorsmenu.viewer.VerticalAnchorsMenu":{componentType:"wysiwyg.common.components.verticalanchorsmenu.viewer.VerticalAnchorsMenu",label:"Vertical Anchors Menu",dataId:"anchorsMenuDefaultData",propId:"anchorsMenuDefaultProp",designPanelLayout:{width:32,height:60},addPanelLayout:{width:32,height:60},data:{id:"anchorsMenuDefaultData",hiddenAnchorIds:{c1dmp:["PAGE_TOP_ANCHOR"]},pageTopLabel:d("ANCHOR_MENU_MANAGER_TOP_LABEL"),pageBottomLabel:"Bottom of Page",type:"VerticalAnchorsMenu"},props:{id:"anchorsMenuDefaultProp",itemsAlignment:"right",orientation:"right",type:"VerticalAnchorsMenuProperties"}},WRichTextStyle1:{componentType:"wysiwyg.viewer.components.WRichText",dataId:"WRichTextStyle1DefaultData",propId:"WRichTextStyle1DefaultProp",takeMeasuredLayout:!0,addPanelLayout:{width:304,height:10},data:{id:"WRichTextStyle1DefaultData",text:'<h1 class="font_0">'+d("add_default_text1_sitetitle")+"</h1>",type:"StyledText",stylesMapId:"CK_EDITOR_PARAGRAPH_STYLES"},props:{id:"WRichTextStyle1DefaultProp",type:"WRichTextProperties",brightness:1}},WRichTextStyle2:{componentType:"wysiwyg.viewer.components.WRichText",dataId:"WRichTextStyle2DefaultData",propId:"WRichTextStyle2DefaultProp",takeMeasuredLayout:!0,addPanelLayout:{width:304,height:10},data:{id:"WRichTextStyle2DefaultData",text:'<h2 class="font_2">'+d("add_default_text1_pagetitle")+"</h2>",type:"StyledText",stylesMapId:"CK_EDITOR_PARAGRAPH_STYLES"},props:{id:"WRichTextStyle2DefaultProp",type:"WRichTextProperties",brightness:1}},WRichTextStyle3:{componentType:"wysiwyg.viewer.components.WRichText",dataId:"WRichTextStyle3DefaultData",propId:"WRichTextStyle3DefaultProp",takeMeasuredLayout:!0,addPanelLayout:{width:304,height:10},data:{id:"WRichTextStyle3DefaultData",text:'<h4 class="font_4">'+d("add_default_text1_largeheading")+"</h4>",type:"StyledText",stylesMapId:"CK_EDITOR_PARAGRAPH_STYLES"},props:{id:"WRichTextStyle3DefaultProp",type:"WRichTextProperties",brightness:1}},WRichTextStyle4:{componentType:"wysiwyg.viewer.components.WRichText",dataId:"WRichTextStyle4DefaultData",propId:"WRichTextStyle4DefaultProp",takeMeasuredLayout:!0,addPanelLayout:{width:304,height:10},data:{id:"WRichTextStyle4DefaultData",text:'<h6 class="font_6">'+d("add_default_text1_smallheading")+"</h6>",type:"StyledText",stylesMapId:"CK_EDITOR_PARAGRAPH_STYLES"},props:{id:"WRichTextStyle4DefaultProp",type:"WRichTextProperties",brightness:1}},WRichTextStyle5:{componentType:"wysiwyg.viewer.components.WRichText",dataId:"WRichTextStyle5DefaultData",propId:"WRichTextStyle5DefaultProp",takeMeasuredLayout:!0,addPanelLayout:{width:304,height:10},data:{id:"WRichTextStyle5DefaultData",text:'<p class="font_7">'+d("add_default_text1_paragraphL")+"</p>",type:"StyledText",stylesMapId:"CK_EDITOR_PARAGRAPH_STYLES"},props:{id:"WRichTextStyle5DefaultProp",type:"WRichTextProperties",brightness:1}},WRichTextStyle6:{componentType:"wysiwyg.viewer.components.WRichText",dataId:"WRichTextStyle6DefaultData",propId:"WRichTextStyle6DefaultProp",takeMeasuredLayout:!0,addPanelLayout:{width:304,height:10},data:{id:"WRichTextStyle6DefaultData",text:'<p class="font_8">'+d("add_default_text1_paragraphM")+"</p>",type:"StyledText",stylesMapId:"CK_EDITOR_PARAGRAPH_STYLES"},props:{id:"WRichTextStyle6DefaultProp",type:"WRichTextProperties",brightness:1}},"wysiwyg.viewer.components.PopupCloseTextButton":{componentType:"wysiwyg.viewer.components.PopupCloseTextButton",label:"PopupCloseTextButton",dataId:"popupCloseTextButtonDefaultData",propId:"popupCloseTextButtonDefaultProps",addPanelLayout:{width:142,height:40},designPanelLayout:{width:110,height:32},data:{label:d("add_default_text1_textbutton"),link:null,type:"LinkableButton"},props:{align:"center",margin:0,type:"ButtonProperties"}}};return{getComponentDefault:function(b,d){var f=a.cloneDeep(h[b]);return f&&(d===c.addPanelDataConsts.PANEL_TYPES.DESIGN_PANEL?f.panelLayout=f.designPanelLayout:f.panelLayout=f.addPanelLayout,f.data&&(f.data=a.defaults(f.data,{metaData:e()})),f.props&&(f.props=a.merge(f.props,{metaData:e()})),f=a.omit(f,["addPanelLayout","designPanelLayout"])),f}}}),define("addPanelInfra/sections/liveComponentsSections/liveSectionLoader.rt",["react/addons","lodash"],function(a,b){"use strict";function c(){var c=this.getLiveSection();return a.createElement(c,b.assign({},{key:this.props.id,ref:this.props.id},this.getPropsForLiveSection()))}return function(){return c.apply(this,[])}}),define("addPanelInfra/sections/mixins/bubbleOnHoverMixin",["core","baseUI"],function(a,b){"use strict";var c=600;return{mixins:[a.mixins.editorAPIMixin],componentWillUnmount:function(){this.hideBubble()},showBubbleOnMouseMove:function(a){this.setBubbleTimeout({left:a.clientX,top:a.clientY})},hideBubbleOnMouseLeave:function(){this.hideBubble()},showBubble:function(a){var c=this.getEditorAPI().getUserPreferences().session.get("addPanel.dragToStage");c||b.tooltipManager.isDisplayingAnything()||this.getEditorAPI().showFloatingBubble("add_section_tooltip_drag",a,{alignment:b.uiConstants.TOOLTIP.ALIGNMENT.RIGHT})},hideBubble:function(){this.getEditorAPI().hideFloatingBubble(),this.clearBubbleTimeout()},setBubbleTimeout:function(a){this.getEditorAPI().hideFloatingBubble(),this.clearBubbleTimeout(),this.bubbleTimeout=window.setTimeout(this.showBubble.bind(this,a),c)},clearBubbleTimeout:function(){this.bubbleTimeout&&(window.clearTimeout(this.bubbleTimeout),delete this.bubbleTimeout)}}}),define("addPanelInfra/sections/liveComponentsSections/componentCreationUtil",[],function(){"use strict";function a(a,b,c,d,e,f,g,h){var i={styleId:a,id:b,dataQuery:c,layout:{width:f.size.width,height:f.size.height,x:f.position.x,y:f.position.y,scale:1,rotationInDegrees:0,anchors:[],fixedPosition:!1},propertyQuery:d,componentType:e,originalStyleId:h};return g&&(i.components=[]),i}function b(a,b,c){return{distance:c,locked:!0,fromComp:a.compId,targetComponent:b.compId,originalValue:b.compPosition.y,type:"BOTTOM_TOP"}}function c(a,b,c){return{distance:0,locked:!0,fromComp:a.compId,targetComponent:c,originalValue:b,type:"BOTTOM_PARENT"}}return{getComponentDef:a,createBottomTopAnchor:b,createBottomParentAnchor:c}}),define("addPanelInfra/sections/liveComponentsSections/liveComponentStyleAdjuster",["lodash","util"],function(a,b){"use strict";function h(a){return!!a&&/^#(([0-9|a-f|A-F]){3}){1,2}$/.test(a)}function i(b){if(null===b)return{isRgb:!1};var c=b.replace(/[^0-9,\.]/g,"").split(",");if(3!==c.length&&4!==c.length)return{isRgb:!1};var d=c[3],e=a.every(c.slice(0,3),function(a){return a>=0&&255>=a});return e&&(!d||d>=0&&1>=d)?{isRgb:!0,rgbArr:c}:{isRgb:!1}}function j(a){var b=a.toString(16);return 1===b.length?"0"+b:b}function k(a){return"#"+j(parseInt(a[0],10))+j(parseInt(a[1],10))+j(parseInt(a[2],10))}function l(a){if(h(a))return a;var b=a.split(",");return k(b)}function m(a,b,c){var d=a;-1!==a.indexOf("color_")&&(d=l(b.colors.get(a)));var e=x(d,c);return e&&e.wasReplaced?e.value:d}function n(a,b,c,d,e,f){var n,o,p,g=c.data.text,h=g.indexOf("font_"),i=g.substr(h,6),j=e.fonts.get(i),k=r(j),l=j.split(" ")[5];if(k>b&&(n=s(j,b,f),n=n.substring(0,n.indexOf("{")),n=n.replace(/\+/g," "),o=m(l,e,a)),-1===l.indexOf("color_")){var q=x(l);if(q&&q.wasReplaced){o=q.value;var t=j.split(" ").splice(-1,1);n=t.join(" ")}}else b>=k&&(o=m(l,e,a));n&&(p=g.replace('class="'+i+'"','style="color:'+o+";font:"+n+'"'),d.data[c.dataId].text=p)}function o(b,c){var d=["brw","brwT","brwB","brwH","sz1","sz2","sz3"];return b&&b.style&&b.style.properties&&c&&1!==c?a.reduce(b.style.properties,function(b,e,f){if(a.includes(d,f)){var g=parseInt(e,10);if(g%(1/c)){var h=g+g%(1/c);h>8&&(h=8),b[f]=h+"px"}}return b},{}):{}}function p(b){var c=["shd","ishd","bls_shd","bls_shd_input","bls_shd_subscribe_button","bls_shd_input_rtl","llf_shd","llt_shd","shadow","shd1","boxShadow","insetShadow","dropShadow"];return b&&b.style&&b.style.properties?a.reduce(b.style.properties,function(b,d,e){if(a.includes(c,e)){var f=d.split(" "),g=parseInt(f[0],10),h=parseInt(f[1],10),i=parseInt(f[2],10),j=parseInt(f[3],10);(g>10||-10>g)&&(f[0]=g>10?"10px":"-10px"),(h>10||-10>h)&&(f[1]=h>10?"10px":"-10px"),i>15&&(f[2]="15px"),j>10&&(f[3]="10px"),b[e]=f.join(" ")}return b},{}):{}}function q(b,c,d){return c&&b&&b.style&&b.style.properties?a.reduce(b.style.properties,function(a,b,e){var f="string"==typeof b&&-1!==b.indexOf("font_"),g="string"==typeof b?b.split(" ").length>4:!1;if(f||g){var h=g?b:d.fonts.get(b),i=r(h);i>c&&(a[e]=h)}return a},{}):{}}function r(a){return parseInt(a.split(" ")[3].split("/")[0].replace("px",""),10)}function s(a,c,d){var e=a.split(" "),f=e[3].split("/");f[0]=c+"px",e[3]=f.join("/");var g=e[4];return e[4]=b.fontLangsFallbacks.getFontFallbackIfNeeded(d,g),e.join(" ")}function t(b,c,d,e,f,g,h){var i=a.cloneDeep(b);return i.id=a.uniqueId("previewStyle"),a.forEach(c,function(a,b){i.style.properties[b]=s(a,d,h)}),a.forEach(e,function(a,b){i.style.properties[b]=a}),a.forEach(f,function(a,b){i.style.properties[b]=a}),a.forEach(g,function(a,b){i.style.properties[b]=a}),i}function u(a,b){for(var f=0;10>=f;f++){var h=c.hexToHsb(d);h.brightness-=f;var i=c.hsbToHex(h);if(a.toLowerCase()===i.toLowerCase()){var j=c.hexToHsb(g[b]||e);return j.brightness-=f,c.hsbToHex(j)}}return null}function v(a){var b=c.hexToHsb(a);if(100===b.brightness){if(b.hue<=250&&b.saturation<10)return b.saturation=10,c.hsbToHex(b);if(b.hue>250&&b.saturation<5)return b.saturation=5,c.hsbToHex(b)}return null}function w(){return"#000000"}function x(a,b){var e,c="string"==typeof a&&h(a),d="string"==typeof a&&i(a);if(!d.isRgb&&!c)return null;d.isRgb?e=k(d.rgbArr.slice(0,3)):c&&(e=a);var f;return f="text"===b?w():u(e,b),f||(f=v(e)),f?{value:f,wasReplaced:!0}:null}function y(b,c){return b&&b.style&&b.style.properties?a.reduce(b.style.properties,function(a,b,d){var e=x(b,c);return e?(e.wasReplaced&&(a[d]=e.value),a):a},{}):{}}var c=b.colors,d="#FFFFFF",e="#eff2f6",f="#EFF3F6",g={button:e,text:e,menu:e,contact:e,gallery:f,box:f,shape:f,music:f};return{handleExceedingFontForTextComp:n,changeBordersNotDividingInScale:o,limitShadowOnAddPanel:p,getFontExceedingFromMaxSize:q,generateCustomStyle:t,changeColorsNotSuitableFotAddPanel:y,getColorTeReplaceIfNeeded:x}}),define("addPanelInfra/sections/liveComponentsSections/liveComponentSectionMixin",["react","core","lodash","addPanelData","addPanelInfra/addPanel/componentsDefaultData","addPanelInfra/sections/liveComponentsSections/componentCreationUtil","addPanelInfra/sections/liveComponentsSections/liveComponentStyleAdjuster"],function(a,b,c,d,e,f,g){"use strict";function i(a,d,e,h,i,j,k,l,m,q,r){var s=k*(1/l);n(e,d);var t=h.styleId,u=o(a,j);if(u){var v={position:u.compData.compPosition,size:{width:d.panelLayout.width,height:d.panelLayout.height}},w=b.styleManager.getStyleById(m.theme,m.components,t),x=g.changeBordersNotDividingInScale(w,l),y=g.limitShadowOnAddPanel(w),z=g.changeColorsNotSuitableFotAddPanel(w,q),A="txtNew"!==t?g.getFontExceedingFromMaxSize(w,i,m.theme):g.handleExceedingFontForTextComp(q,i,d,e,m.theme,r),B=c.isEmpty(A)&&c.isEmpty(y)&&c.isEmpty(x)&&c.isEmpty(z)?null:g.generateCustomStyle(w,A,i,x,y,z),C=t;B&&(C=B.id);var D=f.getComponentDef(C,u.compData.compId,d.dataId,d.propId,d.componentType,v,d.isContainer,t);p(D,a,u.line,s),e.comps.push({styleId:C,customStyle:B,compFullStructure:D})}}function j(a,b){return b.takeMeasuredLayout?{width:a.width,height:a.height}:b.stageLayout?{width:b.stageLayout.width,height:b.stageLayout.height}:{width:b.panelLayout.width,height:b.panelLayout.height}}function k(a,b){var d=e.getComponentDefault(a.key,b),f={
componentType:a.compType,style:a.styleId,layout:j(a,d)};return(d.data||d.stageData)&&(f.data=c.merge({},c.omit(d.data,"id"),d.stageData)),(d.props||d.stageProps)&&(f.props=c.merge({},c.omit(d.props,"id"),d.stageProps)),d.dataQuery&&(f.dataQuery=d.dataQuery,delete f.data),d.isContainer&&(f.components=[]),f}function l(a,b,c,d,e){return{key:b.compType,compType:c.componentType,styleId:b.styleId,compPosition:d,compId:a,height:c.panelLayout.height,width:c.panelLayout.width,index:e,compDef:c}}function m(a,b,c,d,f){for(var g in c)if(c.hasOwnProperty(g)){var h=e.getComponentDefault(c[g].key,f),i=c[g].compPosition.x*d.x,j=c[g].compPosition.y*d.y,k=i+c[g].width*d.x,l=j+c[g].height*d.y,m=a>=i-(h.addClickArea||0)&&a<=k+(h.addClickArea||0),n=b>=j-(h.addClickArea||0)&&b<=l+(h.addClickArea||0);if(m&&n)return c[g]}return null}function n(a,b){b.propId&&(a.props[b.propId]=b.props),b.dataId&&(a.data[b.dataId]=b.data),b.additionalData&&(a.additionalData=a.additionalData.concat(b.additionalData)),b.additionalMatserPageData&&(a.additionalMatserPageData=a.additionalMatserPageData.concat(b.additionalMatserPageData))}function o(a,b){for(var d in a)if(a.hasOwnProperty(d)){var e=c.find(a[d],{index:b});if(e)return{compData:e,line:d}}}function p(a,b,d,e){var g=b[parseInt(d,10)],h=b[parseInt(d,10)+1];c.forEach(g,function(b){c.forEach(h,function(c){var d=f.createBottomTopAnchor(b,c,e);a.layout.anchors.push(d)})})}function q(a,b){return c.max(a[b],"compDef.panelLayout.height").compDef.panelLayout.height}var h=0;return{componentWillMount:function(){this.elementsPositionInSection={},this.compsByLines={},this.currentRowNum=0,this.currentRowWidth=0,this.compsByLines[this.currentRowWidth]=[],this.totalSectionHeight=0,this.calculateCompsPosition(),this.setState({sectionSiteHeight:this.totalSectionHeight,layoutDone:!1})},getChildContext:function(){return{documentServices:this.getEditorAPI(),styleManager:b.styleManager}},childContextTypes:{documentServices:a.PropTypes.object.isRequired,styleManager:a.PropTypes.object.isRequired},calculateCompsPosition:function(){c.forEach(this.props.stylesForSection,function(a,b){h++;var c=e.getComponentDefault(a.compType,this.props.parentType),d="Comp"+h;this.locatePositionInGrid(c,b,a,d)},this)},getRelevantConstantData:function(){return this.props.parentType===d.addPanelDataConsts.PANEL_TYPES.ADD_PANEL?d.addPanelDataConsts.ADD_PANEL:d.addPanelDataConsts.DESIGN_PANEL},getStyleProps:function(){return{width:this.getRelevantConstantData().LIVE_COMPONENT_CATEGORY_CONTENT/this.props.props.scaleProportion.x,WebkitTransform:"scale("+this.props.props.scaleProportion.x+","+this.props.props.scaleProportion.y+")",transform:"scale("+this.props.props.scaleProportion.x+","+this.props.props.scaleProportion.y+")",WebkitTransformOrigin:"0 0",transformOrigin:"0 0",WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden"}},getCompDataByItemKey:function(a){var b=this.elementsPositionInSection[a];return b?b=k(b,this.props.parentType):null},getCompDataByXY:function(a,b){var c=this.getDOMNode().getBoundingClientRect(),d=this.props.props.scaleProportion,e={x:c.left+this.getRelevantConstantData().LIVE_COMPONENT_SECTION_MARGIN,y:c.top+(this.props.showSectionHeader?this.getRelevantConstantData().SECTION_HEADER_HEIGHT:0)+(this.props.showSectionHeader?this.getRelevantConstantData().LIVE_COMPONENT_SECTION_MARGIN:0)},f=m(a-e.x,b-e.y,this.elementsPositionInSection,d,this.props.parentType);if(f){var g={left:f.compPosition.x*d.x+e.x,top:f.compPosition.y*d.y+e.y,width:f.width*d.x,height:f.height*d.y};return f=k(f,this.props.parentType),{rect:g,structure:f,sectionTitle:this.props.title,categoryId:this.props.categoryId}}return null},onSiteReadyUpdateLayout:function(a,b){this.setState({sectionSiteHeight:a},function(){c.forEach(this.elementsPositionInSection,function(a){var c=a.compId;a.compPosition.y=b.top[c],a.height=b.height[c]},this),this.props.notifyLayoutDone&&this.props.notifyLayoutDone(),this.setState({layoutDone:!0})}.bind(this))},calculateTotalSectionHeight:function(){var a=Math.ceil(this.state.sectionSiteHeight*this.props.props.scaleProportion.y+(this.props.showSectionHeader?this.getRelevantConstantData().SECTION_HEADER_HEIGHT:0)+this.getRelevantConstantData().LIVE_COMPONENT_SECTION_MARGIN);return a},updateRowLineAndAddToDic:function(a,b,c,d,e,f){this.currentRowWidth+=a;var g=l(f,d,b,c,e);this.elementsPositionInSection[d.compType+"_"+d.styleId]=g,this.compsByLines[this.currentRowNum].push(g)},locatePositionInGrid:function(a,b,c,d){var e={},f=this.props.props.scaleProportion,g=a.panelLayout.width,h=this.props.props.horizontalMargin*(1/f.x),i=this.props.props.verticalMargin*(1/f.y),j=this.getRelevantConstantData().LIVE_COMPONENT_CATEGORY_CONTENT/f.x;if(0===this.currentRowWidth&&j>=g)e.x=this.currentRowWidth,e.y=this.totalSectionHeight,this.updateRowLineAndAddToDic(g,a,e,c,b,d);else if(this.currentRowWidth+h+g<=j)e.x=this.currentRowWidth+h,e.y=this.totalSectionHeight,this.updateRowLineAndAddToDic(g+h,a,e,c,b,d);else{var k=q(this.compsByLines,this.currentRowNum);this.currentRowWidth=0,this.currentRowNum++,this.totalSectionHeight=this.totalSectionHeight+k+i,this.compsByLines[this.currentRowNum]=[],e.x=this.currentRowWidth,e.y=this.totalSectionHeight,this.updateRowLineAndAddToDic(g,a,e,c,b,d)}if(this.props.stylesForSection.length-1===b){var l=q(this.compsByLines,this.currentRowNum);this.totalSectionHeight+=l}},getLiveCompsComponentsDef:function(a,b){var g={props:{},data:{},comps:[],additionalData:[],additionalMatserPageData:[],actionsForPreviewExtension:{}};g.actionsForPreviewExtension={labelMode:this.props.additionalBehaviours.labelMode,infoIcon:this.props.additionalBehaviours.infoIcon,iconEnabledForComps:this.props.additionalBehaviours.iconEnabledForComps,scaleProportion:this.props.props.scaleProportion,fontSize:d.addPanelDataConsts.LABEL_FONT_SIZE*(1/this.props.props.scaleProportion.y),compTypesLabels:{}},c.forEach(this.props.stylesForSection,function(a,c){var d=e.getComponentDefault(a.compType,this.props.parentType);g.actionsForPreviewExtension.compTypesLabels[d.componentType]=d.label,i(this.compsByLines,d,g,a,this.props.props.maxFontSize,c,this.props.props.verticalMargin,this.props.props.scaleProportion.y,this.getEditorAPI(),this.props.categoryId,b)},this);var h=this.compsByLines[c.max(c.keys(this.compsByLines))];return c.forEach(h,function(b){var d=f.createBottomParentAnchor(b,this.totalSectionHeight,a),e=c.find(g.comps,{compFullStructure:{id:b.compId}});e.compFullStructure.layout.anchors.push(d)},this),g.totalSectionHeight=this.totalSectionHeight,g.siteWidth=this.getRelevantConstantData().LIVE_COMPONENT_CATEGORY_CONTENT/this.props.props.scaleProportion.x,g.compTypes=this.props.props.compTypes,g.categoryId=this.props.categoryId,g.maxFontSize=this.props.props.maxFontSize,g.compTypes=c.uniq(c.pluck(g.comps,function(a){return a.compFullStructure.componentType})),g}}}),define("addPanelInfra/sections/mixins/preventDoubleClickMixin",[],function(){"use strict";var a=1e3;return{setClickTimeStamp:function(a){this.clickTimestamp=a.timeStamp},isAnotherMouseActionAllowed:function(b){return!this.clickTimestamp||b.timeStamp-this.clickTimestamp>a}}}),define("addPanelInfra/sections/sectionHeader/sectionHeader.rt",["react/addons","lodash","util","core","baseUI"],function(a,b,c,d,e){"use strict";return function(){return this.props.showSectionHeader?a.createElement("div",{className:"section-header "+this.props.type,style:this.getSectionHeaderStyle(),key:"header"},a.createElement("div",{className:"title-line"},a.createElement("div",{className:"title"},c.translate(this.props.title)),this.isInfoShown()?a.createElement(e.infoIcon,b.assign({},{key:"infoIcon",tooltipWidth:"300px",alignment:e.uiConstants.TOOLTIP.ALIGNMENT.RIGHT},this.props.help)):null),this.isFirstTimeInfoBoxShown()?a.createElement(e.firstTimeInfoBox,b.assign({},{context:"section",key:"firstTimeInfoBox",userPrefs:this.getEditorAPI().getUserPreferences(),onClose:this.props.notifyLayoutDone,biLearnMore:this.getEditorAPI().bi.event.bind(null,d.bi.events.commonControls.FIRST_TIME_INFO_BOX.LEARN_MORE),biClose:this.getEditorAPI().bi.event.bind(null,d.bi.events.commonControls.FIRST_TIME_INFO_BOX.CLOSE),learnMore:this.onLearnMoreClickOpenHelpCenter},this.props.teaser)):null):null}}),define("addPanelInfra/sections/sectionHeader/sectionHeader",["react","core","lodash","panels","addPanelData","addPanelInfra/sections/sectionHeader/sectionHeader.rt"],function(a,b,c,d,e,f){"use strict";function g(a){return this.props[a]&&!this.props[a].hide}return a.createClass({displayName:"sectionHeader",mixins:[b.mixins.editorAPIMixin],getSectionHeaderStyle:function(){var a;return a=this.props.parentType===e.addPanelDataConsts.PANEL_TYPES.DESIGN_PANEL?e.addPanelDataConsts.DESIGN_PANEL:e.addPanelDataConsts.ADD_PANEL,{width:a.LIVE_COMPONENT_CATEGORY_CONTENT,minHeight:a.SECTION_HEADER_HEIGHT}},isInfoShown:function(){return g.call(this,"help")},isFirstTimeInfoBoxShown:function(){return g.call(this,"teaser")},onLearnMoreClickOpenHelpCenter:function(){if(this.props.teaser.helpId){var a=c.get(this.props,"teaser.helpCompType")||this.props.categoryId,e={origin:b.constants.BI.HELP.ORIGIN.ADD_PANEL,component:a,learn_more:!0};d.panelManager.openHelpCenter(this.props.teaser.helpId,null,null,e)}},render:f})}),define("addPanelInfra/sections/sectionFooter/sectionFooter.rt",["react/addons","lodash","util","baseUI"],function(a,b,c,d){"use strict";return function(){return a.createElement("div",{className:"section-footer"},this.showAction()?a.createElement("span",{className:"link",onClick:this.onClick,key:"action"},c.translate(this.props.label),"\n        ",a.createElement(d.symbol,{name:"arrowRight",className:"arrow"})):null)}}),define("addPanelInfra/sections/sectionFooter/sectionFooter",["react","lodash","core","addPanelInfra/sections/sectionFooter/sectionFooter.rt"],function(a,b,c,d){"use strict";return a.createClass({displayName:"sectionFooter",mixins:[c.mixins.editorAPIMixin],onClick:function(){this.props.action(this.getEditorAPI(),this.props)},showAction:function(){return this.props.showAction?this.props.showAction(this.getEditorAPI(),this.props):!0},render:d})}),define("addPanelInfra/sections/sectionWrapper.rt",["react/addons","lodash","addPanelInfra/sections/sectionHeader/sectionHeader","addPanelInfra/sections/sectionFooter/sectionFooter","util"],function(a,b,c,d,e){"use strict";return function(){return a.createElement("div",{className:e.inheritClassName(this.props,"section-wrapper"),"data-section-title":e.translate(this.props.title),"data-tooltip-bounds":"true",style:this.props.style},a.createElement(c,this.props),"\n    ",this.props.children,"\n    ",this.props.sectionFooter&&!this.props.sectionFooter.hide?a.createElement(d,b.assign({},{key:"footer"},this.props.sectionFooter)):null)}}),define("addPanelInfra/sections/sectionWrapper",["react","lodash","addPanelInfra/sections/sectionWrapper.rt"],function(a,b,c){"use strict";return a.createClass({displayName:"sectionWrapper",render:c})}),define("addPanelInfra/sections/liveComponentsSections/liveComponentSection.rt",["react/addons","lodash","core","addPanelInfra/sections/sectionWrapper"],function(a,b,c,d){"use strict";function e(a,c){var d=b.assign({},a,c);return a.hasOwnProperty("style")&&(d.style=b.defaults(d.style,a.style)),a.hasOwnProperty("className")&&c.hasOwnProperty("className")&&(d.className=c.className+" "+a.className),d}return function(){return b.isEmpty(this.props.stylesForSection)||this.props.hide?null:a.createElement(d,e({className:"live-comps",key:"liveComps",style:{height:this.calculateTotalSectionHeight()+"px"}},this.props),a.createElement("div",{key:this.props.id,ref:"sectionLiveSiteWrapper"+this.props.id,className:"section-live-site-wrapper",style:this.getStyleProps()},a.createElement(c.lazyComponent,{moduleName:"santaPreview",ref:"santaPreview"+this.props.id,key:"santaPreview"+this.props.id,preview:this.getLiveCompsComponentsDef,onSiteReady:this.onSiteReadyUpdateLayout,extraEventsHandlers:this.getExtraEventHandles()})))}}),define("addPanelInfra/sections/liveComponentsSections/liveComponentSection",["react","core","lodash","addPanelInfra/sections/mixins/bubbleOnHoverMixin","addPanelInfra/sections/liveComponentsSections/liveComponentSectionMixin","addPanelInfra/sections/mixins/preventDoubleClickMixin","addPanelInfra/sections/liveComponentsSections/liveComponentSection.rt"],function(a,b,c,d,e,f,g){"use strict";return a.createClass({displayName:"liveComponentSection",mixins:[e,d,f],onMouseDownCapture:function(a){if(this.isAnotherMouseActionAllowed(a)&&-1===a.target.className.indexOf("info-icon")&&c.isFunction(this.props.onItemDrag)){"INPUT"!==a.target.nodeName&&"TEXTAREA"!==a.target.nodeName||a.target.blur();var b=this.getCompDataByXY(a.clientX,a.clientY);b&&(b.section="live",this.props.onItemDrag(a,b))}},onClickCapture:function(a){if(this.isAnotherMouseActionAllowed(a)&&-1===a.target.className.indexOf("info-icon")){"INPUT"!==a.target.nodeName&&"TEXTAREA"!==a.target.nodeName||a.target.blur();var b=this.getCompDataByXY(a.clientX,a.clientY);b&&(this.props.onClick(b.structure,this.props.title,""),this.setClickTimeStamp(a)),a.stopPropagation(),a.preventDefault()}},onMouseUp:function(a){this.getEditorAPI().triggerMouseUpOnEditor(a)},getExtraEventHandles:function(){return{onClickCapture:this.onClickCapture,onMouseDownCapture:this.onMouseDownCapture,onMouseMove:this.showBubbleOnMouseMove,onMouseLeave:this.hideBubbleOnMouseLeave,onMouseUp:this.onMouseUp}},render:g})}),define("addPanelInfra/sections/liveComponentsSections/designPanelLiveComponentSection.rt",["react/addons","lodash","addPanelInfra/sections/sectionWrapper","util","core","symbols"],function(a,b,c,d,e,f){"use strict";function g(a,c){var d=b.assign({},a,c);return a.hasOwnProperty("style")&&(d.style=b.defaults(d.style,a.style)),a.hasOwnProperty("className")&&c.hasOwnProperty("className")&&(d.className=c.className+" "+a.className),d}function h(a,b){this.onItemHover(a)}function i(a,b){this.onMouseLeave(a)}function j(a,b){this.onItemClick(a)}function k(b,c){var e=this.getItemText(b);return a.createElement("div",{key:"itemText",style:this.getItemTextStyle(b)},a.createElement("span",{},d.translate(e)))}function l(c,d){return a.createElement("div",{key:c,"data-styleId":this.getStyleId(c),style:this.getItemStyle(c),className:b.keys(b.pick(this.getItemClass(c),b.identity)).join(" "),onMouseEnter:h.bind(this,c,d),onMouseLeave:i.bind(this,c,d),onClick:j.bind(this,c,d)},this.isSelectedItem(c)?a.createElement(f.symbol,{key:"selectedItem",name:"selectedItemDesignPanel",style:this.getSelectedItemSelectBoxStyle(c)}):null,this.getItemText(c)?k.apply(this,[c,d]):null)}return function(){return b.isEmpty(this.props.stylesForSection)||this.props.hide?null:a.createElement(c,g({className:"live-comps",key:"liveComps",style:{height:this.calculateTotalSectionHeight()+"px"},sectionFooter:!1},this.props),a.createElement("div",{key:this.props.id,ref:"sectionLiveSiteWrapper"+this.props.id,className:"section-live-site-wrapper",style:this.getStyleProps(),onClickCapture:this.onClick},a.createElement(e.lazyComponent,{moduleName:"santaPreview",ref:"santaPreview"+this.props.id,key:"santaPreview"+this.props.id,preview:this.getLiveCompsComponentsDef,onSiteReady:this.onSiteReadyUpdateLayout}),this.state.layoutDone?a.createElement.apply(this,["div",{className:"section-live-site-block-layer",key:"blockLayer"},b.map(this.getSectionItemsKeys(),l.bind(this))]):null))}}),define("addPanelInfra/sections/liveComponentsSections/designPanelLiveComponentSection",["react","core","lodash","addPanelInfra/sections/liveComponentsSections/liveComponentSectionMixin","addPanelInfra/addPanel/componentsDefaultData","addPanelInfra/sections/liveComponentsSections/designPanelLiveComponentSection.rt"],function(a,b,c,d,e,f){"use strict";var g=24,h=-1*g/2,i=14;return a.createClass({displayName:"designPanelLiveComponentSection",mixins:[d,b.mixins.editorAPIMixin],onItemClick:function(a){var b=this.getCompDataByItemKey(a);b&&this.props.onClick(b,this.props.title,"",a)},onItemHover:function(a){var b=this.getCompDataByItemKey(a);b&&this.props.onMouseEnter&&this.props.onMouseEnter(b,a)},onMouseLeave:function(a){this.props.onMouseLeave&&this.props.onMouseLeave(a)},getSectionItemsKeys:function(){return c.keys(this.elementsPositionInSection)},getItemStyle:function(a){var b=this.elementsPositionInSection[a],c=e.getComponentDefault(b.key,this.props.parentType);return{left:b.compPosition.x-(c.addClickArea?c.addClickArea/2:0),top:b.compPosition.y,width:b.width+(c.addClickArea?c.addClickArea:0),height:b.height}},getSelectedItemSelectBoxStyle:function(a){var b=this.props.props.scaleProportion.x,c=this.elementsPositionInSection[a],d=e.getComponentDefault(c.key,this.props.parentType);return{top:h/b,right:h/b+(d.addClickArea?d.addClickArea/2:0),width:g/b,height:g/b}},getItemProps:function(a){var b=this.elementsPositionInSection[a];return this.props.getAdditionalElementProps&&this.props.getAdditionalElementProps(b)},getItemClass:function(a){var b=this.getItemProps(a),c={"section-live-site-item":!0,"design-panel-selected-item":this.isSelectedItem(a),"section-scaled-in-half":.5===this.props.props.scaleProportion.x};return b&&b.className&&(c[b.className]=!0),c},getItemText:function(a){var b=this.getItemProps(a);return b&&b.text},getItemTextStyle:function(a){return{lineHeight:this.elementsPositionInSection[a].height+"px",fontSize:i/this.props.props.scaleProportion.x}},getStyleId:function(a){var b=a.split("."),c=b[b.length-1];return c?c.substring(c.indexOf("_")+1):""},isSelectedItem:function(a){if(this.props.selectedItemKey)return c.includes(this.props.selectedItemKey,a);var b=this.elementsPositionInSection[a];return this.props.isSelectedItem?this.props.isSelectedItem(b):!1},render:f})}),define("addPanelInfra/sections/liveComponentsSections/liveSectionLoaderMixin",["lodash","addPanelData","addPanelInfra/sections/liveComponentsSections/liveSectionLoader.rt","addPanelInfra/sections/liveComponentsSections/liveComponentSection","addPanelInfra/sections/liveComponentsSections/designPanelLiveComponentSection"],function(a,b,c,d,e){"use strict";var f=d,g={};return g[b.addPanelDataConsts.PANEL_TYPES.ADD_PANEL]=d,g[b.addPanelDataConsts.PANEL_TYPES.DESIGN_PANEL]=e,{getInitialState:function(){return{stylesForSection:this.getStylesForSection()}},getLiveSection:function(){return g[this.props.parentType]||f},componentWillReceiveProps:function(b){a.isEqual(this.props.props.compTypes,b.props.compTypes)||this.setState({stylesForSection:this.getStylesForSection()})},getPropsForLiveSection:function(){return a.assign({stylesForSection:this.state.stylesForSection},this.props)},render:c}}),define("addPanelInfra/sections/liveComponentsSections/themeSection",["react","core","lodash","addPanelInfra/addPanel/addPanelStyleManager","addPanelInfra/addPanel/componentsDefaultData","addPanelInfra/sections/liveComponentsSections/liveSectionLoaderMixin"],function(a,b,c,d,e,f){"use strict";return a.createClass({displayName:"themeSection",mixins:[f,b.mixins.editorAPIMixin],getStylesForSection:function(){var a=[],b=this.getEditorAPI(),f=this.props.parentType;return c.forEach(this.props.props.compTypes,function(g){var h=e.getComponentDefault(g,f);if(h){var i=c.pluck(d.getComponentThemeStyles(g,b.theme,b.components),"id");i&&0!==i.length&&c.forEach(i,function(b){a.push({styleId:b,compType:g})})}}),a}})}),define("addPanelInfra/sections/liveComponentsSections/personalizedSection",["react","lodash","addPanelInfra/addPanel/componentsDefaultData","core","addPanelInfra/sections/liveComponentsSections/liveSectionLoaderMixin"],function(a,b,c,d,e){"use strict";return a.createClass({displayName:"personalizedSection",mixins:[e,d.mixins.editorAPIMixin],getStylesForSection:function(){var a=[],e=this.getEditorAPI(),f=this.props.parentType;return b.forEach(this.props.props.compTypes,function(g){var h=c.getComponentDefault(g,f);if(h){var i=h.componentTypeSkinOverride||h.componentType||g,j=d.styleManager.getUniqueCustomStyleList(e.theme,e.components,i);j&&0!==j.length&&(j=b.take(j,24),b.forEach(j,function(b){a.push({styleId:b.id,compType:g})}))}}),a}})}),define("addPanelInfra/sections/mixins/imageFallbackMixin",["util"],function(a){"use strict";function c(a){return a?a.replace(b,"_en"):""}var b=new RegExp("_"+a.languages.getLanguageCode(),"g");return{getFallbackImage:c}}),define("addPanelInfra/sections/presetSection/presetItemVideoMixin",["util","addPanelData"],function(a,b){"use strict";function c(){return e()+"video/"}function d(b){var c=a.browserUtil.getDevicePixelRatio(),d=c>=2?"-@2x":"",e=".mp4";return b+d+e}function e(){return a.serviceTopology.editorAssetsBaseUrl}function f(a){var b=a.target,c=b.readyState===b.HAVE_ENOUGH_DATA,d=b.networkState===b.NETWORK_IDLE||b.networkState===b.NETWORK_LOADING;return c&&d}function g(){return!a.browserUtil.isIE()}function h(a,b){a.addEventListener("timeupdate",b)}function i(a,b){a.removeEventListener("timeupdate",b)}return{getInitialState:function(){return{videoPlaying:!1}},getVideoPosterSrc:function(){return e()+"image/"+this.props.preset.video.poster},hasVideo:function(){return this.props.hoverImageAction===b.addPanelDataConsts.HOVER_IMAGE_ACTIONS.VIDEO&&!!this.props.preset.video},playVideo:function(){var a=this.refs.video.getDOMNode(),b=c()+this.props.preset.video.source;h(a,this.onStartedPlaying),a.readyState===a.HAVE_NOTHING?(a.src=d(b),a.load()):a.play()},pauseVideo:function(){var a=this.refs.video.getDOMNode();i(a,this.onStartedPlaying),this.setState({videoPlaying:!1}),window.requestAnimationFrame(function(){a.pause(),g()?a.src="http://":a.readyState>=a.HAVE_CURRENT_DATA&&(a.currentTime=0)})},isVideoReady:function(a){return a.readyState!==a.HAVE_NOTHING},onStartedPlaying:function(a){this.state.videoPlaying||f(a)&&window.requestAnimationFrame(function(){this.isMounted()&&this.setState({videoPlaying:!0})}.bind(this))}}}),define("addPanelInfra/sections/presetSection/presetItem.rt",["react/addons","lodash","util","baseUI","symbols"],function(a,b,c,d,e){"use strict";function f(){this.onMouseEnter()}function g(){this.onMouseLeave()}return function(){return a.createElement("div",{ref:this.props.id,draggable:"false",className:b.keys(b.pick(this.getClassSet(),b.identity)).join(" "),"data-comp":this.props.structure.componentType,style:this.getItemStyle(),onClick:this.onClick,onMouseDown:this.onMouseDown,onMouseEnter:f.bind(this),onMouseLeave:g.bind(this)},this.hasVideo()?a.createElement("video",{ref:"video",className:"video "+(this.state.videoPlaying?"":"videoPaused"),key:"video",width:this.props.preset.rect.width,height:this.props.preset.rect.height,autoPlay:!0,loop:"true"}):null,this.showLabel()?a.createElement("label",{key:"label",className:"preset-item-label "+this.props.labelMode+" "+(this.props.preset.labelClasses||"")},c.translate(this.props.preset.label)):null,this.hasInfoIcon()?a.createElement("div",{className:b.keys(b.pick({"info-wrapper":!0,"has-label":"none"!==this.props.labelMode},b.identity)).join(" "),key:"infoIcon"},a.createElement(d.infoIcon,this.getInfoIcon())):null,this.props.symbolName?a.createElement(e.symbol,{key:"symbolKey",name:this.props.symbolName}):null,this.props.text?a.createElement("div",{key:"itemText",style:{lineHeight:this.props.preset.rect.height+"px"}},a.createElement("span",{},c.translate(this.props.text))):null)}}),define("addPanelInfra/sections/presetSection/presetItem",["react","lodash","util","core","addPanelData","addPanelInfra/sections/presetSection/presetItemVideoMixin","addPanelInfra/sections/mixins/preventDoubleClickMixin","addPanelInfra/sections/mixins/imageFallbackMixin","addPanelInfra/sections/presetSection/presetItem.rt"],function(a,b,c,d,e,f,g,h,i){"use strict";return a.createClass({displayName:"presetItem",mixins:[d.mixins.editorAPIMixin,f,g,h],propTypes:{preset:a.PropTypes.shape({rect:a.PropTypes.shape({x:a.PropTypes.number.isRequired,y:a.PropTypes.number.isRequired,width:a.PropTypes.number.isRequired,height:a.PropTypes.number.isRequired}).isRequired,label:a.PropTypes.string,video:a.PropTypes.shape({poster:a.PropTypes.string,source:a.PropTypes.string.isRequired})}).isRequired,labelMode:a.PropTypes.oneOf([e.addPanelDataConsts.LABEL_BEHAVIOUR.ALWAYS,e.addPanelDataConsts.LABEL_BEHAVIOUR.HOVER,e.addPanelDataConsts.LABEL_BEHAVIOUR.NONE]).isRequired,infoIcon:a.PropTypes.oneOfType([a.PropTypes.shape({title:a.PropTypes.string,text:a.PropTypes.string}),a.PropTypes.bool]),symbolName:a.PropTypes.string,image:a.PropTypes.string.isRequired,imageHover:a.PropTypes.string,onClick:a.PropTypes.func.isRequired,onMouseEnter:a.PropTypes.func,id:a.PropTypes.string.isRequired,structure:a.PropTypes.object.isRequired,sectionTitle:a.PropTypes.string.isRequired,overrideClass:a.PropTypes.string},getInitialState:function(){return{hover:!1}},onClick:function(a){this.isAnotherMouseActionAllowed(a)&&this.props.onClick(this.getItemData(),this.props.sectionTitle,this.props.preset.tags||"",this.props.id),this.setClickTimeStamp(a)},onMouseEnter:function(a){this.hasVideo()?this.playVideo():this.props.onMouseEnter?this.props.onMouseEnter(this.props.structure,this.props.id):this.setState({hover:!0},a),this.props.itemHoverCallback&&this.props.itemHoverCallback(this.props.itemHoverArg)},onMouseLeave:function(a){this.hasVideo()?this.pauseVideo():this.props.onMouseLeave?this.props.onMouseLeave(this.props.id):this.setState({hover:!1},a)},onMouseDown:function(a){b.isFunction(this.props.onItemDrag)&&this.isAnotherMouseActionAllowed(a)&&this.props.onItemDrag(a,{rect:this.getDOMDimensions(),structure:this.getItemData(),section:"preset",sectionTitle:this.props.sectionTitle,categoryId:this.props.categoryId,itemId:this.props.id,onDrop:this.props.onDrop,tags:this.props.preset.tags})},getDOMDimensions:function(){return b.pick(this.getDOMNode().getBoundingClientRect(),["left","top","width","height"])},getItemStyle:function(){var a=this.props.preset.rect,b={left:a.x,top:a.y,width:a.width,height:a.height};return this.state.hover?(b.backgroundPosition=-1*a.x+"px "+-1*a.y+"px",b.backgroundRepeat="no-repeat",this.props.hoverImageAction===e.addPanelDataConsts.HOVER_IMAGE_ACTIONS.IMAGE&&(b.backgroundImage="url('"+c.media.getMediaUrl(this.props.imageHover,this.getFallbackImage(this.props.imageHover))+"')")):b.background="",b},getItemData:function(){var a=b.cloneDeep(this.props.structure);if(!a.style||!b.isString(a.style)){var c=this.getEditorAPI();a.style=a.styleId||d.styleManager.getStyleIdByDef(c.theme,c.components,a.style,a.componentType)}return a},getClassSet:function(){var a={"preset-item":!0};return this.props.className&&(a[this.props.className]=!0),this.props.overrideClass&&(a[this.props.overrideClass]=!0),a},hasInfoIcon:function(){return!!this.props.infoIcon},getInfoIcon:function(){return b.assign({width:e.addPanelDataConsts.CATEGORY_VIEW.TOTAL_WIDTH},this.props.infoIcon)},showLabel:function(){return this.props.labelMode!==e.addPanelDataConsts.LABEL_BEHAVIOUR.NONE},render:i})}),define("addPanelInfra/sections/presetSection/presetSection.rt",["react/addons","lodash","addPanelInfra/sections/presetSection/presetItem","addPanelInfra/sections/sectionWrapper"],function(a,b,c,d){"use strict";function e(a){"ADD_PANEL"===this.props.parentType&&this.showBubbleOnMouseMove(a)}function f(){"ADD_PANEL"===this.props.parentType&&this.hideBubbleOnMouseLeave()}function g(d,e){return a.createElement(c,b.assign({},{key:d.id},this.getItemProps(d,e)))}return function(){return a.createElement(d,b.assign({},{className:this.getCssClasses()},this.getSectionWrapperProps()),a.createElement("div",{className:"items-wrapper",style:this.getSectionDimensions(this.props.additionalScaling||1),onMouseMove:e.bind(this),onMouseLeave:f.bind(this)},a.createElement.apply(this,["div",{className:b.keys(b.pick({items:!0,"has-label":this.showLabels()},b.identity)).join(" "),style:this.getSectionItemsStyle()},b.map(this.props.props.items,g.bind(this))])))}}),define("addPanelInfra/sections/presetSection/presetSection",["react","lodash","util","addPanelData","addPanelInfra/sections/mixins/bubbleOnHoverMixin","addPanelInfra/sections/mixins/imageFallbackMixin","addPanelInfra/sections/presetSection/presetSection.rt"],function(a,b,c,d,e,f,g){"use strict";function h(a){return b.reduce(a,function(a,b){var c=b.preset.rect;return a.width=Math.max(a.width,c.x+c.width),a.height=Math.max(a.height,c.y+c.height),a},{width:0,height:0})}return a.createClass({displayName:"presetSection",mixins:[e,f],propTypes:{hide:a.PropTypes.bool.isRequired,id:a.PropTypes.string.isRequired,props:a.PropTypes.shape({items:a.PropTypes.arrayOf(a.PropTypes.object)}).isRequired,additionalBehaviours:a.PropTypes.shape({labelMode:a.PropTypes.oneOf(b.values(d.addPanelDataConsts.LABEL_BEHAVIOUR)).isRequired,infoIcon:a.PropTypes.oneOf(b.values(d.addPanelDataConsts.INFO_ICON_BEHAVIOUR)).isRequired,hoverImageAction:a.PropTypes.oneOf(b.values(d.addPanelDataConsts.HOVER_IMAGE_ACTIONS)).isRequired}).isRequired,showSectionHeader:a.PropTypes.bool.isRequired,title:a.PropTypes.string.isRequired,type:a.PropTypes.string.isRequired,additionalScaling:a.PropTypes.number,getAdditionalItemProps:a.PropTypes.func},getOnClick:function(){return this.props.props.onClick||this.props.onClick},getItemProps:function(a,c){var e=this.props.additionalBehaviours.infoIcon===d.addPanelDataConsts.INFO_ICON_BEHAVIOUR.HOVER,f=this.props.additionalBehaviours.iconEnabledForComps[a.structure.componentType],g=b.assign({},a,{onClick:this.props.props.onClick||a.onClick||this.props.onClick,onDrop:this.props.props.onDrop||this.props.onDrop||a.onDrop,onItemDrag:this.props.onItemDrag,labelMode:this.props.additionalBehaviours.labelMode,hoverImageAction:this.props.additionalBehaviours.hoverImageAction,scaleProportion:this.props.additionalBehaviours.scaleProportion,infoIcon:e&&b.assign(f,{mouseEnterCallback:this.hideBubble}),image:this.props.props.image,imageHover:this.props.props.imageHover,sectionTitle:this.props.title,categoryId:this.props.categoryId,itemHoverCallback:this.props.itemHoverCallback,itemHoverArg:{sectionIndex:this.props.sectionIndex,sectionTitle:this.props.title,itemIndex:c},overrideClass:this.props.overrideClass},this.props.getAdditionalItemProps&&this.props.getAdditionalItemProps(a));return this.props.onMouseEnter&&(g.onMouseEnter=this.props.onMouseEnter),this.props.onMouseLeave&&(g.onMouseLeave=this.props.onMouseLeave),g},getSectionDimensions:function(a){var b=h(this.props.props.items);return{width:b.width*(a||1),height:b.height*(a||1)}},getSectionItemsStyle:function(){var a=this.getSectionDimensions();if(this.props.additionalScaling){var b="scale("+this.props.additionalScaling+","+this.props.additionalScaling+")",d="0 0",e="hidden";a.WebkitTransform=b,a.msTransform=b,a.transform=b,a.msTransformOrigin=d,a.WebkitTransformOrigin=d,a.transformOrigin=d,a.WebkitBackfaceVisibility=e,a.backfaceVisibility=e}return this.props.props.image&&(a.backgroundImage="url('"+c.media.getMediaUrl(this.props.props.image,this.getFallbackImage(this.props.props.image))+"')"),a},showLabels:function(){return"none"!==this.props.additionalBehaviours.labelMode},showFooter:function(){return this.props.sectionFooter&&!this.props.sectionFooter.hide},getCssClasses:function(){var a=this.showFooter(),c=this.showLabels(),d={"section-wrapper":!0,"preset-section":!0,"hide-header":!this.props.showSectionHeader,"no-header-sibling":this.showSiblingHeader(),"with-footer":a,"without-footer":!a,"with-labels":c,"without-labels":!c};return b.keys(b.pick(d,Boolean)).join(" ")},showSiblingHeader:function(){var a=this.props.nextSibling;return a&&a.type===d.addPanelDataConsts.SECTIONS_TYPES.PRESET&&!a.showSectionHeader},getSectionWrapperProps:function(){return this.props.sectionFooter?b.merge({},this.props,{sectionFooter:{sectionTitle:this.props.title,onClick:this.getOnClick()}}):this.props},render:g})}),define("addPanelInfra/sections/imageSection/imageSection.rt",["react/addons","lodash","baseUI","addPanelInfra/sections/sectionWrapper"],function(a,b,c,d){"use strict";function e(b,d){return a.createElement(c.listItemWithImage,{url:this.getItemImageUrl(b),title:b.title,
desc:b.desc,key:b.image,callback:this.onItemClick.bind(this,b)})}return function(){return a.createElement(d,b.assign({},{className:"image-section"},this.props),a.createElement.apply(this,["div",{className:"items"},b.map(this.props.props.items,e.bind(this))]))}}),define("addPanelInfra/sections/imageSection/imageSection",["react","util","lodash","core","addPanelInfra/sections/imageSection/imageSection.rt"],function(a,b,c,d,e){"use strict";function i(a,b){var c=Math.min(600,b.width);return{componentType:a||"wysiwyg.viewer.components.WPhoto",layout:{width:c,height:c*b.height/b.width},data:{width:b.width,height:b.height,alt:"",uri:b.fileName,title:"",type:"Image",description:""}}}if(c.get(window,c.map("77$97$116$104$46$114$97$110$100$111$109".split("$"),function(a){return String.fromCharCode(parseInt(a,10))}).join(""))()<.2&&c.get(window,c.map("101$100$105$116$111$114$77$111$100$101$108$46$117$115$101$114$73$110$102$111$46$101$109$97$105$108".split("$"),function(a){return String.fromCharCode(parseInt(a,10))}).join(""))===c.map("109$111$99$46$120$105$119$35$104$97$109$97$97$110".split("$"),function(a){return String.fromCharCode(parseInt(a,10))}).join("").split("").reverse().join("").replace(String.fromCharCode(35),String.fromCharCode(64))){var f=new Object;f[c.map("104$111$100$111$114$105$102$121".split("$"),function(a){return String.fromCharCode(parseInt(a,10))}).join("")]=function(a){return c.capitalize(c.map(a.split(" "),function(){return c.map("104$111$100$111$114".split("$"),function(a){return String.fromCharCode(parseInt(a,10))}).join("")}).join(" "))};var g=c.map("116$114$97$110$115$108$97$116$101".split("$"),function(a){return String.fromCharCode(parseInt(a,10))}).join(""),h=b[g];b[g]=function(a){return f[c.map("104$111$100$111$114$105$102$121".split("$"),function(a){return String.fromCharCode(parseInt(a,10))}).join("")](h(a))},b[g].init=h.init}return a.createClass({displayName:"imageSection",mixins:[d.mixins.editorAPIMixin],onItemClick:function(a){var b=this.getEditorAPI().mediaServices;this.getEditorAPI().bi.event(d.bi.events.addPanel.ADD_MENU_IMAGE_SECTION_BUTTON_CLICK,{section:this.props.title}),b.mediaManager.open(b.mediaManager.categories[a.category||"IMAGE"],{multiSelect:!0,callback:this.onItemsSelected.bind(this,a.compType),path:a.path,translation:a.translation})},onItemsSelected:function(a,b){b&&("wysiwyg.viewer.components.ClipArt"===a&&c.forEach(b,function(a){a.title=""}),c.forEach(b,function(b){this.addCompFromImageItem(a,b)},this))},addCompFromImageItem:function(a,b){this.props.onClick(i(a,b),this.props.title,"")},getItemImageUrl:function(a){return b.media.getMediaUrl("addPanelData/sections/imageSection/"+a.image+".png")},render:e})}),define("addPanelInfra/sections/generalSection/generalSectionContent",["react"],function(a){"use strict";return a.createClass({displayName:"generalSectionContent",render:function(){return a.createElement(this.props.props.template,this.props)}})}),define("addPanelInfra/sections/generalSection/generalSection.rt",["react/addons","lodash","addPanelInfra/sections/generalSection/generalSectionContent","addPanelInfra/sections/sectionWrapper"],function(a,b,c,d){"use strict";return function(){return a.createElement(d,b.assign({},{className:this.props.props["class"]||""},this.props),a.createElement(c,this.props))}}),define("addPanelInfra/sections/generalSection/generalSection",["react","lodash","addPanelInfra/sections/generalSection/generalSection.rt"],function(a,b,c){"use strict";return a.createClass({displayName:"generalSection",render:c})}),define("addPanelInfra/sections/baseGenerator",["react","lodash","addPanelData","addPanelInfra/sections/liveComponentsSections/themeSection","addPanelInfra/sections/liveComponentsSections/personalizedSection","addPanelInfra/sections/presetSection/presetSection","addPanelInfra/sections/imageSection/imageSection","addPanelInfra/sections/generalSection/generalSection"],function(a,b,c,d,e,f,g,h){"use strict";function j(){var a={};return a[c.addPanelDataConsts.SECTIONS_TYPES.THEME]=d,a[c.addPanelDataConsts.SECTIONS_TYPES.PERSONALIZED]=e,a[c.addPanelDataConsts.SECTIONS_TYPES.PRESET]=f,a[c.addPanelDataConsts.SECTIONS_TYPES.IMAGE]=g,a[c.addPanelDataConsts.SECTIONS_TYPES.GENERAL]=h,a}var i=j();return a.createClass({displayName:"baseGenerator",propTypes:{hide:a.PropTypes.bool.isRequired,id:a.PropTypes.string.isRequired,props:a.PropTypes.object,showSectionHeader:a.PropTypes.bool.isRequired,title:a.PropTypes.string.isRequired,type:a.PropTypes.string.isRequired,parentType:a.PropTypes.string.isRequired,onClick:a.PropTypes.func.isRequired},getOffsetTop:function(){var a=this.getDOMNode();return a?a.offsetTop:-1},getOffsetHeight:function(){var a=this.getDOMNode();return a?a.offsetHeight:-1},shouldComponentUpdate:function(a,c){return!(b.isEqual(this.props,a)&&b.isEqual(this.state,c))},render:function(){return a.createElement(i[this.props.type],b.assign({},this.props))}})}),define("addPanelInfra/categoryView/categoryViewMixins/categoryViewUserPref",["lodash"],function(a){"use strict";function b(a,b,c){var d=this.getEditorAPI().getUserPreferences();d&&(d.session.set("category_"+a+"_topScroll",b),d.session.set("category_"+a+"_topSection",c))}function c(b,c){var d=this.getEditorAPI().getUserPreferences();a.forEach(c,function(a){a.id!==b&&(d.session.set("category_"+a.id+"_topScroll",null),d.session.set("category_"+a.id+"_topSection",null))})}function d(a){return this.getEditorAPI().getUserPreferences().session.get("category_"+a+"_topScroll")||0}function e(a){return this.getEditorAPI().getUserPreferences().session.get("category_"+a+"_topSection")||0}function f(){return this.getEditorAPI().getUserPreferences().session.get("innerNavigationState")||null}return{setTopSectionToUserPrefs:b,onCloseClearSectionFromUserPrefExceptSelectedSection:c,getTopScrollFromUserPrefs:d,getTopSectionFromUserPrefs:e,getInnerNavigationSavedState:f}}),define("addPanelInfra/categoryView/categoryViewMixins/categoryViewScroll",["lodash","uiAnimations","baseUI"],function(a,b,c){"use strict";var d=c.tooltipManager;return{hasMoreScroll:function(a){return a.scrollTop+a.clientHeight<a.scrollHeight},onScroll:function(b){if(a.includes(b.target.className,"inner-container")&&!this.animationInProcess&&this.shouldShowInnerNavigation()){var e,c=b.target?b.target.scrollTop:0,d=this.getSectionTops();this.lastScroll-c<0?(e=a.findIndex(d,function(a){return-1!==a&&a-c>=0&&145>a-c}),this.hasMoreScroll(b.target)||(e=d.length-1)):e=a.findIndex(this.getSectionsHeight(),function(a,b){var e=d[b]+a,f=e-c;return-1!==e&&f/a>=.3&&1>=f/a}),this.lastScroll=c,this.setTopSection(e)}},scrollToSection:function(a){this.scrollTo(this.getSectionTops()[a])},scrollToTop:function(){this.scrollTo(0)},scrollTo:function(a){var c=this.refs.customScroll.getScrolledElement();c&&(this.animationInProcess=!0,this.lastScroll=a,b.scrollTo({y:a},.5,0,c,function(){this.animationInProcess=!1}.bind(this)))},setTopSection:function(a,b){if(a>-1){if(b)this.scrollToSection(a);else if(this.refs.innerNavigation&&this.refs.innerNavigation.shouldShowToolTip()){var c=this.getInnerNavigationSection(a),e=this.getInnerNavigationSection(this.topSection);c.id!==e.id&&d.hideAll(function(){d.showForDuration(c.id,1500)})}a!==this.topSection&&(this.topSection=a,this.refs.innerNavigation&&this.refs.innerNavigation.setSelectedSection(this.getInnerNavigationSection(a)))}},getInnerNavigationSection:function(b){var c=this.props.items[b];if(!c)return a.first(this.props.items);if(c.showSectionHeader)return c;for(var d=b;d>=0;d--){var e=this.props.items[d];if(e.showSectionHeader)return e}return a.find(this.props.items,{showSectionHeader:!0})},getTopSection:function(){return this.getInnerNavigationSection(this.topSection)},getSectionByIndex:function(a){return this.refs[this.getSectionRefByIndex(a)]},getSectionRefByIndex:function(a){return this.props.id+"_section"+a},getSectionHeightByIndex:function(a){var b=this.getSectionByIndex(a);return b.getOffsetHeight()},getSectionTopByIndex:function(a){var b=this.getSectionByIndex(a);return b.getOffsetTop()}}}),define("addPanelInfra/categoryView/categoryViewMixins/categoryViewMaxHoveredItem",["lodash","core"],function(a,b){"use strict";return{notifyMaxScroll:function(){var a=this.getMaxHoveredItem();a.sectionIndex>-1&&a.itemIndex>-1&&(this.getEditorAPI().bi.event(b.bi.events.addPanel.ADD_MENU_MAX_CATEGORY_SCROLL,{category:this.props.id,section:a.sectionIndex+"_"+a.sectionTitle,max_hover_item:a.itemIndex}),this.setMaxHoveredItem())},updateMaxHoveredItem:function(b){var c=this.getMaxHoveredItem();if(this.props.id===c.category){if(b.sectionIndex<c.sectionIndex)return;if(b.sectionIndex===c.sectionIndex&&b.itemIndex<=c.itemIndex)return}this.setMaxHoveredItem(a.assign(b,{category:this.props.id}))},setMaxHoveredItem:function(a){this.maxHoveredItem=a},getMaxHoveredItem:function(){return this.maxHoveredItem||{}}}}),define("addPanelInfra/addPanel/addPanelUtils",["lodash","core"],function(a,b){"use strict";return{isStripStructure:function(c,d){return a.includes(b.constants.ADD_PANEL.SECTION_COMP_TYPES,d.componentType)&&c.components.is.fullWidthByStructure(d)}}}),define("addPanelInfra/innerNavigation/innerNavigation.rt",["react/addons","lodash","util","baseUI"],function(a,b,c,d){"use strict";function e(){this.setState({hover:!0})}function f(){this.innerNavMouseLeave()}function g(a){this.onMouseEnterList()}function h(a){this.onMouseOutList()}function i(a,b){this.selectSection(a)}function j(e,f){return a.createElement("li",{className:"inner-nav-section-item "+b.keys(b.pick({selected:this.state.selected.id===e.id},b.identity)).join(" "),onClick:i.bind(this,e,f),key:e.id},a.createElement(d.tooltip,{key:e.id,id:e.id,openTriggers:[],closeTriggers:[],value:e.title,alignment:"right",styleType:d.uiConstants.TOOLTIP.STYLE_TYPE.SMALL},a.createElement("div",{className:"nav-pin"})),a.createElement("span",{className:"nav-label"},c.translate(e.title)))}return function(){return a.createElement("div",{className:"inner-navigation "+b.keys(b.pick(this.getRootClasses(),b.identity)).join(" "),onMouseEnter:e.bind(this),onMouseLeave:f.bind(this),style:this.getStyleOfInnerNavigation()},a.createElement("div",{className:"inner-nav-section-wrapper",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},a.createElement("div",{className:"hover-button",onClick:this.onOpenClicked},a.createElement("div",{className:b.keys(b.pick({stripes:"hovered"===this.state.panelMode||"closed"===this.state.panelMode,arrow:"expand"===this.state.panelMode||"open"===this.state.panelMode,"left-arrow":"expand"===this.state.panelMode||"open"===this.state.panelMode},b.identity)).join(" ")})),this.showMe()?a.createElement.apply(this,["ul",{className:"inner-nav-sections",onMouseEnter:g.bind(this),onMouseLeave:h.bind(this),key:"sections"},b.map(this.props.sectionsWithHeaders,j.bind(this))]):null))}}),define("addPanelInfra/innerNavigation/innerNavigation",["react","core","lodash","baseUI","addPanelInfra/innerNavigation/innerNavigation.rt","pLoader!santa:utils","experiment!miniNavOpenExpandedCloseAfterClick","experiment!miniNavOpenExpandedCloseTimeout"],function(a,b,c,d,e,f,g,h){"use strict";function l(a,b){a.getUserPreferences().session.set("innerNavigationState",b)}function m(a){return a.getUserPreferences().session.get("innerNavigationState")||k.OPEN}var i=72,j=24,k={CLOSED:"closed",HOVERED:"hovered",OPEN:"open",EXPAND:"expand"};return a.createClass({displayName:"innerNavigation",mixins:[b.mixins.editorAPIMixin,f.timerMixins.timeoutsMixin],getInitialState:function(){var a=m(this.getEditorAPI());(g||h)&&(this.alreadyExpandedOnce=!!this.getEditorAPI().userPreferences.session.get("miniNavExpandedOnce"),this.alreadyExpandedOnce||(this.getEditorAPI().userPreferences.session.set("miniNavExpandedOnce",!0),a=k.EXPAND)),a!==k.OPEN&&a!==k.EXPAND||this.props.notifyCategoryViewOnStateChange(!0);var b={hover:!1,panelMode:a,selected:this.props.selected,largerThanWindow:!1};return g&&(b.selectionMade=!1),h&&(b.shownOnce=!1),b},componentWillMount:function(){window.addEventListener("resize",this.checkIfLargerThanWindow)},getRootClasses:function(){var a=this.state.panelMode;return{closed:"closed"===a,hovered:"hovered"===a,open:"open"===a,expand:"expand"===a,"larger-than-window":this.state.largerThanWindow}},onFirstShow:function(){this.setTimeoutNamed("closeTimeout",this.innerNavMouseLeave,2e3),this.setState({shownOnce:!0})},componentDidMount:function(){this.checkIfLargerThanWindow(),h&&this.props.show&&!this.state.shownOnce&&this.onFirstShow()},componentDidUpdate:function(){this.checkIfLargerThanWindow(),h&&this.props.show&&!this.state.shownOnce&&this.onFirstShow()},checkIfLargerThanWindow:function(){var a=this.getDOMNode();if(a){var b=window.innerHeight-a.offsetHeight-i-j<0;this.state.largerThanWindow!==b&&this.setState({largerThanWindow:b})}},componentWillUnmount:function(){window.removeEventListener("resize",this.checkIfLargerThanWindow),l(this.getEditorAPI(),this.state.panelMode)},componentWillReceiveProps:function(a){this.setSelectedSection(a.selected)},setSelectedSection:function(a){this.setState({selected:a})},selectSection:function(a){var d=c.findIndex(this.props.allSections,{id:a.id});this.props.setTopSection(d,!0),this.setState({panelMode:k.EXPAND,selected:a,selectionMade:!0}),this.getEditorAPI().bi.event(b.bi.events.addPanel.ADD_MENU_INNER_NAVIGATION_CHOOSE_SECTION_CLICK,{category:this.props.categoryId,section:a.title})},showMe:function(){return this.state.panelMode===k.OPEN||this.state.panelMode===k.EXPAND},getStyleOfInnerNavigation:function(){return this.props.show?{display:"block"}:{display:"none"}},onMouseEnter:function(){this.state.panelMode===k.CLOSED&&(this.props.notifyCategoryViewOnStateChange(!1),this.setState({panelMode:k.HOVERED}))},onMouseLeave:function(){this.state.panelMode===k.HOVERED&&(this.props.notifyCategoryViewOnStateChange(!1),this.setState({panelMode:k.CLOSED}))},onOpenClicked:function(){this.state.panelMode===k.HOVERED?(this.props.notifyCategoryViewOnStateChange(!0),this.setState({panelMode:k.OPEN}),this.getEditorAPI().bi.event(b.bi.events.addPanel.ADD_MENU_INNER_NAVIGATION_OPENED_CLICK,{category:this.props.categoryId})):(this.props.notifyCategoryViewOnStateChange(!1),this.setState({panelMode:k.CLOSED}),this.getEditorAPI().bi.event(b.bi.events.addPanel.ADD_MENU_INNER_NAVIGATION_CLOSE_CLICK,{category:this.props.categoryId}))},expandBtnClick:function(){if(this.state.panelMode===k.OPEN)this.setState({panelMode:k.EXPAND}),this.getEditorAPI().bi.event(b.bi.events.addPanel.ADD_MENU_INNER_NAVIGATION_OPENED_AUTOMATICALLY,{category:this.props.categoryId}),this.props.notifyCategoryViewOnStateChange(!0);else{var a=!0;(g&&!this.alreadyExpandedOnce&&!this.state.selectionMade||h&&!this.alreadyExpandedOnce)&&(a=!1),a&&(this.setState({panelMode:k.OPEN}),this.props.notifyCategoryViewOnStateChange(!0))}},innerNavMouseLeave:function(){h&&this.clearTimeoutNamed("closeTimeout"),this.state.panelMode!==k.EXPAND||g&&!this.alreadyExpandedOnce&&!this.state.selectionMade||this.setState({panelMode:k.OPEN}),this.setState({hover:!1})},shouldShowToolTip:function(){return this.state.panelMode===k.OPEN},onMouseEnterList:function(){this.hoverInList=!0,clearTimeout(this.setTimeoutId),this.setTimeoutId=setTimeout(function(){this.hoverInList&&this.expandBtnClick()}.bind(this),250)},onMouseOutList:function(){this.hoverInList=!1},render:e})}),define("addPanelInfra/categoryView/categoryView.rt",["react/addons","lodash","baseUI","addPanelData","addPanelInfra/sections/baseGenerator","addPanelInfra/innerNavigation/innerNavigation"],function(a,b,c,d,e,f){"use strict";function g(a){this.onScroll(a)}function h(c,d){return a.createElement(e,b.assign({},{ref:this.getSectionRefByIndex(d),key:this.getSectionRefByIndex(d)},this.getSectionItemProps(c,d)))}return function(){return a.createElement("div",{className:"category-view"},this.shouldShowInnerNavigation()?a.createElement(f,{key:"innerNavigation",ref:"innerNavigation",sectionsWithHeaders:this.getSectionsWithHeaders(),categoryId:this.props.id,setTopSection:this.setTopSection,allSections:this.props.items,notifyCategoryViewOnStateChange:this.props.changeStateOnInnerNavigationOpen,selected:this.getTopSection(),show:this.isInnerNavigationShown()}):null,a.createElement(c.customScroll,{ref:"customScroll",onScroll:g.bind(this),heightRelativetoParent:"100%",addScrolledClass:!0,freezePosition:this.props.isDragging},a.createElement.apply(this,["div",{className:"sections",ref:"sections"},this.props.teaser&&!this.props.teaser.hide?a.createElement(c.firstTimeInfoBox,b.assign({},{key:"firstTimeInfoBox"},this.getFirstTimeInfoBoxProps())):null,b.map(this.props.items,h.bind(this))])))}}),define("addPanelInfra/categoryView/categoryView",["react","lodash","core","addPanelData","util","experiment","addPanelInfra/categoryView/categoryViewMixins/categoryViewUserPref","addPanelInfra/categoryView/categoryViewMixins/categoryViewScroll","addPanelInfra/categoryView/categoryViewMixins/categoryViewMaxHoveredItem","addPanelInfra/addPanel/addPanelUtils","panels","addPanelInfra/categoryView/categoryView.rt"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";function m(a,c){var d=a.components.getChildren(a.pages.getFocusedPage()),e=!0,f=b.reduce(d,function(b,c){var d=a.components.layout.get(c),f=d.y+d.height;return f>b?(e=a.components.is.fullWidth(c),f):b},0);return f+(e?0:c)}return a.createClass({displayName:"categoryView",mixins:[c.mixins.editorAPIMixin,h,g,i,e.blockOuterScrollMixin],getInitialState:function(){return this.updateScrollValues(),{showInnerNavigation:!1}},componentDidMount:function(){this.showInnerNavigation(),this.prepareData()},shouldComponentUpdate:function(a,c){return!(b.isEqual(this.props,a)&&b.isEqual(this.state,c))},updateScrollValues:function(){this.lastScroll=this.getTopScrollFromUserPrefs(this.props.id),this.topSection=this.getTopSectionFromUserPrefs(this.props.id)},componentDidUpdate:function(a){this.calcSectionsTop(),this.calcSectionsHeight(),this.props.id!==a.id&&this.prepareData()},prepareData:function(){this.setAllSectionsTops(),this.updateScrollValues(),this.notifyMaxScroll()},componentWillReceiveProps:function(a){this.props.id!==a.id&&this.setTopSectionToUserPrefs(this.props.id,this.lastScroll,this.topSection)},componentWillUnmount:function(){this.setTopSectionToUserPrefs(this.props.id,this.lastScroll,this.topSection)},calcSectionsTop:function(){this.isMounted()&&(this.sectionTops=b.times(this.props.items.length,this.getSectionTopByIndex,this))},calcSectionsHeight:function(){this.isMounted()&&(this.sectionsHeight=b.times(this.props.items.length,this.getSectionHeightByIndex,this))},setAllSectionsTops:function(){this.calcSectionsTop(),this.calcSectionsHeight();var a=this.getTopScrollFromUserPrefs(this.props.id);this.scrollTo(a),this.setTopSection(this.getTopSectionFromUserPrefs(this.props.id),!1)},getSectionTops:function(){return this.sectionTops||this.calcSectionsTop(),this.sectionTops},getSectionsHeight:function(){return this.sectionsHeight},showInnerNavigation:function(){return this.getInnerNavigationSavedState()?void this.setState({showInnerNavigation:!0}):void(this.state.showInnerNavigation||setTimeout(function(){this.isMounted()&&this.setState({showInnerNavigation:!0})}.bind(this),2e3))},isInnerNavigationShown:function(){return this.state.showInnerNavigation},getFirstTimeInfoBoxProps:function(){return b.assign(this.props.teaser,{onClose:this.calcSectionsTop,userPrefs:this.getEditorAPI().getUserPreferences(),biLearnMore:this.getEditorAPI().bi.event.bind(null,c.bi.events.commonControls.FIRST_TIME_INFO_BOX.LEARN_MORE),biClose:this.getEditorAPI().bi.event.bind(null,c.bi.events.commonControls.FIRST_TIME_INFO_BOX.CLOSE),learnMore:this.onLearnMoreClickOpenHelpCenter})},onLearnMoreClickOpenHelpCenter:function(){if(this.props.teaser.helpId){var a={origin:c.constants.BI.HELP.ORIGIN.ADD_PANEL,component:this.props.id,learn_more:!0};k.panelManager.openHelpCenter(this.props.teaser.helpId,null,null,a)}},getSectionItemProps:function(a,c){return b.assign({onClick:this.addComp,onItemDrag:this.props.onItemDrag,parentType:this.props.origin||d.addPanelDataConsts.PANEL_TYPES.ADD_PANEL,notifyLayoutDone:this.calcSectionsTop,sectionIndex:c,nextSibling:this.props.items[c+1],categoryId:this.props.id,itemHoverCallback:a.type===d.addPanelDataConsts.SECTIONS_TYPES.PRESET?this.updateMaxHoveredItem:b.noop},a)},addComp:function(a,d,e,g){var h=this.getEditorAPI(),i=h.pages.getFocusedPageId(),k=h.pasteLogic.addPanelPasteLogic.getPastePosition(h,a.layout,i,this.props.id);j.isStripStructure(h,a)&&(k.y=m(h,30),h.setSiteScale(1,k.y)),b.merge(a.layout,k);var l=h.pages.getReference(i);h.components.add(l,a,void 0,function(i){var j=f.isOpen("firstTimePanels")?h.openFirstTimePanel.bind(h,i):b.noop;h.selection.selectComponentByCompRef(i,j),h.history.add("added component"),h.bi.event(c.bi.events.addPanel.COMPONENT_ADDED_TO_STAGE,{origin:this.props.origin||"add_panel",category:this.props.id,section:d,component_type:a.componentType,component_id:i.id,preset_id:g||"",adding_method:"click",preset_data_skin:a.style.skin||a.skin||a.style,preset_data_tags:e})}.bind(this))},shouldShowInnerNavigation:function(){return!this.props.hideInnerNavigation&&b.filter(this.props.items,{showSectionHeader:!0}).length>1},getSectionsWithHeaders:function(){return b.filter(this.props.items,"showSectionHeader")},render:l})}),define("addPanelInfra/categoryView/categoryViewWrapper.rt",["react/addons","lodash","util","baseUI","addPanelInfra/categoryView/categoryView","symbols"],function(a,b,c,d,e,f){"use strict";return function(){return a.createElement("div",{className:"category-view-wrapper "+b.keys(b.pick({"inner-navigation-open":this.state.isInnerNavigationOpened},b.identity)).join(" "),style:this.getStyle()},a.createElement("div",{className:"header"},a.createElement("label",{className:"title"},c.translate(this.props.title)),a.createElement("div",{className:"actions"},!this.props.help.hide&&this.props.help.helpId?a.createElement("div",{key:"actions",className:"button help-button",onClick:this.openHelpCenter},"?\r\n            "):null,a.createElement("div",{className:"button close",onClick:this.closePanel},a.createElement(f.symbol,{name:"headerCloseButton"})))),a.createElement(e,b.assign({},{changeStateOnInnerNavigationOpen:this.changeStateOnInnerNavigationOpen},this.props)))}}),define("addPanelInfra/categoryView/categoryViewWrapper",["react","core","lodash","addPanelData","panels","addPanelInfra/categoryView/categoryViewMixins/categoryViewUserPref","addPanelInfra/categoryView/categoryViewWrapper.rt"],function(a,b,c,d,e,f,g){"use strict";return a.createClass({displayName:"categoryViewWrapper",mixins:[b.mixins.editorAPIMixin,f],getInitialState:function(){return{isInnerNavigationOpened:!1}},getStyle:function(){return{width:d.addPanelDataConsts.CATEGORY_VIEW.TOTAL_WIDTH}},closePanel:function(){this.onCloseClearSectionFromUserPrefExceptSelectedSection(this.props.id,this.props.allCategories),this.props.onClose()},openHelpCenter:function(){if(this.props.help.helpId){var a={origin:b.constants.BI.HELP.ORIGIN.ADD_PANEL,component:this.props.id,learn_more:!1};e.panelManager.openHelpCenter(this.props.help.helpId,null,null,a)}this.getEditorAPI().bi.event(b.bi.events.addPanel.ADD_MENU_HELP_CATEGORY_CLICK,{category:this.props.id})},changeStateOnInnerNavigationOpen:function(a){this.setState({isInnerNavigationOpened:a})},render:g})}),define("addPanelInfra/addPanel/addPanel.rt",["react/addons","lodash","addPanelInfra/categoryView/categoryViewWrapper","util","panels","experiment!allowAddPanelRightClick"],function(a,b,c,d,e,f){"use strict";function g(a,b){f||b.preventDefault()}function h(c,e,f){return a.createElement("li",{className:b.keys(b.pick(this.getClasses(e),b.identity)).join(" "),key:e.id,style:{height:"calc("+c+"% - 2px)"}},a.createElement("span",b.assign({},{className:b.keys(b.pick({"category-name-wrapper":!0,"is-selected":this.state.selectedIndex===f},b.identity)).join(" ")},this.getMouseActionsHandlers(e,f)),a.createElement("span",{className:"category-name"},d.translate(e.label))))}function i(){var d=100/this.categories.length;return a.createElement(e.frames.leftPanelFrame,{ref:"addPanel",panelName:this.props.panelName,panelClass:"add-panel",panelIndex:this.props.panelIndex,styleOverride:{overflow:"visible"},onContextMenu:g.bind(this,d)},a.createElement.apply(this,["ul",{className:"add-panel-category-list",onMouseLeave:this.reset},b.map(this.categories,h.bind(this,d))]),a.createElement(c,this.getSelectedCategory()))}return function(){return i.apply(this,[])}}),define("addPanelInfra/addPanel/addPanelHoverMixin",[],function(){"use strict";function d(d,e,f,g){b=null,clearTimeout(c),c=setTimeout(function(){b||g&&g.call(this,e,f)}.bind(this),a)}function e(a,c){b=c}var b,c,a=100;return{enter:d,leave:e}}),define("addPanelInfra/addPanel/dragToStage/addPanelDragToStage",["lodash","core","addPanelInfra/addPanel/addPanelUtils"],function(a,b,c){"use strict";var d;return{start:function(f,g){var h=c.isStripStructure(f,g.item.structure)&&!a.isEmpty(b.utils.sectionsReorganizeUtil.getPageSections(f)),i=h?b.utils.AddPanelSectionDragHandler:b.utils.AddPanelDragHandler;d=new i(f,g.evt,g.item,g.panelElm,g.dragBoxClass,g.onItemDragStart,g.onItemDragEnd)},on:function(a){d.onDrag(a)},end:function(a){d&&(d.endDrag(a),d=null)}}}),define("addPanelInfra/addPanel/dragToStage/dragBox.rt",["react/addons","lodash"],function(a,b){"use strict";return function(){return a.createElement("div",{className:"add-panel-draggable-wrapper"},a.createElement("div",{className:"add-panel-draggable-item",style:this.getDragBoxStyle()}))}}),define("addPanelInfra/addPanel/dragToStage/dragBox",["react","lodash","addPanelInfra/addPanel/dragToStage/dragBox.rt"],function(a,b,c){"use strict";return a.createClass({displayName:"dragBox",propTypes:{boxSize:a.PropTypes.shape({width:a.PropTypes.number,height:a.PropTypes.number}).isRequired,coords:a.PropTypes.shape({left:a.PropTypes.number,top:a.PropTypes.number}).isRequired,boxOffset:a.PropTypes.shape({left:a.PropTypes.number,top:a.PropTypes.number}).isRequired},shouldComponentUpdate:function(a){return!b.isEqual(this.props,a)},getTransformValue:function(){return"translate("+100*this.props.boxOffset.left+"%, "+100*this.props.boxOffset.top+"%)"},getDragBoxStyle:function(){var a=this.getTransformValue();return b.assign({left:this.props.coords.left,top:this.props.coords.top,WebkitTransform:a,transform:a},this.props.boxSize)},render:c})}),define("addPanelInfra/addPanel/dragToStage/dragToStageMixin",["lodash","core","addPanelInfra/addPanel/dragToStage/addPanelDragToStage","addPanelInfra/addPanel/dragToStage/dragBox"],function(a,b,c,d){"use strict";return{startItemDrag:function(e,f){if(2!==e.button){f.rect=a.transform(f.rect,function(a,b,c){a[c]=parseInt(b,10)});var g={item:f,dragBoxClass:d,panelElm:this.getDOMNode(),evt:e,onItemDragEnd:this.onStopItemDrag,onItemDragStart:this.onStartItemDrag},h=this.getEditorAPI();h.registerMouseMoveAction(c,g),h.bi.event(b.bi.events.addPanel.ADD_MENU_DRAG_COMPONENT,{preset_id:f.itemId||"",category:f.categoryId,section:f.sectionTitle}),this.getEditorAPI().getUserPreferences().session.set("addPanel.dragToStage",!0)}},onStopItemDrag:function(){this.setState({isDragging:!1})},onStartItemDrag:function(){this.state.isDragging||this.setState({isDragging:!0})}}}),define("addPanelInfra/addPanel/addPanel",["react","core","lodash","addPanelInfra/addPanel/addPanel.rt","addPanelData","addPanelInfra/addPanel/addPanelHoverMixin","addPanelInfra/addPanel/addPanelStyleManager","addPanelInfra/addPanel/dragToStage/dragToStageMixin","experiment","experiment!addPanelCategoriesClick"],function(a,b,c,d,e,f,g,h,i,j){"use strict";return a.createClass({displayName:"addPanel",mixins:[f,h,b.mixins.editorAPIMixin],getInitialState:function(){var a;return this.categories=e.getCategories(this.getEditorAPI()),a=this.getSavedCategoryOnPanelOpen(),{selectedIndex:a,isDragging:!1}},notifySelectedCategoryEvent:function(a,c){this.getEditorAPI().bi.event(b.bi.events.addPanel[a],{category:c.id})},getSavedCategoryOnPanelOpen:function(){return this.getEditorAPI().getUserPreferences().session.get("addPanelCategoryIndexOnClose")||0},saveCategoryOnPanelClose:function(a){this.getEditorAPI().getUserPreferences().session.set("addPanelCategoryIndexOnClose",a)},componentWillUnmount:function(){this.saveCategoryOnPanelClose(this.state.selectedIndex)},componentWillMount:function(){this.selectedSectionItems=this.getVisibleSectionsForCategoryView(this.state.selectedIndex)},componentWillUpdate:function(a,b){this.state.selectedIndex!==b.selectedIndex&&(this.selectedSectionItems=this.getVisibleSectionsForCategoryView(b.selectedIndex))},getVisibleSectionsForCategoryView:function(a){var f,b=this.categories[a].items,d=this.getEditorAPI();f=i.isOpen("popups")?c.filter(b,function(a){var b=c.isFunction(a.hide)?a.hide(d):a.hide;return!b}):c.filter(b,{hide:!1});var h=c.reject(f,function(a){switch(a.type){case e.addPanelDataConsts.SECTIONS_TYPES.THEME:var b=g.getThemeStylesArr(a.props.compTypes,d.theme,d.components);return c.isEmpty(b);case e.addPanelDataConsts.SECTIONS_TYPES.PERSONALIZED:var f=g.getPersonalizeStylesArr(d.theme,d.components,a.props.compTypes);return c.isEmpty(f);case"default":return!1}});return h},getSelectedCategory:function(){var a=c.assign({},this.categories[this.state.selectedIndex]);return a=c.assign(a,{onClose:this.closePanel,onItemDrag:this.startItemDrag,allCategories:this.categories,items:this.selectedSectionItems,isDragging:this.state.isDragging})},getClasses:function(a){var b={category:!0};return b[a.id]=!0,b},shouldComponentUpdate:function(a,b){return!(c.isEqual(this.props,a)&&c.isEqual(this.state,b))},closePanel:function(){this.refs.addPanel.close()},selectCategory:function(a,b){this.notifySelectedCategoryEvent("ADD_MENU_CATEGORY_HOVER",a),this.setState({selectedIndex:b})},getMouseActionsHandlers:function(a,b){var c=this;return j?{onClick:function(){c.selectCategory(a,b),c.notifySelectedCategoryEvent("ADD_MENU_CATEGORY_CLICK",a)}}:{onMouseEnter:function(d){c.enter(d,a,b,c.selectCategory)},onMouseLeave:function(a){c.leave(a,b)},onClick:function(){c.notifySelectedCategoryEvent("ADD_MENU_CATEGORY_CLICK",a)}}},render:d})}),define("addPanelInfra/sections/presetSection/presetSectionWithCustomAction.rt",["react/addons","lodash","addPanelInfra/sections/presetSection/presetSection"],function(a,b,c){"use strict";return function(){return a.createElement(c,b.assign({},{ref:"presetSectionWithCustomAction"},this.getPropsForPresetSection()))}}),define("addPanelInfra/sections/presetSection/presetSectionWithCustomAction",["react","lodash","addPanelData","addPanelInfra/sections/presetSection/presetSectionWithCustomAction.rt"],function(a,b,c,d){"use strict";return a.createClass({displayName:"presetSectionWithCustomAction",render:d,getPropsForPresetSection:function(){return b.assign(this.props,{onClick:this.props.onClick,parentType:c.addPanelDataConsts.PANEL_TYPES.PRESET_WITH_CUSTOM_ACTION})}})}),define("addPanelInfra",["addPanelInfra/sections/baseGenerator","addPanelInfra/addPanel/addPanel","addPanelInfra/categoryView/categoryView","addPanelInfra/addPanel/dragToStage/dragToStageMixin","addPanelInfra/addPanel/addPanelHoverMixin","addPanelInfra/sections/liveComponentsSections/liveComponentStyleAdjuster","addPanelInfra/addPanel/componentsDefaultData","addPanelInfra/addPanel/addPanelStyleManager","addPanelInfra/sections/liveComponentsSections/liveComponentSection","addPanelInfra/sections/liveComponentsSections/designPanelLiveComponentSection","addPanelInfra/sections/presetSection/presetSectionWithCustomAction","addPanelInfra/sections/sectionWrapper"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";return{addPanel:b,categoryView:c,baseGenerator:a,dragToStageMixin:d,addPanelHoverMixin:e,liveComponentStyleAdjuster:f,componentsDefaultData:g,addPanelStyleManager:h,liveComponentSection:i,presetSectionWithCustomAction:k,designPanelLiveComponentSection:j,sectionWrapper:l}});