define("mediaServices/services/wixMediaManager/presets",[],function(){"use strict";var a={SHAPE:{multiSelectDefault:!0,canAddMediaBeforeEncodingComplete:!1,tabsList:{open:["FREE_FROM_WIX"],manage:[],"default":"FREE_FROM_WIX"},socialNetworksList:[],mmgrParams:{i18nPrefix:["shape","multiple_shapes"],mediaType:"picture",publicMediaRoot:"shapes"}},IMAGE:{multiSelectDefault:!0,canAddMediaBeforeEncodingComplete:!1,tabsList:{open:["MY_IMAGE","MY_NETWORK","FREE_FROM_WIX","BIG_STOCK"],manage:["MY_IMAGE"],"default":"MY_IMAGE"},socialNetworksList:["FACEBOOK","INSTAGRAM","GOOGLE_DRIVE","FLICKER","PICASA"],mmgrParams:{i18nPrefix:["single_image","multiple_images"],mediaType:"picture",publicMediaRoot:"photos"}},VIDEO:{multiSelectDefault:!1,canAddMediaBeforeEncodingComplete:!0,tabsList:{open:["MY_VIDEO"],manage:["MY_VIDEO"],"default":"MY_VIDEO"},socialNetworksList:[],mmgrParams:{i18nPrefix:["video","addmultiple_video"],mediaType:"video",publicMediaRoot:"",videoEncodingProfile:"mp4-storyboard"}},MUSIC:{multiSelectDefault:!0,canAddMediaBeforeEncodingComplete:!1,tabsList:{open:["MY_MUSIC"],manage:["MY_MUSIC"],"default":"MY_MUSIC"},socialNetworksList:[],mmgrParams:{i18nPrefix:["music","addmultiple_music"],mediaType:"music",publicMediaRoot:""}},MUSIC_PRO:{multiSelectDefault:!0,canAddMediaBeforeEncodingComplete:!1,tabsList:{open:["MY_MUSIC_PRO"],manage:["MY_MUSIC_PRO"],"default":"MY_MUSIC_PRO"},socialNetworksList:[],mmgrParams:{i18nPrefix:["secure_music","addmultiple_secure_music"],mediaType:"secure_music",publicMediaRoot:""}},DOCUMENT:{multiSelectDefault:!0,canAddMediaBeforeEncodingComplete:!1,tabsList:{open:["MY_DOCUMENT"],manage:["MY_DOCUMENT"],"default":"MY_DOCUMENT"},socialNetworksList:[],mmgrParams:{i18nPrefix:["document","addmultiple_document"],mediaType:"document",publicMediaRoot:""}},FLASH:{multiSelectDefault:!1,canAddMediaBeforeEncodingComplete:!1,tabsList:{open:["MY_FLASH"],manage:[],"default":"MY_FLASH"},socialNetworksList:[],mmgrParams:{i18nPrefix:["flash","multiple_flash"],mediaType:"swf",publicMediaRoot:""}},CLIPART:{multiSelectDefault:!1,canAddMediaBeforeEncodingComplete:!1,tabsList:{open:["MY_IMAGE","MY_NETWORK","FREE_FROM_WIX","BIG_STOCK"],manage:[],"default":"MY_IMAGE"},socialNetworksList:["FACEBOOK","INSTAGRAM","GOOGLE_DRIVE","FLICKER","PICASA"],mmgrParams:{i18nPrefix:["clipart","addmultiple_clipart"],mediaType:"picture",publicMediaRoot:"clipart"}},BG_IMAGE:{multiSelectDefault:!1,canAddMediaBeforeEncodingComplete:!1,tabsList:{open:["MY_IMAGE","MY_NETWORK","FREE_FROM_WIX","BIG_STOCK"],manage:[],"default":"MY_IMAGE"},socialNetworksList:["FACEBOOK","INSTAGRAM","GOOGLE_DRIVE","FLICKER","PICASA"],mmgrParams:{i18nPrefix:["background","multiple_background"],mediaType:"picture",publicMediaRoot:"backgrounds"}},BG_VIDEO:{multiSelectDefault:!1,canAddMediaBeforeEncodingComplete:!0,tabsList:{open:["MY_VIDEO","FREE_FROM_WIX"],manage:[],"default":"MY_VIDEO"},socialNetworksList:[],mmgrParams:{i18nPrefix:["video","addmultiple_video"],mediaType:"video",publicMediaRoot:"videos",videoEncodingProfile:"mp4-storyboard"}},ICON_DOCUMENT:{multiSelectDefault:!1,canAddMediaBeforeEncodingComplete:!1,tabsList:{open:["MY_IMAGE","MY_NETWORK","FREE_FROM_WIX","BIG_STOCK"],manage:[],"default":"FREE_FROM_WIX"},socialNetworksList:["FACEBOOK","INSTAGRAM","GOOGLE_DRIVE","FLICKER","PICASA"],mmgrParams:{i18nPrefix:["single_icon","multiple_icons"],mediaType:"picture",publicMediaRoot:"file_icons"}},ICON_SOCIAL:{multiSelectDefault:!0,canAddMediaBeforeEncodingComplete:!1,tabsList:{open:["MY_IMAGE","MY_NETWORK","FREE_FROM_WIX","BIG_STOCK"],manage:[],"default":"FREE_FROM_WIX"},socialNetworksList:["FACEBOOK","INSTAGRAM","GOOGLE_DRIVE","FLICKER","PICASA"],mmgrParams:{i18nPrefix:["single_icon","multiple_icons"],mediaType:"picture",publicMediaRoot:"social_icons"}},ICON_FAVICON:{multiSelectDefault:!1,canAddMediaBeforeEncodingComplete:!1,tabsList:{open:["MY_FAVICON","BIG_STOCK"],manage:[],"default":"MY_FAVICON"},socialNetworksList:[],mmgrParams:{i18nPrefix:["favicon","multiple_favicons"],mediaType:"site_icon",publicMediaRoot:""}}};return a}),define("mediaServices/services/wixMediaManager/constants",["util"],function(a){"use strict";return{BASE_HOST:a.serviceTopology.baseDomain,MMGR_BASE_URL:a.serviceTopology.mediaManagerUrl,MMGR_LANGUAGE_CODE:a.editorModel.languageCode,MMGR_WINDOW_STYLE:"fullscreen",MMGR_SELECTION_TYPE:["single","multiple"],MMGR_TRANSLATION_KEYS_MAP:{description:{"private":"private_media.upload_restrictions_header_message",external:"social_images.upload_restrictions_header_message","public":"free_from_wix.upload_restrictions_header_message",photoStock:"bigstock_images.upload_restrictions_header_message"},title:"header",submitButton:"footer.submit",uploadButton:"uploader.upload"},MMGR_SERVICES_LIST_MAP:{FACEBOOK:"facebook",FLICKER:"flickr",INSTAGRAM:"instagram",PICASA:"picasa",GOOGLE_DRIVE:"drive"},SINGLE:0,MULTIPLE:1,MMGR_TABS_MAP:{MY_SHAPE:"private",MY_IMAGE:"private",MY_IMAGE_PRO:"private",MY_VIDEO:"private",MY_VIDEO_PRO:"private",MY_MUSIC:"private",MY_MUSIC_PRO:"private",MY_DOCUMENT:"private",MY_DOCUMENT_PRO:"private",MY_FLASH:"private",MY_FAVICON:"private",MY_NETWORK:"external",FREE_FROM_WIX:"public",BIG_STOCK:"photoStock"}}}),define("mediaServices/services/wixMediaManager/adapter",["lodash","jquery","experiment","mediaServices/services/wixMediaManager/presets","mediaServices/services/wixMediaManager/constants","util","pLoader!santa:utils"],function(a,b,c,d,e,f,g){"use strict";function h(){var a=b("#editor");if(a){var c=b(window),d=c.scrollTop();a.trigger("focus"),c.scrollTop(d)}}function i(){return window.MediaFrame}function j(a,b){b=b||{};var c=d[a],e={multiSelect:!1,path:b.path||n(c.tabsList["default"]),translation:{},manageMode:!0};b.translation&&b.translation.title&&(e.translation.title=b.translation.title),b.callback&&(e.callback=b.callback),c.tabsList.manage.length>0?r(a,c,e):g.log.error(a+" is an unmanaged category")}function k(a,b){b=b||{};var c=d[a],e={multiSelect:void 0===b.multiSelect?c.multiSelectDefault:b.multiSelect,path:b.path||n(c.tabsList["default"]),translation:{},manageMode:!1};b.callback&&(e.callback=function(){b.callback.apply(null,arguments),window.focus()}),b.translation&&(b.translation.title&&(e.translation.title=b.translation.title),b.translation.submitButton&&(e.translation.submitButton=b.translation.submitButton)),r(a,c,e)}function l(a){return e.MMGR_SELECTION_TYPE[a?e.MULTIPLE:e.SINGLE]}function m(a,b){var c=a.mmgrParams.i18nPrefix;return c[b?e.MULTIPLE:e.SINGLE]}function n(a){return e.MMGR_TABS_MAP[a]}function o(b,c){for(var d=a.clone(c?b.tabsList.manage:b.tabsList.open),e=0;e<d.length;e++)d[e]=n(d[e]);return d}function p(b){for(var c=a.clone(b.socialNetworksList),d=0;d<c.length;d++)c[d]=e.MMGR_SERVICES_LIST_MAP[c[d]];return c}function q(b,c,d){var h,g={},i=d.manageMode,j=d.multiSelect,k=i?c.tabsList.manage:c.tabsList.open,l=d.multiSelect?"_MULTISELECT":"";return h=("MMGR_API_"+b+(i?"_MANAGE":"_OPEN")+"_TITLE"+(i?"":l)).toUpperCase(),g[e.MMGR_TRANSLATION_KEYS_MAP.title]=d.translation.title||f.translate(h),h=("MMGR_API_"+b+"_UPLOAD_BUTTON").toUpperCase(),g[e.MMGR_TRANSLATION_KEYS_MAP.uploadButton]=f.translate(h),h=("MMGR_API_"+b+"_SUBMIT_BUTTON"+(j?"_MULTISELECT":"")).toUpperCase(),g[e.MMGR_TRANSLATION_KEYS_MAP.submitButton]=d.translation.submitButton||f.translate(h),a.forEach(k,function(a){var b=e.MMGR_TRANSLATION_KEYS_MAP.description[n(a)];h=("MMGR_API_"+a+"_DESCRIPTION").toUpperCase(),g[b]=f.translate(h)}),g}function r(a,b,d){function j(a){if(d.callback){var b=a&&a.items||null,c=b&&{path:a.path}||null;d.callback(b,c)}f.off("close",j),f.off("items",j),h()}var f=i(),g={mediaGalleryBaseHost:e.MMGR_BASE_URL,baseHost:e.BASE_HOST,i18nCode:e.MMGR_LANGUAGE_CODE,windowStyle:e.MMGR_WINDOW_STYLE,selectionType:l(d.multiSelect),mediaType:b.mmgrParams.mediaType,i18nPrefix:m(b,d.multiSelect),canShowSelectButton:!d.manageMode,canSubmitUntranscoded:b.canAddMediaBeforeEncodingComplete,tabsList:o(b,d.manageMode),path:d.path};b.mmgrParams.publicMediaRoot&&(g.publicMediaRoot=b.mmgrParams.publicMediaRoot),b.socialNetworksList.length>0&&(g.servicesList=p(b)),g.translations=q(a,b,d),c.isOpen("videoStoryboardEncoding")&&b.mmgrParams.videoEncodingProfile&&(g.videoEncodingProfile=b.mmgrParams.videoEncodingProfile),f.on("items",j).on("close",j),f.open(g),document.getElementById("mediaGalleryFrame").contentWindow.focus()}function s(){var b={};return a.forEach(a.keys(d),function(a){a=a.toUpperCase(),b[a]=a}),b}return function(){return{open:k,presets:d,manage:j,categories:s()}}}),define("mediaServices",["mediaServices/services/wixMediaManager/adapter"],function(a){"use strict";var b={mediaManager:new a},c={mediaManager:{manage:b.mediaManager.manage,open:b.mediaManager.open,presets:b.mediaManager.presets,categories:b.mediaManager.categories}};return{mediaManager:c.mediaManager}});