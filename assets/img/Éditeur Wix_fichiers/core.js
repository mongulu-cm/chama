define("core/utils/addComponentPlugins/plugins/page",["pLoader!santa:utils","constants","experiment"],function(a,b,c){"use strict";return function(d,e,f,g,h,i){if(c.isOpen("popups")&&g.data.isPopup){g.layout.x=0,g.layout.y=0;var j=d.pages.popupPages.add("New popup",g);return d.waitForChangesApplied(function(){d.history.add("adding new popup",{actionType:b.DS_ACTIONS.ADD_PAGE,nextPage:j.id}),d.pages.popupPages.open(j.id),i(d.components.get.byType(a.constants.POPUP.POPUP_CONTAINER.COMPONENT_TYPE,j))}),j}return null}}),define("core/utils/addComponentPlugins/plugins/anchor",["lodash","util"],function(a,b){"use strict";function d(b,c,d){var e=new RegExp(d+"\\s(\\d+)"),f=[];return a.forEach(c,function(a){var c=b.components.data.get(a),d=c.name,g=d.match(e);g&&f.push(parseInt(g[1],10))}),f}function e(b,c,e){var f,g=d(b,c,e);for(g.sort(function(a,b){return a-b}),f=0;f<g.length;++f)if(!a.includes(g,f+1))return f+1;return f+1}var c="component_label_anchor";return function(a,d,f,g,h,i){var j=b.translate(c),k=a.pages.getReference(a.pages.getPrimaryPageId()),l=a.components.get.byType("wysiwyg.common.components.anchor.viewer.Anchor",k),m=e(a,l,j);g.data.name=j+" "+m;var n=d(f,g);return i&&a.waitForChangesApplied(function(){i(n)}),n}}),define("core/utils/updateDataPlugins/plugins/common/fixTextFieldValueLength",[],function(){"use strict";function c(c,d){if(c.length<=d)return c;var e=c.split(""),f=c.length-d+a.length,g=c.lastIndexOf(".")>c.length-f-b,h=g?c.lastIndexOf("."):c.length-1,i=h-f-b;return e.splice(i,f,a),e.join("")}var a="...",b=3;return c}),define("core/utils/updateDataPlugins/plugins/imageData",["core/utils/updateDataPlugins/plugins/common/fixTextFieldValueLength"],function(a){"use strict";var b=100,c=1200;return function(d){return d.title&&(d.title=a(d.title,b)),d.description&&(d.description=a(d.description,c)),d}}),define("core/utils/updateDataPlugins/plugins/wixVideoData",["core/utils/updateDataPlugins/plugins/common/fixTextFieldValueLength"],function(a){"use strict";var b=100;return function(c){return c.title&&(c.title=a(c.title,b)),c}}),define("core/utils/updateDataPlugins/updateDataPlugins",["core/utils/updateDataPlugins/plugins/imageData","core/utils/updateDataPlugins/plugins/wixVideoData"],function(a,b){"use strict";return{Image:a,WixVideo:b}}),define("core/utils/addComponentPlugins/plugins/commonUtils/addMultiple",["lodash","core/utils/updateDataPlugins/updateDataPlugins"],function(a,b){"use strict";return function(c,d,e,f,g,h,i,j){a.forEach(j,function(g,j){var k,l,m;j>0?(m=c.pages.getFocusedPageId(),l=c.pasteLogic.addContext.getPastePosition(c,f.layout,m),k=j>0?a.merge({},f,{layout:l}):f):k=f;var n=i(k,g),o=n.data&&n.data.type;b[o]&&(n.data=b[o](n.data));var p=d(e,n);h&&c.waitForChangesApplied(function(){h(p)})})}}),define("core/utils/addComponentPlugins/plugins/documentMedia",["lodash","core/utils/addComponentPlugins/plugins/commonUtils/addMultiple","util"],function(a,b,c){"use strict";function d(b,c){return a.merge({},b,{data:{title:c.title,link:{docId:a.last(c.fileUrl.split("/")),name:c.title,type:"DocumentLink"}}})}return function(a,e,f,g,h,i){if(g.data.link&&g.data.link.docId)return!1;var j=a.mediaServices;return j.mediaManager.open(j.mediaManager.categories.DOCUMENT,{callback:function(c){b(a,e,f,g,h,i,d,c)},translation:{submitButton:c.translate("MMGR_submitbutton_addpanel_mydocs_add")}}),!0}}),define("core/utils/addComponentPlugins/plugins/commonUtils/addAudioPluginUtil",["lodash","core/utils/addComponentPlugins/plugins/commonUtils/addMultiple","util"],function(a,b,c){"use strict";return{handleAudioAdd:function(a,d,e,f,g,h,i){if(f.data.uri)return!1;var j=a.mediaServices;return j.mediaManager.open(j.mediaManager.categories.MUSIC,{callback:function(c){b(a,d,e,f,g,h,i,c)},translation:{submitButton:c.translate("MMGR_submitbutton_addpanel_mytracks_add")}}),!0}}}),define("core/utils/addComponentPlugins/plugins/audioPlayer",["lodash","core/utils/addComponentPlugins/plugins/commonUtils/addAudioPluginUtil"],function(a,b){"use strict";function c(b,c){return a.merge({},b,{data:{uri:c.fileName,originalFileName:c.title}})}return function(a,d,e,f,g,h){return b.handleAudioAdd(a,d,e,f,g,h,c)}}),define("core/utils/addComponentPlugins/plugins/singleAudioPlayer",["lodash","core/utils/addComponentPlugins/plugins/commonUtils/addAudioPluginUtil"],function(a,b){"use strict";function c(b,c){return a.merge({},b,{data:{uri:c.fileName,originalFileName:c.title,artist:"Unknown Artist",track:"Unknown Track"}})}return function(a,d,e,f,g,h){return b.handleAudioAdd(a,d,e,f,g,h,c)}}),define("core/utils/componentPreviewReadyPlugins/formPlugin",[],function(){"use strict";function a(a){var b="@wix.com";return-1!==a.indexOf(b,a.length-b.length)}function b(b,c){var d="toEmailAddress",e=b[d],f=c.generalInfo.getUserInfo().email;e||a(f)||(b[d]=f)}return{updateDataWithDefaults:b}}),define("core/utils/addComponentPlugins/plugins/contactForm",["lodash","util","core/utils/componentPreviewReadyPlugins/formPlugin"],function(a,b,c){"use strict";function e(c){a.forOwn(d,function(a,d){c[d]=b.translate(a)})}var d={successMessage:"Contact_Form_Settings_Messages_Success_message_default",validationErrorMessage:"Contact_Form_Settings_Messages_Error_message_mandatory_fields_default",errorMessage:"Contact_Form_Settings_Messages_Error_message_for_email_fields_default"};return function(a,b,d,f,g,h){e(f.data),c.updateDataWithDefaults(f.data,a);var i=b(d,f);return h&&a.waitForChangesApplied(function(){h(i)}),i}}),define("core/utils/addComponentPlugins/plugins/clipArt",["lodash"],function(a){"use strict";function d(c){return a.merge(c,{layout:{rotationInDegrees:0,scale:1,fixedPosition:!1,anchors:[]},props:{displayMode:b,type:"WPhotoProperties"},style:c.style||"ca1"})}var b="full",c="fill";return function(a,e,f,g,h,i){g.props||(g=d(g)),g.props.displayMode===c&&(g.props.displayMode=b);var j=e(f,g);return i&&a.waitForChangesApplied(function(){i(j)}),j}}),define("core/utils/addComponentPlugins/plugins/svgShape",["lodash"],function(a){"use strict";function b(b){return a.defaults(b,{data:{link:null,type:"SvgShape"}})}return function(a,c,d,e,f,g){var h=c(d,b(e));return g&&a.waitForChangesApplied(function(){g(h)}),h}}),define("core/utils/addComponentPlugins/plugins/wPhoto",["lodash"],function(a){"use strict";function b(b){return a.merge(b,{layout:{rotationInDegrees:0,scale:1,fixedPosition:!1,anchors:[]},props:{type:"WPhotoProperties"},style:b.style||"wp2"})}return function(a,c,d,e,f,g){e.props||(e=b(e));var h=c(d,e);return g&&a.waitForChangesApplied(function(){g(h)}),h}}),define("core/app/campaigns",[],function(){"use strict";return{CAMPAIGNS:{PERSONAL_SALE:{id:"new-user-personal-campaign",type:"PERSONAL",defaultDiscount:50,assetPath:"apples/editor/new-user-personal-campaign"},SEASONAL_CAMPAIGN:{id:"seasonal-campaign",type:"SEASONAL",defaultDiscount:50,assetPath:"apples/editor/new-user-personal-campaign"}}}}),define("core/app/constants",["lodash","util","core/app/campaigns"],function(a,b,c){"use strict";var d={componentPanels:{settings:"settingsPanel",layout:"layoutPanel",animation:"animationPanel",filters:"filtersPanel",stretching:"stretchingPanel",design:"designPanel",customizeDesign:"advancedStylePanel",link:"linkPanel",manage:"managePanel",background:"backgroundPanel"},PANEL_TYPES:{COMP:"compPanelFrame",NOTIFICATION:"notificationPanelFrame",FOCUS:"focusPanelFrame",CONFIRMATION:"confirmationPanelFrame",LEFT:"leftPanelFrame",MESSAGE:"messagePanelFrame",PAGES:"pagesPanelFrame",HELP:"helpPanelFrame",TOOL:"toolPanelFrame",BG_SUB_PANEL:"bgSubPanelFrame"},USER_PREFS:{TYPES:{SESSION:"session",SITE:"site",GLOBAL:"global"},VIEW_TOOLS:{TOOLBAR_ENABLED:"viewtools.toolbarEnabled",DEVELOPER_MODE_ENABLED:"viewtools.developerModeEnabled",DEVELOPER_TOOLBAR_ENABLED:"viewtools.developerToolBarEnabled",SHOW_HIDDEN_COMPS:"viewTools.showHiddenComponents",RULERS_ENABLED:"viewtools.rulersEnabled",GUIDES_STATE:"viewTools.rulers.guidesState",GUIDELINES_ENABLED:"viewtools.guidelinesEnabled",SECTIONS_HANDLES_ENABLED:"viewtools.sectionsHandlesEnabled",SNAPTO_ENABLED:"viewtools.snapToEnabled"},TOOLBAR:{POSITION:"toolbar.position"},SITE_REVISIONS:{SITE_HISTORY_DONT_SHOW_AGAIN:"siteRevisions.dontshowagain"},SAVE:{SITE_SAVED_DONT_SHOW_AGAIN:"save.siteSaved.dontshowagain"},PUBLISH:{SHOUTOUT_DONT_SHOW_AGAIN:"publish.success.shoutout.dontshowagain",CONNECT_DOMAIN_DONT_SHOW_AGAIN:"publish.success.connectdomain.dontshowagain",GROW_BUSINESS_DONT_SHOW_AGAIN:"publish.success.growbusiness.dontshowagain",MUSIC_PROMO_DONT_SHOW_AGAIN:"publish.success.musicpromo.dontshowagain"},DRAG_TO_HEADER:{DONT_SHOW_AGAIN:"dragToHeader.dontShowAgain",DRAG_COUNT:"dragToHeader.count"},OUT_OF_GRID:{DESKTOP:{OUT_OF_GRID_DONT_SHOW_AGAIN:"dragOutsidePage.outOfGrid.desktop.dontShowAgain",OUT_OF_GRID_COUNT:"dragOutsidePage.outOfGrid.desktop.count"},CONTAINER:{OUT_OF_GRID_DONT_SHOW_AGAIN:"dragOutsideContainer.outOfGrid.container.dontShowAgain",OUT_OF_GRID_COUNT:"dragOutsidePage.outOfGrid.container.count"},MOBILE:{OUT_OF_GRID_DONT_SHOW_AGAIN:"dragOutsidePage.outOfGrid.mobile.dontShowAgain",OUT_OF_GRID_COUNT:"dragOutsidePage.outOfGrid.mobile.count"}},CANT_MAKE_CHANGES:{MOBILE_CANT_MAKE_CHANGE_DONT_SHOW_AGAIN:"cantmakechanges.mobile.dontShowAgain"},THEME:{COLORS:{CUSTOM:{COMPS_ADDED:"theme.colors.compsCustom",USER_ADDED:"theme.colors.userCustom"}}},DEVELOPER_MODE:{FIRST_TIME:"developer.firstTime.dontShowAgain",SHOW_HIDDEN_COMPS:"developer.firstTime.showHiddenComponents"},TEXT:{SAVE_THEME:{DONT_SHOW_AGAIN:"text.saveTheme.dontShowAgain"}}},SUPER_APPS:{BLOG_PANEL_NAME:"blog.menuPanel",WIX_STORE_PANEL_NAME:"wixStore.panels.wixStorePanel",SHOUTOUT_PANEL_NAME:"shoutOut.menuPanel"},LEFT_BAR:{SUPER_APPS_ORDER:{DESKTOP:["blog.menuPanel","wixStore.panels.wixStorePanel","shoutOut.menuPanel"],MOBILE:["blog.menuPanel","wixStore.panels.wixStorePanel","shoutOut.menuPanel"]}},SIZE_LIMITS:{FIXED_TINY_MENU_MAX_Y:250,MOBILE_DRAG_CONSTRAINT_MARGINS:20,TINY_MENU_SIZE:50},EDITOR_CLIPBOARD_TYPES:{COMPONENT:"COMPONENT",COMPONENT_DESIGN:"COMPONENT_DESIGN"},MULTISELECT:{TYPE:"MultiSelect",SINGLE_SELECTION_COMPONENT_TYPES:["wysiwyg.viewer.components.tpapps.TPASection","wysiwyg.viewer.components.tpapps.TPAMultiSection","wysiwyg.viewer.components.tpapps.TPAGluedWidget","tpa.viewer.components.tpapps.TPASection","tpa.viewer.components.tpapps.TPAMultiSection","tpa.viewer.components.tpapps.TPAGluedWidget","mobile.core.components.Page","wysiwyg.viewer.components.HeaderContainer","wysiwyg.viewer.components.FooterContainer"]},DEVELOPER_MODE:{CONTEXT_TYPES:{PAGE:"PAGE",FILE:"FILE"},IDE_CONTAINER_STATES:{MINIMIZED:"minimized",MAXIMIZED:"maximized",CUSTOM:"custom"}},SAVE_PUBLISH:{DURATION_TO_SHOW_RESULT:3e3,SAVE_REMINDER_TIMEOUT:12e5,SAVE_TOOLTIP_TIMEOUT:3e5,SAVE_TOOLTIP_DURATION:4e3},PANELS:{PANEL_SIZE_TO_KEEP_IN_VIEW:145,PIN_TOO_BIG:{PANEL_NAME:"panels.focusPanels.sizeRestrictionPanel",PIN_TOO_BIG_DONT_SHOW_AGAIN:"pinTooBig.dontShowAgain"}},USER_ACTIONS:{ORIGIN:{GFPP:"gfpp",DOUBLE_CLICK:"double_click"}},COMP_TYPES:{ANCHOR:"wysiwyg.common.components.anchor.viewer.Anchor"},HELP_URLS:{FEEDBACK:"https://{$lang}.wix.com/support/html5/article/suggestions-and-feedback-the-editor-1167312"},MENU_BAR_KEYBOARD_CTXT:"MENU_BAR",KEYBOARD_SPECIAL_KEY:{label:b.browserUtil.isMacintosh()?"⌘":"Ctrl",value:b.browserUtil.isMacintosh()?"command":"ctrl"},CONNECT_DOMAIN:{FLOWS:{SAVE:"save",PUBLISH:"publish",PUBLISH_BUTTON:"publish_button",TOP_BAR:"top_bar"}},ANCHORS_MENU:{NEW_ANCHOR_POS_MARGIN:60},PREVIEW:{FLOATING_BUBBLE_TIMEOUT:4e3},SECTIONS_REORGANIZE:{ZOOM_OUT_SCALE:.5,ZOOM_IN_SCALE:1,ZOOM_IN_DELAY_MS:500,STRIP_WIDTH:24},MUSIC_PROMO:{TEMPLATE_IDS:["a40fa859-2414-4ed7-879d-85162a1d7d7f","d19b7f18-b7b1-4ba5-a411-899b180e92e0","ef885be1-3846-4bf3-bdb3-2ba8df0e7f17","c063226c-389a-4d04-ac82-8433bc1dfd99","d15fe54e-5758-42f0-a004-5330bd226934","c879820a-c71b-4697-ac94-7ac5d4dd60db","06e8e719-3f93-4fba-b143-e7d050805a53","888ea0c5-1e5f-44dc-bef1-b279be1ada5d","602d464e-8e5a-48ff-966e-ca12e0aab208","13110526-b739-2b05-bd74-7e88d98c6bae","2b6824b2-3c26-4431-b228-82933a68ebe7","1311050e-5dca-f284-ebd0-1c5b6e60b8f7","12b78afc-e353-4c54-9581-f324231f4a4a","93abb361-5c81-4eaa-9a4b-3ed652a3c43a","11752135-7cd5-4f42-ad8d-47fddc794831","1010613c-4bd3-4250-9bbf-3beface22800","ed2956be-df81-48c5-9bb2-04a58d83d1bd","1328e84c-b14a-19f6-9383-40a56332ac0d","19f7496d-f1e1-4b83-8804-74442b5b1c62","dafd8a1a-56dd-4a89-97b7-3d37c754577f","9173e5f8-12b3-4297-b18d-e8255a9a5770","edba47b4-9bbb-4f60-8914-31441576141f","1177cae2-6ad2-4993-9f6a-656cd875854a","858e22eb-933d-47ed-b9c4-f3da0d16358d","d9c80554-eee7-48a0-a36e-8f10b7f05bdf","a80ba887-f853-44cf-aeee-218b716bffad","5aceb67b-a429-4e6f-98df-819ab8e54535","dfe198cd-3474-454f-aa26-082de7730632","24ef8660-7354-4687-8028-f6c6514d4a70","9c99dd80-7b8b-4f1c-abc2-b67923579571","fcb83e7c-bf51-4f12-a213-ced349322508","7776cbc7-a889-470a-b106-0629717bf9ac","5c1beed4-ac61-4783-a2ea-182dece51d13","717ae0ef-b9b4-44eb-9765-4412d2b6ec9f","af2d12f6-698b-4e0d-a537-60f6c6db815e","a0e9bcd6-25aa-4b01-aea2-bcaa26ccc009","3acde861-ac0f-41ab-b559-f696ae09df96","e72ca344-638d-45cd-900d-28efdb7214c0","c8bcc939-022d-407d-a438-d8dbff264c8a","935c05d6-8e89-4f07-acf0-3f754c5ecce4","7780d359-bab9-4668-8548-651497073b8f","69a0b246-1700-40e5-b6ce-998e7e91e7a2","0a5e98d6-e012-4945-b86c-3e2e889e5dcd","85cfc126-992c-4b8e-90f9-24010258603a","57208171-c020-47ea-92ee-73906cddab53","6db4bd1e-791d-41ef-94f6-6d29cf08af66","7fdcf344-27eb-4292-94df-4960f93aa834","68742d4b-c9e7-4809-9594-0da828699a72","92f4869b-53e4-4b9c-8fe7-f6ba6967848b","ccf8f527-66e0-42be-acb5-8d5e58daebf0","13110226-4a9e-f84b-c38b-e8146cb5f729","253b97cc-baf0-43d6-8851-fe412cce7fba","17ec5e01-64cd-4077-aa33-72dc97c5388e"],WIDGET_ID:"13bb5dc2-a098-5a74-502b-6bac84e80b23",APP_DEFINITION_ID:"13bb5d67-1add-e770-a71f-001277e17c57"},ADD_PANEL:{SECTION_COMP_TYPES:["wysiwyg.viewer.components.StripContainer","wysiwyg.viewer.components.BgImageStrip","tpa.viewer.components.StripSlideshow","tpa.viewer.components.StripShowcase","tpa.viewer.components.Collage","wysiwyg.viewer.components.StripContainerSlideShow"]},VERTICAL_ANCHORS_MENU:{OFFSET:{RIGHT:16}},BI:{HELP:{ORIGIN:{ADD_PANEL:"addpanel",LEFTBAR:"leftbar",GFPP:"gfpp",PAGES:"pages",PANEL:"panel",TOPBAR:"topbar",TOOLBAR:"toolbar"}}},PROGRESS_STATUS:{IDLE:"idle",IN_PROGRESS:"inProgress",DONE_SUCCESS:"doneSuccess",DONE_FAILED:"doneFail"},COMP_ALIGNMENT_OPTIONS:{LEFT:"left",RIGHT:"right",CENTER:"center",TOP:"top",BOTTOM:"bottom",MIDDLE:"middle"},COMP_DISTRIBUTION_OPTIONS:{BOTH:"verticalAndHorizontal",VERTICAL:"vertical",HORIZONTAL:"horizontal"},COMP_MATCH_SIZE_OPTIONS:{WIDTH:"width",HEIGHT:"height",BOTH:"heightAndWidth"}};return a.assign(d,c)}),define("core/utils/addComponentPlugins/plugins/verticalAnchorsMenu",["lodash","core/app/constants"],function(a,b){"use strict";return function(a,c,d,e,f,g){var h=e.layout;h.fixedPosition&&(h.docked.right.px+=b.SECTIONS_REORGANIZE.STRIP_WIDTH,h.docked.right.px+=a.isVerticalScrollbarHidden()?.01*window.innerWidth:b.SECTIONS_REORGANIZE.STRIP_WIDTH,delete h.x,delete h.y);var i=c(d,e);return g&&a.waitForChangesApplied(function(){g(i)}),i}}),define("core/utils/addComponentPlugins/plugins/stripContainer",[],function(){"use strict";return function(a,b,c,d){d.layout.x=0}}),define("core/utils/addComponentPlugins/plugins/wTwitterTweet",[],function(){"use strict";return function(a,b,c,d){d.data.urlFormat=a.generalInfo.urlFormat.get()}}),define("core/utils/addComponentPlugins/addComponentPlugins",["core/utils/addComponentPlugins/plugins/page","core/utils/addComponentPlugins/plugins/anchor","core/utils/addComponentPlugins/plugins/documentMedia","core/utils/addComponentPlugins/plugins/audioPlayer","core/utils/addComponentPlugins/plugins/singleAudioPlayer","core/utils/addComponentPlugins/plugins/contactForm","core/utils/addComponentPlugins/plugins/clipArt","core/utils/addComponentPlugins/plugins/svgShape","core/utils/addComponentPlugins/plugins/wPhoto","core/utils/addComponentPlugins/plugins/verticalAnchorsMenu","core/utils/addComponentPlugins/plugins/stripContainer","core/utils/addComponentPlugins/plugins/wTwitterTweet"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";var m={"mobile.core.components.Page":a,"wysiwyg.common.components.anchor.viewer.Anchor":b,"wysiwyg.viewer.components.documentmedia.DocumentMedia":c,"wysiwyg.viewer.components.AudioPlayer":d,"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer":e,"wysiwyg.viewer.components.ClipArt":g,"wysiwyg.viewer.components.ContactForm":f,"wysiwyg.viewer.components.svgshape.SvgShape":h,"wysiwyg.viewer.components.WPhoto":i,"wysiwyg.viewer.components.StripContainer":k,"wysiwyg.common.components.verticalanchorsmenu.viewer.VerticalAnchorsMenu":j,"wysiwyg.viewer.components.WTwitterTweet":l};return m}),define("core/utils/addUtil",["core/utils/addComponentPlugins/addComponentPlugins","core/utils/updateDataPlugins/updateDataPlugins"],function(a,b){"use strict";var c=function(c,d,e,f,g,h){var i=f.componentType,j=f.data&&f.data.type;if(b[j]&&(f.data=b[j](f.data)),a[i]){var k=a[i](c,d,e,f,g,h);if(k)return k}var l=d(e,f,g);return h&&c.waitForChangesApplied(function(){h(l)}),l};return{addComponent:c,componentsWithPlugins:Object.keys(a)}}),define("core/bi/events.json",[],function(){return{editor:{EDITOR_READY:{evid:429,fields:{is_premium:"boolean",is_template:"boolean",window_width:"number",window_height:"number",screen_width:"number",screen_height:"number",avail_width:"number",avail_height:"number",prefetch:"boolean",experiments:"string"}},PREFETCH_START:{evid:588},PREFETCH_FINISH:{evid:589},MAIN_R_LOADED:{evid:458},EDITOR_LOADED:{evid:459},component_removed:{evid:279,fields:{app_id:"guid",app_site_id:"guid",component_id:"string",component_type:"string",instance_id:"guid",is_last:"boolean",removal_method:"string"},sampleRatio:10},undo_redo_component_change:{evid:281,fields:{app_id:"guid",app_site_id:"guid",component_id:"string",component_type:"string",instance_id:"guid",status_change:"string",origin:"string",type:"string"}},hide_tools:{hide_controls:{evid:499,fields:{origin:"string"}},show_controls:{evid:500,fields:{origin:"string"}},show_controls_tooltip_appearance:{evid:501},show_controls_tooltip_close:{evid:502}}},topbar:{top_bar_click:{evid:285,fields:{category:"string"}},top_bar_Preview_Page_Back_to_Editor_click:{evid:293},top_bar_Preview_Page_Save_click:{evid:294},top_bar_SITE_menu_click:{evid:286},top_bar_EDIT_menu_click:{evid:288,fields:{category:"string",component_id:"string",component_type:"string"}},top_bar_VIEW_menu_click:{evid:287,fields:{category:"string",status:"boolean",editor_view_mode:"string"}},top_bar_HELP_menu_click:{evid:460,fields:{category:"string"}},top_bar_open_settings_click:{evid:289},top_bar_compare_plans_click:{evid:290},top_bar_get_yearly_unlimited_click:{evid:455},top_bar_editor_view_mode_click:{evid:291,fields:{editor_view_mode:"string"}},top_bar_zoom_mode_click:{evid:548,fields:{editor_view_mode:"string"}},mobile_view_mode_toggle:{evid:292,fields:{origin:"string",status:"bool"}},top_bar_preview_page_editor_view_mode_click:{evid:295,fields:{editor_view_mode:"string"}},editor_view_mode_switch:{evid:568,fields:{mode:"string",origin:"string"}},pages:{top_bar_PAGES_Add_pages_expand_menu_selection_click:{evid:412,fields:{category:"string"}},top_bar_PAGES_Add_pages_click:{evid:413,fields:{}},top_bar_PAGES_page_transition_click:{evid:414,fields:{}},top_bar_PAGES_page_transition_selected_click:{evid:415,fields:{category:"string"}},top_bar_PAGES_menu_drag:{evid:416,fields:{}},top_bar_PAGES_menu_sub_page_created:{evid:417,fields:{origin:"string"}},top_bar_PAGES_menu_user_reverted_to_main_page:{evid:418,fields:{origin:"string"}},top_bar_PAGES_quick_actions_menu_click:{evid:419,fields:{}},top_bar_PAGES_settings_close:{evid:420,fields:{origin:"string"}},top_bar_PAGES_quick_actions_menu_select_click:{evid:421,fields:{category:"string"}},top_bar_PAGES_settings_tab_click:{evid:422,fields:{category:"string"}},top_bar_PAGES_settings_page_info_home_page_change_click:{evid:425,fields:{}},top_bar_PAGES_settings_page_info_home_page_change_set_click:{evid:426,fields:{}},top_bar_PAGES_settings_duplicate_page_click:{evid:427,fields:{}},top_bar_PAGES_settings_delete_page_click:{evid:428,fields:{}},top_bar_PAGES_settings_privacy_language_selected_click:{evid:430,fields:{language_selected:"string",category:"string"}},top_bar_PAGES_settings_privacy_changed:{evid:431,fields:{privacy:"string",page_index:"guid"}},top_bar_PAGES_settings_seo_google_preview_click:{evid:432,fields:{}},top_bar_PAGES_settings_seo_title_set:{evid:433,fields:{}},top_bar_PAGES_settings_seo_description_set:{evid:434,fields:{}},top_bar_PAGES_settings_seo_keywords_set:{evid:435,fields:{}},top_bar_PAGES_settings_hide_from_mobile_done_click:{evid:436,fields:{category:"string"}},top_bar_PAGES_special_pages_icon_click:{evid:452,fields:{type:"string"}},top_bar_PAGES_special_pages_back_click:{evid:453,fields:{}},top_bar_PAGES_navigate_to_page:{evid:454,fields:{page_id:"string"}},top_bar_PAGES_store_pages_store_manager_click:{evid:439,fields:{}}},zoombar:{zoom_mode_bar_exit_zoom_mode:{evid:549,fields:{editor_view_mode:"string"}}}},toolbar:{TOOL_BAR_ALIGNMENT_CLICK:{evid:261,fields:{}},TOOL_BAR_ALIGNMENT_MENU_CLICK:{evid:262,fields:{category:"string"}},TOOL_BAR_DISTRIBUTION_CLICK:{evid:263,fields:{}},TOOL_BAR_DISTRIBUTION_MENU_CLICK:{evid:264,fields:{category:"string"}},TOOL_BAR_MATCH_SIZE_CLICK:{evid:415,fields:{}},TOOL_BAR_MATCH_SIZE_MENU_CLICK:{evid:266,fields:{category:"string"}}},multiSelectLayoutPanel:{MULTISELECT_LAYOUT_PANEL_ALIGNMENT_CLICKED:{evid:493,fields:{category:"string"}},MULTISELECT_LAYOUT_PANEL_DISTRIBUTION_CLICKED:{evid:495,fields:{category:"string"}},MULTISELECT_LAYOUT_PANEL_MATCH_SIZE_CLICKED:{evid:496,fields:{category:"string"}}},gfpp:{GFPP_BUTTON_CLICK:{evid:100,fields:{action_name:"string",component_id:"string",component_type:"string",icon:"string"}},GFPP_EXTRA_BUTTONS_SHOWN:{evid:129,fields:{component_id:"string",component_type:"string"}}},textControls:{Text_Panel_opened:{evid:224,fields:{origin:"string"},sampleRatio:10},Text_Panel_Color_Click:{evid:241,fields:{panel_name:"string"}},Text_Panel_Highlight_Click:{evid:242,fields:{panel_name:"string"}},Text_Panel_Reset_to_theme_Click:{evid:249,fields:{panel_name:"string"}},Text_Panel_Indentation_Click:{evid:238,fields:{panel_name:"string",category:"string"}},Text_Panel_Text_Orientation_Click:{evid:239,fields:{panel_name:"string",category:"string"}},Text_panel_save_theme_Click:{evid:268,fields:{}},text_save_theme_dialog_save_click:{evid:269,fields:{}},text_languages_support_dialog_save_click:{evid:270,fields:{}},text_languages_support_learn_more_click:{evid:271,fields:{}},Text_Panel_Font_Language_Link_Click:{evid:229,fields:{panel_name:"string"}}},addPanel:{ADD_MENU_CATEGORY_CLICK:{evid:102,fields:{category:"string"}},ADD_MENU_CATEGORY_HOVER:{evid:103,fields:{origin:"string",category:"string"},sampleRatio:10},ADD_MENU_HELP_CATEGORY_CLICK:{evid:104,fields:{category:"string"}},ADD_MENU_MAX_CATEGORY_SCROLL:{evid:111,fields:{max_hover_item:"numeric",section:"string",category:"string"}},ADD_MENU_SHAPES_MORE_CLICK:{evid:112,fields:{section:"string"}},ADD_MENU_SOCIAL_SETTINGS_CLICK:{evid:114,fields:{}},ADD_MENU_INNER_NAVIGATION_OPENED_CLICK:{evid:117,fields:{category:"string"}},ADD_MENU_INNER_NAVIGATION_OPENED_AUTOMATICALLY:{evid:118,fields:{category:"string"}},ADD_MENU_INNER_NAVIGATION_CLOSE_CLICK:{evid:119,fields:{category:"string"}},ADD_MENU_INNER_NAVIGATION_CHOOSE_SECTION_CLICK:{evid:121,fields:{section:"string",category:"string"}},ADD_MENU_DRAG_COMPONENT:{evid:122,fields:{section:"string",category:"string"}},COMPONENT_ADDED_TO_STAGE:{evid:123,fields:{origin:"string",component_type:"string",component_id:"string",adding_method:"string",preset_data_skin:"string",preset_data_tags:"string",section:"string",category:"string"}},ADD_MENU_IMAGE_SECTION_BUTTON_CLICK:{evid:125,fields:{section:"string"}}},designPanel:{DESIGN_PANEL_SELECT_PRESET_CLICK:{evid:275,fields:{style_id:"string",preset_id:"string",component_type:"string",component_id:"string",preset_data_skin:"string",preset_data_tags:"string",section:"string"}},DESIGN_PANEL_CUSTOMIZE_BUTTON_CLICK:{evid:276,fields:{was_preset_clicked_current_session:"boolean",component_type:"string",component_id:"string",chosen_style_id:"string"}}},ADVANCED_STYLE_PANEL:{BACK_BUTTON_CLICK:{evid:323,fields:{component_type:"string"}},STATE_CHANGED:{evid:259,fields:{component_type:"string",mouse_state:"string"}},SCROLL_SKINS:{evid:255,fields:{component_type:"string",navigation_arrow:"string"},sampleRatio:10},SKIN_CHANGE:{evid:256,fields:{component_type:"string",skin_id:"string"}},PANEL_CLOSED:{evid:322,fields:{component_type:"string"}},CATEGORY_CHANGE:{evid:257,fields:{component_type:"string",tab_id:"string"}}},mobileEditor:{hiddenElements:{HIDDEN_ELEMENTS_HIDE:{evid:299,fields:{current_page_name:"string",component_type:"string",origin:"string"}},HIDDEN_ELEMENTS_SHOW:{evid:300,fields:{current_page_name:"string",component_type:"string",section:"string"}},HIDDEN_ELEMENTS_REFRESH_LAYOUT_TOOLTIP_OPEN:{evid:302,fields:{current_page_name:"string"}},HIDDEN_ELEMENTS_REFRESH_LAYOUT_CLICK:{evid:301,fields:{}}},backToTop:{BACK_TO_TOP_SHOW_TOGGLE:{evid:303,fields:{toggle_status:"string"}},BACK_TO_TOP_PREVIEW_CLICK:{evid:304,fields:{}}}},commonControls:{FIRST_TIME_INFO_BOX:{LEARN_MORE:{evid:347,fields:{panel_name:"string"}},CLOSE:{evid:348,fields:{panel_name:"string"}}},Tooltip_OpenClose:{evid:343,fields:{panel_name:"string",control_name:"string",section_name:"string",state:"string"}},Tooltip_LearnMore_Click:{evid:344,fields:{panel_name:"string",control_name:"string",value:"string"}},Panel_Header_Close:{evid:345,fields:{panel_name:"string",control_name:"string",origin:"string"}},Panel_Header_HelpClick:{evid:346,fields:{panel_name:"string",control_name:"string"}},Panel_FirstTime_LearnMoreClick:{evid:347,fields:{panel_name:"string",control_name:"string"}},Toggle_Click:{evid:361,fields:{control_name:"string",panel_name:"string",section_name:"string",state:"string"}},DropDown_Selection:{evid:355,fields:{control_name:"string",panel_name:"string",section_name:"string",selection:"string"}},Slider_ValueChange:{evid:365,fields:{control_name:"string",panel_name:"string",section_name:"string",selected_value:"string",value_change_origin:"string"}},RadioButtonsList_Selection:{evid:359,fields:{control_name:"string",panel_name:"string",section_name:"string",selection:"string"}}},myMediaPanel:{my_uploads_panel_section_click:{evid:370,fields:{section:"string"}}},animationPanel:{animation_panel_behavior_click:{evid:371,fields:{behavior_name:"string",action_name:"string",component_name:"string"}},animation_panel_customize_click:{evid:372,fields:{behavior_name:"string",action_name:"string",component_name:"string"}},animation_panel_behavior_saved:{evid:373,fields:{behavior_name:"string",action_name:"string",component_name:"string",duration:"numeric",delay:"numeric",direction:"string",cycle:"numeric",animate_once:"boolean"}},animation_panel_behavior_deleted:{evid:374,fields:{behavior_name:"string",action_name:"string",component_name:"string"}}},backgroundPanel:{panel_background_changed:{evid:375,fields:{origin:"string",bg_media_type:"string",bg_mobile_detached:"string",bg_media_name:"string",bg_page_id:"string",bg_preset_index:"number",bg_vendor_name:"string",bg_vendor_media_id:"string",bg_color:"string",bg_fitting:"string",bg_positioning:"string",bg_opacity:"number",bg_scroll_with_site:"string",bg_overlay_color:"string",bg_overlay_color_opacity:"string",bg_video_overlay_pattern:"string",bg_video_loop:"string",bg_slideshow_image_fitting:"string",bg_slideshow_transition_type:"string",bg_slideshow_transition_duration:"number",bg_slideshow_transition_direction:"string",bg_slideshow_pausebetweenimages:"number"}},panel_apply_to_other_pages_click:{evid:376,fields:{}},panel_apply_to_other_pages_ok:{evid:377,fields:{all_pages_selected:"string",num_unselected_pages:"number",num_selected_pages:"string"}}},stripContainerSettings:{strip_background_panel_background_changed:{evid:487,fields:{origin:"string",bg_media_type:"string",bg_mobile_detached:"string",bg_media_name:"string",bg_page_id:"string",bg_preset_index:"number",bg_vendor_name:"string",bg_vendor_media_id:"string",bg_color:"string",bg_fitting:"string",bg_positioning:"string",bg_opacity:"number",bg_scroll_with_site:"string",bg_overlay_color:"string",bg_overlay_color_opacity:"string",bg_video_overlay_pattern:"string",bg_video_loop:"string",bg_slideshow_image_fitting:"string",bg_slideshow_transition_type:"string",bg_slideshow_transition_duration:"number",bg_slideshow_transition_direction:"string",bg_slideshow_pausebetweenimages:"number"}}},lists:{LIST_DB_MANAGER_CLOSE_CLICK:{src:59,endpoint:"listim2",evid:111,fields:{list_part_id:"string",component_id:"string"}},LIST_DB_MANAGER_HELP_CLICK:{src:59,endpoint:"listim2",evid:112,fields:{list_part_id:"string",component_id:"string"}},LIST_DB_MANAGER_MANAGE_ITEMS_CLICK:{src:59,endpoint:"listim2",evid:120,fields:{origin:"string",list_part_id:"string",component_id:"string"}},LIST_SETTINGS_PANEL_OPENED:{src:59,endpoint:"listim2",evid:101,fields:{list_part_id:"string",component_id:"string"}},USER_RENAMED_THE_LIST:{src:59,endpoint:"listim2",evid:102,fields:{list_part_id:"string",component_id:"string",new_list_name:"string"}},LIST_DESIGN_PANEL_OPENED:{src:59,endpoint:"listim2",evid:122,fields:{list_part_id:"string",component_id:"string"}},LIST_DESIGN_PRESET_CHANGED:{src:59,endpoint:"listim2",evid:123,fields:{list_part_id:"string",component_id:"string",preset_id:"string"}},LIST_DESIGN_FIELD_VISIBILITY_CHANGED:{src:59,endpoint:"listim2",evid:124,fields:{list_part_id:"string",component_id:"string",field_id:"string",field_display_name:"string",field_type:"string",check_box_status:"string"}},LIST_DESIGN_FIELD_CUSTOMIZE_CLICKED:{src:59,endpoint:"listim2",evid:125,fields:{list_part_id:"string",field_id:"string",field_display_name:"string",field_type:"string"}},LIST_DESIGN_FIELD_STYLE_CHANGED:{src:59,endpoint:"listim2",evid:126,fields:{list_part_id:"string",component_id:"string",field_id:"string",field_display_name:"string",field_type:"string",new_style_id:"string"}},LIST_DESIGN_BACK_CLICKED:{src:59,endpoint:"listim2",evid:129,fields:{list_part_id:"string",component_id:"string",back_to_panel_name:"string"}}},rightClickMenu:{RIGHT_CLICK_MENU_OPEN:{evid:130,fields:{category:"string",component:"string"}},CUT:{evid:180,fields:{app_id:"guid",app_site_id:"guid",component_type:"string",instance_id:"guid",origin:"string"}},COPY:{evid:181,fields:{app_id:"guid",app_site_id:"guid",component_type:"string",instance_id:"guid",origin:"string"}},PASTE:{evid:182,fields:{app_id:"guid",app_site_id:"guid",component_type:"string",instance_id:"guid",origin:"string"}},DUPLICATE:{evid:183,fields:{app_id:"guid",app_site_id:"guid",component_type:"string",instance_id:"guid",origin:"string"}},COPY_DESIGN:{evid:135,fields:{component_type:"string",instance_id:"guid",origin:"string"}},PASTE_DESIGN:{evid:136,fields:{component_type:"string",instance_id:"guid",origin:"string"}},COPY_DESIGN_HOVER:{evid:137,fields:{instance_id:"guid"}},PASTE_DESIGN_HOVER:{evid:138,fields:{instance_id:"guid"}},ARRANGE_HOVER:{evid:139,fields:{}},OVERLAPPING_ITEMS_HOVER:{evid:140,fields:{}},OVERLAPPING_ITEM_CLICK:{evid:141,fields:{component:"string"}},LOCK:{evid:142,fields:{origin:"string"}},UNLOCK:{evid:143,fields:{origin:"string"}},HIDE:{evid:145,fields:{origin:"string"}},SHOW_ON_ALL_PAGES:{evid:146,fields:{new_status:"string",origin:"string"}},FIXED_POSITION:{evid:147,fields:{component:"string",new_status:"string",origin:"string"}},BRING_TO_FRONT:{evid:148,fields:{origin:"string"}},SEND_TO_BACK:{evid:149,fields:{origin:"string"}},MOVE_FORWARD:{evid:150,fields:{origin:"string"}},MOVE_BACKWARDS:{evid:151,fields:{origin:"string"}},RIGHT_CLICK_MENU_ITEM_CLICK:{evid:330,fields:{component_type:"string",field_selected:"string"}},RIGHT_CLICK_MENU_CLOSE:{evid:331,fields:{component:"string",origin:"string"}}},editBox:{ROTATE_COMPONENT:{evid:153,fields:{value:"number",
origin:"string"}},CANCEL_ROTATE_COMPONENT:{evid:154,fields:{}},DRAG_BY_HANDLE:{evid:155,fields:{component_type:"string"}},RESIZE_BY_HANDLE:{evid:156,fields:{component_type:"string"}},RESIZE:{evid:157,fields:{handle_value:"string",origin:"string"},sampleRatio:10},MOVE_TO_FOOTER:{evid:468,fields:{component_type:"string"}}},publish:{PUBLISH_CLICK:{evid:222,src:38,fields:{origin:"string"}},First_Publish_connect_domain_click:{evid:379,fields:{user_status:"string",message:"string"}},Second_Publish_connect_domain_click:{evid:443,fields:{user_status:"string",message:"string"}},First_Publish_Done_click:{evid:380,fields:{user_status:"string",message:"string"}},Second_Publish_Done_click:{evid:394,fields:{user_status:"string",message:"string"}},First_Publish_dont_show_again_click:{evid:381,fields:{toggle:"bool",user_status:"string"}},First_Publish_try_to_edit_site_name_click:{evid:382,fields:{user_status:"string"}},Second_Publish_dont_show_again_click:{evid:395,fields:{toggle:"bool"}},First_Publish_Send_ShoutOut_link_click:{evid:383,fields:{user_status:"string"}},First_Publish_get_own_Mailbox_link_click:{evid:384,fields:{user_status:"string"}},First_Publish_Traffic_Apps_link_click:{evid:385,fields:{user_status:"string"}},Second_Publish_View_Site_click:{evid:388,fields:{user_status:"string"}},Second_Publish_facebook_Share_click:{evid:389,fields:{user_status:"string"}},Second_Publish_Twitter_share_click:{evid:390,fields:{user_status:"string"}},Second_Publish_ShoutOut_Share_click:{evid:391,fields:{user_status:"string"}},Second_Publish_get_own_Mailbox_click:{evid:392,fields:{user_status:"string"}},Second_Publish_Traffic_Apps_click:{evid:393,fields:{user_status:"string"}},Publish_Work_not_Published_Error_ok_Click:{evid:396,fields:{}},Publish_Work_not_Published_Error_Help_Center_Link_Click:{evid:397,fields:{}},publish_view_your_site_click:{evid:449,fields:{is_first_publish:"bool",panel_name:"string",user_status:"string"}},publish_flow_upgrade_now_button_click:{evid:272,fields:{is_first_publish:"bool",user_status:"string",message:"string"}},publish_flow_upgrade_later_button_click:{evid:273,fields:{is_first_publish:"bool",user_status:"string",message:"string"}},publish_flow_connect_domain_now_button_click:{evid:297,fields:{is_first_publish:"bool",user_status:"string",message:"string"}},publish_flow_connect_domain_later_button_click:{evid:305,fields:{is_first_publish:"bool",user_status:"string",message:"string"}},publish_success_panel_opened_with_content:{evid:469,fields:{is_first_publish:"bool",message:"string"}}},preview:{PREVIEW_CLICK:{evid:250,src:38,fields:{origin:"string"}}},save:{saveProcess:{SAVE_CLICK:{evid:260,fields:{origin:"string"}},START_SAVE_PROCESS:{evid:461,fields:{save_type:"string"}},SUCCESS_SAVE_PROCESS:{evid:462,fields:{duration:"numeric",save_type:"string"}}},chooseDomainPanel:{DOMAIN_OPTION_CLICKED:{evid:315,fields:{selection:"string"}},ACTION_BUTTON_CLICKED:{evid:317,fields:{value_selected:"string"}}},siteWasSavedPanel:{FIRST_SAVE_ACTION_BUTTON_CLICKED:{evid:325,fields:{}},HELP_CONNECTING_DOMAIN_CLICKED:{evid:326,fields:{}},CONNECT_NEW_DOMAIN_CLICKED:{evid:327,fields:{}},CONNECT_EXISTING_DOMAIN_CLICKED:{evid:328,fields:{}},First_Save_Dialog_2_maybe_later_click:{evid:329,fields:{}},PUBLISH_NOW_CLICKED:{evid:335,fields:{is_first_save:"boolean",user_status:"string"}},SECOND_SAVE_DONT_SHOW_AGAIN_CLICKED:{evid:336,fields:{toggle:"boolean",user_status:"string"}},SECOND_SAVE_ACTION_BUTTON_CLICKED:{evid:337,fields:{user_status:"string"}},SECOND_SAVE_CONNECT_DOMAIN_CLICKED:{evid:338,fields:{user_status:"string"}},SECOND_SAVE_PUBLISH_NOW_BUTTON_CLICKED:{evid:339,fields:{user_status:"string"}}},saveFailed:{First_Save_error_work_not_saved_error_close_click:{evid:340,fields:{}},First_Save_error_work_not_saved_error_ok_click:{evid:341,fields:{}},First_Save_error_work_not_saved_error_help_center_link_click:{evid:342,fields:{}},CONCURRENT_SAVE:{evid:447,fields:{selection:"string"}}},saveReminder:{REMINDER_DISPLAYED:{evid:456,fields:{origin:"string"}},SAVE_CLICKED:{evid:457,fields:{}}}},domainInput:{DISABLED_DOMAIN_PART_CLICKED:{evid:444,fields:{user_status:"string",save_or_publish:"string",panel_name:"string",is_first_save_or_publish:"boolean"}},DOMAIN_VALIDATION_ERROR:{evid:445,fields:{user_status:"string",panel_name:"string",is_first_save:"boolean"}},DOMAIN_EDIT_SAVE_CLICKED:{evid:446,fields:{user_status:"string",panel_name:"string",is_first_save:"boolean"}},DOMAIN_EDIT_CANCEL_CLICKED:{evid:448,fields:{user_status:"string",panel_name:"string",is_first_save:"boolean"}},DOMAIN_EDIT_CLICKED:{evid:450,fields:{user_status:"string",panel_name:"string",is_first_save:"boolean"}}},selection:{MULTISELECT:{evid:127,num_of_elements_selected:"number",selection_method:"string"}},colorPicker:{CHANGE_SITE_COLORS_LINK_CLICKED:{evid:131,fields:{}},SITE_COLOR_SELECT:{evid:132,fields:{index_selected_color:"numeric"},sampleRatio:10},ADD_COLOR_BUTTON_CLICKED:{evid:133,fields:{}},ADD_COLOR_LINK_CLICKED:{evid:134,fields:{}},CUSTOM_COLOR_SELECT:{evid:135,fields:{}},MAIN_PANEL_CLOSED:{evid:251,fields:{}},ADD_COLOR_PANEL_CLOSED:{evid:252,fields:{}},CHANGE_SITE_COLOR_CLOSED:{evid:253,fields:{}}},organizeImages:{ORGIMAGES_CLICK_CLOSE:{src:26,evid:201,fields:{}},ORGIMAGES_CLICK_CANCEL:{src:26,evid:202,fields:{}},ORGIMAGES_CLICK_CONFIRMATION:{src:26,evid:203,fields:{}},ORGIMAGES_CLICK_REPLACE:{src:26,evid:204,fields:{}},ORGIMAGES_CLICK_ADD_IMAGES:{src:26,evid:205,fields:{}},ORGIMAGES_START_REORDERING:{src:26,evid:206,fields:{}},ORGIMAGES_CLICK_DELETE:{src:26,evid:207,fields:{}},ORGIMAGES_DIALOG_LOADED:{src:26,evid:208,fields:{}},ORGIMAGES_CLICK_ORGIMAGES:{src:26,evid:209,fields:{}},ORGIMAGES_EDIT_TITLE:{src:26,evid:210,fields:{}},ORGIMAGES_EDIT_DESCRIPTION:{src:26,evid:211,fields:{}},ORGIMAGES_ADD_LINK:{evid:212,fields:{}},ORGIMAGES_USER_SETS_OPEN:{src:26,evid:137,fields:{}},ORGIMAGES_USER_SETS_ORDER_CHANGED:{src:26,evid:138,fields:{import_order:"string"}},ORGIMAGES_USER_SETS_TITLES_CHANGED:{src:26,evid:139,fields:{titles_import:"string"}},ORGIMAGES_USER_SETS_CONFIRM:{src:26,evid:140,fields:{}},ORGIMAGES_USER_SETS_CLOSE:{src:26,evid:141,fields:{}}},pinToScreen:{OPEN_PIN_TO_SCREEN_PANEL:{evid:332,src:38,fields:{origin:"string",component_type:"string"}},UNPIN:{evid:333,src:38,fields:{origin:"string",component_type:"string"}},NOTIFICATION_TOO_BIG:{evid:349,src:38,fields:{state:"string",component_type:"string"}},POSITION_SELECTED:{evid:382,src:38,fields:{selected_area:"string",component_type:"string"}},DRAG_ATTEMPT:{evid:386,src:38,fields:{component_type:"string"}}},imageCrop:{Open_crop_mode:{evid:510,fields:{fixed_layout:"bool"}},open_crop_options_menu:{evid:511},crop_option_selected:{evid:512,fields:{action_name:"string"}},apply_crop:{evid:513,fields:{is_changed:"bool",origin:"string"}},resize_the_frame_in_crop_mode:{evid:514},try_to_drag_the_crop_tool_bar:{evid:515}},musicPromotionPopup:{submit_video_clicked:{evid:306,fields:{origin:"string"}}},applyStyle:{COPY_STYLE_CHOOSE_STYLES_TO_REPLACE_CLICK:{evid:319,src:38,fields:{status:"bool",style_id:"string",component_id:"string",component_type:"string"}},COPY_STYLE_RCM_CLICK:{evid:318,src:38,fields:{component_id:"string",component_type:"string"}},COPY_STYLE_CANCEL:{evid:320,src:38,fields:{component_id:"string",component_type:"string"}},COPY_STYLE_APPLY:{evid:321,src:38,fields:{num_of_styles_chosen:"numeric",component_id:"string",component_type:"string"}}},sectionReorganize:{zoom_mode_spacer_drag:{evid:550,src:38},reorder_panel_clicked:{evid:551,src:38,fields:{action_clicked:"string",editor_view_mode:"string"}},header_label_appear:{evid:554,src:38,fields:{editor_view_mode:"string"},sampleRatio:10},footer_label_appear:{evid:555,src:38,fields:{editor_view_mode:"string"},sampleRatio:10},footer_tooltip_hover:{evid:553,src:38,fields:{editor_view_mode:"string"}},header_tooltip_hover:{evid:552,src:38,fields:{editor_view_mode:"string"}},SECTION_APPEARANCE:{evid:470,src:38,fields:{page_id:"string"}},HOVER_SECTION_HANDLE:{evid:471,src:38,fields:{page_id:"string",section_size:"string"},sampleRatio:10},REORDER_SECTION:{evid:472,src:38,fields:{position_before:"string",position_after:"string",page_id:"string",section_size:"string"}},SPACE_TOP_DRAG:{evid:473,src:38,fields:{page_id:"string",section_size:"string"}},SPACE_BOTTOM_DRAG:{evid:474,src:38,fields:{page_id:"string",section_size:"string"}},SECTION_ZOOM_IN:{evid:475,src:38,fields:{page_id:"string",scale:"numeric"}},SECTION_ZOOM_OUT:{evid:476,src:38,fields:{page_id:"string",scale:"numeric"}}},newEditorWelcomeScreens:{POP_UP_OPEN_WITH_BACK_OPTION:{evid:478,src:38,fields:{site_id:"guid"}},POP_UP_OPEN_WITHOUT_BACK_OPTION:{evid:479,src:38,fields:{site_id:"guid"}},LEARN_MORE_CLICK_WITHOUT_BACK_OPTION:{evid:480,src:38,fields:{duration:"numeric",site_id:"guid"}},LEARN_MORE_CLICK_WITH_BACK_OPTION:{evid:481,src:38,fields:{duration:"numeric",site_id:"guid"}},START_NOW_CLICK_WITH_BACK_OPTION:{evid:482,src:38,fields:{duration:"numeric",site_id:"guid"}},START_NOW_CLICK_WITHOUT_BACK_OPTION:{evid:483,src:38,fields:{duration:"numeric",site_id:"guid"}},ESC_CLICK_WITHOUT_BACK_OPTION:{evid:484,src:38,fields:{duration:"numeric",site_id:"guid"}},ESC_CLICK_WITH_BACK_OPTION:{evid:485,src:38,fields:{duration:"numeric",site_id:"guid"}},BACK_TO_OLD_EDITOR_CLICK:{evid:486,src:38,fields:{duration:"numeric",site_id:"guid"}}},siteImageQualitySettingsPanel:{site_image_quality_settings_panel_apply:{evid:517,src:38,fields:{origin:"string",preset:"string",unsharp_amount:"numeric",unsharp_radius:"numeric",unsharp_threshold:"numeric"}}},newUserIntroVideoPanel:{INTRO_VIDEO_PAGE_LOADS:{evid:490,src:38,fields:{site_id:"guid"}},INTRO_VIDEO_START_NOW_CLICK:{evid:491,src:38,fields:{duration:"numeric",site_id:"guid"}},INTRO_VIDEO_CLOSE:{evid:492,src:38,fields:{duration:"numeric",origin:"string",video_url:"string",site_id:"guid"}}},newFeaturesVideoPanel:{NEW_FEATURES_INTRO_VIDEO_PAGE_LOADS:{evid:590,src:38,fields:{site_id:"guid"}},NEW_FEATURES_INTRO_VIDEO_START_NOW_CLICK:{evid:591,src:38,fields:{duration:"numeric",site_id:"guid"}},NEW_FEATURES_INTRO_VIDEO_CLOSE:{evid:592,src:38,fields:{duration:"numeric",origin:"string",video_url:"string",site_id:"guid"}}},urlTooltip:{url_tooltip_opened:{evid:543,src:38,endpoint:"editor",fields:{}},url_tooltip_action_clicked:{evid:544,src:38,endpoint:"editor",fields:{name_value:"string",translate_mode:"string",action:"string"}},url_tooltip_notification_appeared:{evid:545,src:38,endpoint:"editor",fields:{}},url_tooltip_notification_clicked:{evid:546,src:38,endpoint:"editor",fields:{}},url_tooltip_notification_disappeared:{evid:547,src:38,endpoint:"editor",fields:{}}},welcomeVideoPanel:{WELCOME_SCREEN_CLOSED:{evid:497,src:38,fields:{panel_name:"string",origin:"string"}}},concurrentUsers:{CONCURRENT_USERS_POPUP_OK_CLICK:{evid:494,src:38,fields:{user:"string",count:"numeric",is_first:"boolean"}}},wixstores:{WIXSTORES_MIGRATION_UPGRADE_CLICKED:{evid:506,src:38,endpoint:"editor",fields:{origin:"string"}}},help:{HELP_CLICK:{evid:254,src:38,fields:{learn_more:"boolean",panel_name:"string",origin:"string",component:"string"}}},imageFiltersPanel:{image_filter_panel_closed:{evid:556,src:38,fields:{filter_name:"string",component_name:"string",origin:"string"}}},rulers:{RULERS_HOVER:{evid:520,src:38,fields:{editor_view_mode:"string"}},RULERS_CLICKED:{evid:521,src:38,fields:{editor_view_mode:"string",xCoordinate:"string",yCoordinate:"string"}},GUIDE_DRAGGED:{evid:523,src:38,fields:{editor_view_mode:"string",xCoordinate_new:"string",xCoordinate_old:"string",yCoordinate_new:"string",yCoordinate_old:"string"}},GUIDE_DELETED:{evid:524,src:38,fields:{editor_view_mode:"string",origin:"string"}},GUIDE_TOOLTIP_APPEAR:{evid:525,src:38,fields:{editor_view_mode:"string"}},GUIDE_TOOLTIP_IN_EDIT_MODE:{evid:526,src:38,fields:{editor_view_mode:"string",origin:"string"}},VALUE_CHANGE_IN_GUIDE_TOOLTIP:{evid:558,src:38,fields:{editor_view_mode:"string",type:"string",value:"string",valid_value:"string"}}},boxSlideShow:{MANAGE_SLIDES_SLIDE_ACTION_SELECTED:{evid:533,fields:{action:"string"}},SLIDES_NAVIGATION:{evid:534,fields:{componentType:"string",component_id:"string",origin:"string"}},MANAGE_SLIDES_SLIDE_REORDERED:{evid:535,fields:{componentType:"string",component_id:"string"}},MANAGE_SLIDES_ACTION_MENU_OPENED:{evid:536,fields:{componentType:"string",component_id:"string"}},MANAGE_SLIDES_ADD_NEW_SLIDE:{evid:537,fields:{componentType:"string",component_id:"string"}},MANAGE_SLIDES_DUPLICATE_CURRENT_SLIDE:{evid:538,fields:{componentType:"string",component_id:"string"}},APPLY_ON_OTHER_SLIDES_CLICKED:{evid:539,fields:{componentType:"string",component_id:"string"}},APPLY_ON_OTHER_SLIDES_SELECTED_SLIDES:{evid:540,fields:{total_slides:"string",num_selected_slides:"string",all_slides_selected:"boolean",componentType:"string",component_id:"string"}},SETTINGS_TRANSITION_SELECTED:{evid:541,fields:{transition:"string",componentType:"string",component_id:"string"}},SETTINGS_TRANSITION_DIRECTION_SELECTED:{evid:542,fields:{direction:"string",componentType:"string",component_id:"string"}}}}}),define("core/bi/errors.json",[],function(){return{TEST_ERROR:{errorName:"TEST_ERROR",errorCode:1,severity:"fatal"},SAVE_ERROR:{errorName:"SAVE_ERROR",errorCode:504,severity:"fatal",fields:{p1:"String"}},FIRST_SAVE_ERROR:{errorName:"SAVE_ERROR",errorCode:505,severity:"fatal",fields:{p1:"String"}},SITE_SETTINGS_JSON_PARSE_ERROR:{errorName:"SITE_SETTINGS_JSON_PARSE_ERROR",errorCode:1e4,severity:"error"},BG_MOBILE_DATA_DUPLICATION_ERROR:{errorName:"BG_MOBILE_DATA_DUPLICATION_ERROR",errorCode:3771,severity:"error"},OLD_TEXT_MIGRATION:{errorName:"OLD_TEXT_MIGRATION",errorCode:58,severity:"error"},TEXT_NESTED_STYLES:{errorName:"TEXT_NESTED_STYLES",errorCode:12901,severity:"error"}}}),define("core/bi/bi",["core/bi/events.json","core/bi/errors.json"],function(a,b){"use strict";var c=function(b){b.bi.register("core","event",a)};return{events:a,errors:b,registerEvents:c}}),define("core/utils/scrollUtils",["lodash"],function(a){"use strict";function b(){return document.getElementById("scrollableEditorStage")}return{getScroll:function(){var c=b();return a.pick(c,["scrollLeft","scrollTop","scrollHeight","scrollWidth"])},setScroll:function(c){var d=b();a.isUndefined(c.scrollTop)||(d.scrollTop=c.scrollTop),a.isUndefined(c.scrollLeft)||(d.scrollLeft=c.scrollLeft)}}}),define("core/utils/stageUtils",["lodash","core/utils/scrollUtils"],function(a,b){"use strict";function d(){var a=document.getElementById("stageContainer");return a?a.getBoundingClientRect():null}var c={top:68,bottom:68,left:72,right:60};return{getViewPort:function(a,e){var f=d();if(!f)return null;var g=b.getScroll(),h={y:c.top,minY:c.top,bottomY:f.height-c.bottom,maxBottomY:g.scrollHeight-c.bottom,marginBottom:c.bottom,x:c.left,rightX:f.width-c.right,height:f.height-(c.top+c.bottom),width:f.width-(c.left+c.right),scrollTop:g.scrollTop,scrollLeft:g.scrollLeft,stageLayout:f};a&&(h.y+=g.scrollTop,h.bottomY+=g.scrollTop,h.x+=g.scrollLeft,h.rightX+=g.scrollLeft);var i=e&&e.right+10;if(i&&i>h.x){var j=i-h.x;h.x=i,h.width-=j}return h},getStageLayout:d,getStageRect:function(){var a=d(),c=b.getScroll();return{top:c.scrollTop,bottom:c.scrollTop+a.height,left:c.scrollLeft,right:c.scrollLeft+a.width}}}}),define("core/utils/AttachHandler",["lodash","experiment"],function(a,b){"use strict";function f(a,b){return a.components.layout.getRelativeToScreenConsideringScroll(b)}function g(a){return a.isMobileEditor()}function h(b,c){var d=b.siteSegments.getFooter();return a.filter(c,function(a){var c=b.components.isDescendantOfComp(a,d),e=b.utils.isSameRef(a,d);return!e&&!c})}function i(b,c,i){var j=b.siteSegments.getHeader(),k=b.pages.getFocusedPageId(),l=b.components.getAllComponents(k);g(b,c.comp,i)&&(l=l.concat(b.siteSegments.getSiteStructure()));var m=i===d.COMP;return m&&!b.components.isShowOnAllPages(c.comp)&&(l=h(b,l)),a(l).filter(function(a){return!b.utils.isSameRef(a,c.comp)&&e[i].isContainable(b,c.comp,a)}).filter(function(a){return b.components.isRenderedOnSite(a)}).map(function(a){return{layout:f(b,a),comp:a}}).filter(function(a){var d=b.utils.isSameRef(a.comp,j);return a.layout.width>=c.layout.width&&(d||a.layout.height>=c.layout.height)}).value()}function j(b,c,d){return!a.isEmpty(c)&&b.utils.isSiteStructure(c)&&b.utils.isPage(d)}function k(a,c,e){var f=e===d.COMP;return b.isOpen("boxSlideShow")&&f&&a.components.isShownOnAllStates(c)}function l(b,c,d){return!a.isEmpty(c)&&!b.components.isShowOnAllPages(c)&&b.utils.isSiteStructure(d)}function m(b,c,d){return!a.isEmpty(c)&&!b.components.isShowOnAllPages(c)&&"wysiwyg.viewer.components.FooterContainer"===b.components.getType(d)}function n(a,b,c,d){var e=a.components.is.fullWidth(b),f=a.utils.isSameRef(b,a.siteSegments.getHeader());return(e||c.x>=d.x)&&(e||c.x+c.width<=d.x+d.width)&&(f||c.y>=d.y)&&c.y+c.height<=d.y+d.height}function o(b,c){var d=c.layout,f=c.comp,g=b.layout,h=e[this.type].getContainer(this.editorAPI,this.comp);return!(a.isEmpty(h)&&this.editorAPI.utils.isSiteStructure(f))&&!j(this.editorAPI,h,f)&&!l(this.editorAPI,h,f)&&!m(this.editorAPI,h,f)&&!this.editorAPI.utils.isSameRef(h,f)&&!k(this.editorAPI,this.comp,this.type)&&n(this.editorAPI,c.comp,g,d)&&p(this.editorAPI,this.type,b,c)}function p(a,c,e,f){if(b.isOpen("se_hoverBox")){var g=e.structure?null:e[d.COMP],h=e.structure?e[d.STRUCTURE]:null,i=f.comp;return q(a,g,h,i)}return!0}function q(a,b,d,e){return e&&a.components.getType(e)===c.HOVER_BOX?b&&!a.components.is.container(b)&&!a.components.is.group(b)||d&&"Container"!==d.type:!0}function r(b){var c=e[this.type].getContainer(this.editorAPI,this.comp);if(a.isEmpty(c)||!e[this.type].getCompLayout)return!0;var d=e[this.type].getCompLayout(this.editorAPI,c);return!s(b,d)}function s(a,b){return!(a.x>=b.x+b.width||b.x>=a.x+a.width||a.y>=b.y+b.height||b.y>=a.y+a.height)}function t(c,d){var e={layout:c};e[this.type]=this.comp;var f=a.find(this.attachCandidates,function(a){var f=!0;return b.isOpen("se_hoverBox")&&(f=p(this.editorAPI,this.type,e,a)),f?d?n(this.editorAPI,a.comp,c,a.layout):s(c,a.layout):!1},this);if(f){var g=o.call(this,e,f);if(g)return f.comp}return null}function u(a,b,c,d){var f=e[d].getContainer(a,c);return a.utils.isPage(f)?!1:a.isMobileEditor()?b&&!e[d].isShowOnAllPages(a,c):b}function v(a){var b=a||e[this.type].getCompLayout(this.editorAPI,this.comp),c=r.call(this,b),d=t.call(this,b,c);return d?d:u(this.editorAPI,c,this.comp,this.type)?this.editorAPI.pages.getFocusedPage():null}function w(){var b=e[this.type].getContainer(this.editorAPI,this.comp),c=this.editorAPI.components.modes.getComponentActiveModeIds(b);return!a.isEmpty(c)}function x(a){a&&this.editorAPI.utils.isSiteStructure(a)||this.editorAPI.setAttachCandidate(a,this.type===d.STRUCTURE)}function y(c,d,e){c&&(this.editorAPI=c,this.type=e,this.comp=d.comp,b.isOpen("se_hoverBox")&&w.call(this)?(this.attachCandidates=[],this.getCurrentAttachCandidate=a.noop):this.attachCandidates=i(c,d,e))}var c={HOVER_BOX:"wysiwyg.viewer.components.HoverBox"},d={COMP:"comp",STRUCTURE:"structure"},e={comp:{getContainer:function(a,b){return a.components.getContainer(b)},isContainable:function(a,b,c){return a.components.is.containable(b,c)&&!a.components.is.group(c)},getCompLayout:function(a,b){return a.components.layout.getRelativeToScreenConsideringScroll(b).bounding},getCompType:function(a,b){return a.components.getType(b)},isShowOnAllPages:function(a,b){return a.components.isShowOnAllPages(b)}},structure:{getCompType:function(){return""},getContainer:function(){return{}},isContainable:function(a,b,c){return a.components.is.containableByStructure(b,c)&&!a.components.is.group(c)},isShowOnAllPages:function(){return!1}}};return y.prototype={getCurrentAttachCandidate:v,highlightAttachCandidate:x},y.TYPES=d,y}),define("core/utils/gridLinesUtil",[],function(){"use strict";function a(a){var b=a.siteSegments.getPagesContainerAbsLayout(),c=a.getSiteScale();if(!c||1===c)return b;var d={y:b.y*c,width:b.width*c,height:b.height*c},e=b.width-d.width;return d.x=b.x+e/2,d}function b(a,b){var c=a.y+a.height,d=a.x+a.width,e={x1:a.x,y1:0,x2:a.x,y2:"100%"},f={x1:d,y1:0,x2:d,y2:"100%"},g={x1:0,y1:a.y,x2:"100%",y2:a.y},h={x1:0,y1:c,x2:"100%",y2:c};return b?[e,f]:[e,f,g,h]}function c(c,d){var e=a(c);return b(e,d)}function d(a,b){var c=a.components.layout.getCompMargin(b),d=a.components.layout.getRelativeToScreen(b),e=d.y+d.height,f=d.x+c.left,g=d.x+d.width-c.right,h={x1:f,y1:d.y,x2:f,y2:e},i={x1:g,y1:d.y,x2:g,y2:e};return[h,i]}return{getPageGridLines:c,getContainerGridLines:d}}),define("core/utils/SnapToHandler",["lodash","core/utils/stageUtils","core/utils/gridLinesUtil"],function(a,b,c){"use strict";function e(a,b){var c=a.siteSegments.getFooter();return b.id===c.id||a.components.isDescendantOfComp(b,c)||a.components.is.page(b)}function f(b,c){return a.isEqual(b.siteSegments.getHeader(),c)}function g(b,c){return a.isEqual(b.siteSegments.getFooter(),c)}function h(a,b){return b?a.components.is.page(b)||f(a,b)||g(a,b):!1}function i(a,b){var c=h(a,b),d=a.components.layout.getRelativeToScreen(b,c);return d.bounding}function j(b,c){var d=a.reduce(c,function(a,c){var d={};return d.comp=c,d.layout=i(b,c),d.isDynamicLayout=e(b,c),a.push(d),a},[]);return d.concat(l(b)).concat(k(b))}function k(b){var d=b.selection.getFocusedContainer();return d&&b.components.is.showMarginsIndicator(d)?a(d).thru(c.getContainerGridLines.bind(null,b)).map(function(a){return{layout:{x:a.x1,y:a.y1,height:a.y2-a.y1,width:0},isDynamicLayout:!1}}).value():[]}function l(b){if(!b.rulers.isRulersEnabled())return[];var c=L(b);return c=c.concat(M(b)),a.reduce(c,function(a,b){var c={layout:b,isDynamicLayout:!1};return a.push(c),a},[])}function m(b,c,e){var f=b.selection.isComponentSelected(e),g=b.components.is.groupedComponent(e),h=a.includes(d,e.id)||!b.components.isRenderedOnSite(e),i=b.components.layout.isRenderedInFixedPosition(e),j=c&&b.components.isAscendantOfComp(c,e);return!(f||g||j||h||i)}function n(a){var b=a.layout,c=this.right>=b.x&&b.x+b.width>=this.left,d=this.bottom>=b.y&&b.y+b.height>=this.top;return c&&d}function o(c){var d=b.getStageRect();return a.filter(c,n,d)}function p(a,b,c){var d=a.siteSegments.getPagesContainerAbsLayout(),e=[];return c.left&&(e.push(d.x-b.x),e.push(d.x+d.width-b.x)),c.right&&(e.push(d.x-(b.x+b.width)),e.push(d.x+d.width-(b.x+b.width))),e}function q(b,c,d,e){var f=a.reduce(d,function(a,d){var f=d.layout;return h(b,d.comp)||(e.left&&(a.push(f.x-c.x),a.push(f.x+f.width-c.x)),e.right&&(a.push(f.x-(c.x+c.width)),a.push(f.x+f.width-(c.x+c.width)))),e.centerX&&a.push((f.x+(f.x+f.width))/2-(c.x+(c.x+c.width))/2),a},[]),g=p(b,c,e);return a.min(f.concat(g),function(a){return Math.abs(a)})}function r(a,b,c){var d=a.siteSegments.getPagesContainerAbsLayout(),e=[];return c.top&&(e.push(d.y-b.y),e.push(d.y+d.height-b.y)),c.bottom&&(e.push(d.y-(b.y+b.height)),e.push(d.y+d.height-(b.y+b.height))),e}function s(b,c,d,e){var f=a.reduce(d,function(a,d){var f=d.layout;return h(b,d.comp)||(e.top&&(a.push(f.y-c.y),a.push(f.y+f.height-c.y)),e.bottom&&(a.push(f.y-(c.y+c.height)),a.push(f.y+f.height-(c.y+c.height)))),e.centerY&&a.push((f.y+(f.y+f.height))/2-(c.y+(c.y+c.height))/2),a},[]),g=r(b,c,e);return a.min(f.concat(g),function(a){return Math.abs(a)})}function t(b){return a.min(b,"y")}function u(b){return a.max(b,function(a){return a.y+a.height})}function v(b){return a.min(b,"x")}function w(b){return a.max(b,function(a){return a.x+a.width})}function x(b,c){return a.filter(c,function(a){var c=a.layout;return b===(c.y+(c.y+c.height))/2})}function y(b,c){return a.filter(c,function(a){var c=a.layout;return b===(c.x+(c.x+c.width))/2})}function z(b,c,d){return a.filter(d,function(a){var d=a.layout;return!h(b,a.comp)&&(c===d.y||c===d.y+d.height)})}function A(b,c,d){return a.filter(d,function(a){var d=a.layout;return!h(b,a.comp)&&(c===d.x||c===d.x+d.width)})}function B(b,c){return a.map(c,function(c){var d=a.pick(c.layout,["x","y","width","height"]);return d.isShowOnAllPages=c.comp?b.components.isShowOnAllPages(c.comp):!1,d})}function C(b,c,d,e,f){var g=a.pluck(e,"layout"),h=[d].concat(g),i=v(h.concat(f)),j=w(h.concat(f)),k=B(b,e);return{line:[{x:i.x,y:c},{x:j.x+j.width,y:c}],rectanglesDrawData:k}}function D(b,c,d,e,f){var g=a.pluck(e,"layout"),h=[d].concat(g),i=t(h.concat(f)),j=u(h.concat(f)),k=B(b,e);return{line:[{x:c,y:i.y},{x:c,y:j.y+j.height}],rectanglesDrawData:k}}function E(a,b){var c=a.pages.getFocusedPageId();return a.components.getAllComponents(c,m.bind(null,a,b))}function F(b,c){a.forEach(c,function(a){a.layout=a.isDynamicLayout?i(b,a.comp):a.layout})}function G(a,b){if(a){this.editorAPI=a;var c=E(a,b);this.snapCandidates=j(a,c)}}function H(d){var e=b.getStageRect().right;return a(d).thru(c.getPageGridLines).filter({x2:"100%"}).map(function(a){return{x:a.x1,y:a.y1,width:e}}).value()}function I(d){var e=b.getStageRect().bottom;return a(d).thru(c.getPageGridLines).filter({y2:"100%"}).map(function(a){return{x:a.x1,y:a.y1,height:e}}).value()}function J(b,c){var d=H(b);return a.filter(d,{y:c})}function K(b,c){var d=I(b);return a.filter(d,{x:c})}function L(c){var d=c.rulers.getHorizontalGuides(),e=b.getStageRect();return a.map(d,function(a){return{id:a.guideId,x:e.left,y:a.guidePosition,height:0,width:e.right}})}function M(c){var d=c.rulers.getVerticalGuides(),e=b.getStageRect();return a.map(d,function(a){var b=c.rulers.getVerticalGuideRealPosition(a.guidePosition);return{id:a.guideId,x:b,y:e.top,height:e.bottom,width:0}})}var d=["SITE_PAGES","PAGES_CONTAINER"];return G.prototype.getClosestLayoutDistance=function(a,b,c){F(a,this.snapCandidates);var d=o(this.snapCandidates);return{x:q(a,b,d,c),y:s(a,b,d,c)}},G.prototype.getSnapData=function(a,b){var c=[],d=o(this.snapCandidates),e=[],f=[],g=b.centerY&&x((a.y+a.y+a.height)/2,d);if(g&&g.length>0)c.push(C(this.editorAPI,(a.y+a.y+a.height)/2,a,g,e));else{var h=[];if(b.top&&(h=z(this.editorAPI,a.y,d),e=J(this.editorAPI,a.y),(h.length>0||e.length>0)&&c.push(C(this.editorAPI,a.y,a,h,e))),b.bottom){var i=a.y+a.height;h=z(this.editorAPI,i,d),e=J(this.editorAPI,i),(h.length>0||e.length>0)&&c.push(C(this.editorAPI,i,a,h,e))}}var j=b.centerX&&y((a.x+a.x+a.width)/2,d);if(j&&j.length>0)c.push(D(this.editorAPI,(a.x+a.x+a.width)/2,a,j,f));else{var k=[];if(b.right){var l=a.x+a.width;k=A(this.editorAPI,l,d),f=K(this.editorAPI,l),(k.length>0||f.length>0)&&c.push(D(this.editorAPI,l,a,k,f))}b.left&&(k=A(this.editorAPI,a.x,d),f=K(this.editorAPI,a.x),(k.length>0||f.length>0)&&c.push(D(this.editorAPI,a.x,a,k,f)))}return c},G}),define("core/utils/AddPanelDragHandler",["lodash","jquery","experiment","core/bi/bi","core/utils/stageUtils","core/utils/AttachHandler","core/utils/SnapToHandler"],function(a,b,c,d,e,f,g){"use strict";function m(b,e,f,g){a.assign(f.structure.layout,e),b.components.add(g,f.structure,void 0,function(e){var g=c.isOpen("firstTimePanels")?b.openFirstTimePanel.bind(b,e):a.noop;b.history.add("component dragged to stage from add panel"),b.selection.selectComponentByCompRef(e,g),b.bi.event(d.events.addPanel.COMPONENT_ADDED_TO_STAGE,{origin:"add_panel",category:f.categoryId,section:f.sectionTitle,component_type:f.structure.componentType,component_id:e.id,preset_id:f.itemId||"",adding_method:"drag",preset_data_skin:f.structure.style.skin||f.structure.skin||f.structure.style,preset_data_tags:f.tags||""}),b.openCompOutOfGridPanelIfNeeded(e)})}function n(a,b){return Math.abs(b.x-a.pageX)>=l||Math.abs(b.y-a.pageY)>=l}function o(a){var b=a.siteSegments.getPagesContainer(),c=a.components.layout.getRelativeToScreen(b);return{x:c.x,y:0}}function p(b,c){return b.boxOffset=a.assign({},b.boxOffset,{left:0}),b.coords.left=0,c&&(b.boxSize.width=c),b}function q(a,b,c,d,f,g,h){a&&(this.editorAPI=a,this.initialEvent=b,this.item=c,this.panelElm=d,this.dragBoxClass=f,this.onItemDragStart=g,this.onItemDragEnd=h,this.isFirstDragEvent=!0,this.originalDragPosition={x:this.initialEvent.pageX,y:this.initialEvent.pageY},this.item.onDrop=this.item.onDrop||m.bind(null,this.editorAPI),this.editorAPI.components.is.fullWidthByStructure(this.item.structure)?(this.isFullWidth=!0,this.stageWidth=e.getStageLayout().width||0,this.allowedSnapDirections=k):(this.stageWidth=0,this.allowedSnapDirections=j,this.isFullWidth=!1),this.init())}var h=48,i=5,j={top:!0,bottom:!0,left:!0,right:!0,centerX:!0,centerY:!0},k={top:!0,bottom:!0,left:!1,right:!1,centerX:!1,centerY:!0},l=8;return q.prototype={init:function(){this.snapToHandler=new g(this.editorAPI),this.attachHandler=new f(this.editorAPI,{comp:this.item.structure,layout:a.pick(this.item.structure.layout,["width","height"])},f.TYPES.STRUCTURE)},getFixedDragPosition:function(a){return{x:a.clientX,y:a.clientY}},onDrag:function(a){if(this.isFirstDragEvent){if(!n(a,this.originalDragPosition))return;this.onInitialDrag(),this.isFirstDragEvent=!1}this.lastDragPosition={x:a.pageX,y:a.pageY},this.lastDragFixedPosition=this.getFixedDragPosition(a);var b=this.isInPanelArea();b?this.handleDragInPanelArea():this.handleDragOutsidePanelArea(a),this.setDragBox(b)},onInitialDrag:function(){a.isFunction(this.onItemDragStart)&&this.onItemDragStart()},isInPanelArea:function(){var a=this.getPanelClientRect();return this.lastDragFixedPosition.x>=a.left&&this.lastDragFixedPosition.x<=a.right&&this.lastDragFixedPosition.y>=a.top&&this.lastDragFixedPosition.y<=a.bottom},getPanelClientRect:function(){return this._panelClientRect||(this._panelClientRect=this.panelElm.getBoundingClientRect()),this._panelClientRect},handleDragOutsidePanelArea:function(){var a=this.getDragBoxStageLayout(),b=this.getDragBoxStageLayout(!0);this.snapDragBoxToCompIfNeeded(a);var c=this.attachHandler.getCurrentAttachCandidate(b);this.attachHandler.highlightAttachCandidate(c||this.editorAPI.pages.getFocusedPage())},handleDragInPanelArea:function(){this.editorAPI.snapData.clear(!0),this.attachHandler.highlightAttachCandidate(null)},getDragBoxStageLayout:function(a){var c={x:this.lastDragPosition.x+this.getBoxOffset().left*this.item.structure.layout.width,y:this.lastDragPosition.y+this.getBoxOffset().top*this.item.structure.layout.height-h,width:this.item.structure.layout.width,height:this.item.structure.layout.height};return a&&(c.x-=b(window).scrollLeft(),c.y-=b(window).scrollTop()),c},getBoxOffset:function(){if(!this._boxOffset){var a=this.getRectSize();this._boxOffset={left:(this.item.rect.left+b(window).scrollLeft()-this.originalDragPosition.x)/a.width,top:(this.item.rect.top+b(window).scrollTop()-this.originalDragPosition.y)/a.height}}return this._boxOffset},getRectSize:function(){return{width:this.item.rect.width,height:this.item.rect.height}},setDragBox:function(b){var c={key:"dragToStageDragBox",coords:{left:this.lastDragFixedPosition.x,top:this.lastDragFixedPosition.y},boxOffset:this.getBoxOffset()};if(b)c.boxSize=this.getRectSize();else{c.boxSize=a.pick(this.item.structure.layout,["width","height"]);var d=this.editorAPI.getSiteScale();c.boxSize.height*=d,this.isFullWidth&&(c=p(c,this.stageWidth))}var e={props:c,componentType:this.item.structure.componentType,reactClass:this.dragBoxClass};this.editorAPI.setPortalChildren("addPanel",[e])},snapDragBoxToCompIfNeeded:function(a){var b=this.snapToHandler.getClosestLayoutDistance(this.editorAPI,a,this.allowedSnapDirections);Math.abs(b.x)<=i&&(this.lastDragPosition.x+=b.x,this.lastDragFixedPosition.x+=b.x,a.x+=b.x),Math.abs(b.y)<=i&&(this.lastDragPosition.y+=b.y,this.lastDragFixedPosition.y+=b.y,a.y+=b.y);var c=this.snapToHandler.getSnapData(a,this.allowedSnapDirections);this.editorAPI.snapData.set(c,!0)},clearDrag:function(){this.editorAPI.snapData.clear(!0),this.attachHandler.highlightAttachCandidate(null)},endDrag:function(a){return this.clearDrag(),this.editorAPI.setPortalChildren("addPanel",null),this.isFirstDragEvent?!1:(this.lastDragPosition={x:a.pageX,y:a.pageY},this.isInPanelArea()||this.onDrop(a),this.onItemDragEnd&&this.onItemDragEnd(),!0)},getCompPositionRelativeToContainer:function(a,b){return{x:this.lastDragPosition.x-a.x-b.x+this.getBoxOffset().left*this.item.structure.layout.width,y:this.lastDragPosition.y-a.y-b.y-h+this.getBoxOffset().top*this.item.structure.layout.height
}},onDrop:function(){var b=this.getDropContainer(this.getDragBoxStageLayout(!0)),c=this.editorAPI.components.layout.getRelativeToStructure(b),d=o(this.editorAPI),e=this.getCompPositionRelativeToContainer(d,c);this.item.onDrop&&a.defer(function(){this.item.onDrop(e,this.item,b)}.bind(this))},getDropContainer:function(a){var b=this.attachHandler.getCurrentAttachCandidate(a);return b||(b=this.editorAPI.pages.getFocusedPage()),b}},q}),define("core/utils/layoutTransitionsUtil",["lodash"],function(a){"use strict";function e(a,b){return Math.atan2(a.y-b.y,a.x-b.x)}function f(a,b,c){return 0===b?a:{x:(a.x-c.x)*Math.cos(b)-(a.y-c.y)*Math.sin(b)+c.x,y:(a.x-c.x)*Math.sin(b)+(a.y-c.y)*Math.cos(b)+c.y}}function g(a,b){return f(a,b,{x:0,y:0})}function h(a){return{x:a.x+a.width/2,y:a.y+a.height/2}}function i(a,b,c){var d={x:c.x>0?b.x:b.x+b.width,y:c.y>0?b.y:b.y+b.height},e={x:c.x<0?b.x:b.x+b.width,y:c.y<0?b.y:b.y+b.height},f=(e.y-d.y)/(e.x-d.x),g=f,h=-1,i=d.y-f*d.x,j={x:e.x+a.x,y:e.y+a.y};return{x:(h*(h*j.x-g*j.y)-g*i)/(g*g+h*h)-e.x,y:(g*(g*j.y-h*j.x)-h*i)/(g*g+h*h)-e.y}}function j(a){return a.y===d.NONE&&a.x!==d.NONE}function k(a){return a.x===d.NONE&&a.y!==d.NONE}function l(b,c,d){if(!b)return null;var e=a.clone(b),f=d.x-c.x,g=d.y-c.y;return d.isShiftPressed&&(Math.abs(f)>=Math.abs(g)?g=0:f=0),e.x+=f,e.y+=g,e}function m(b,c){return a.map(b,function(a){return{x:c.x+a.x,y:c.y+a.y}})}function n(b,c,d){b&&(this.initLayout=b,this.boundCompsPositionRelativeToLayout=a.map(d,function(a){return{x:a.x-b.x,y:a.y-b.y}},this),this.initMouseLocation=c,this.getLayout=l.bind(null,this.initLayout,this.initMouseLocation),this.getBoundComponentLayouts=m.bind(null,this.boundCompsPositionRelativeToLayout))}function o(c,d,f){c&&(this.initLayout=c,this.initMouseLocation=d,this.center=h(f),this.initMouseAngle=e(this.initMouseLocation,this.center),this.getLayout=function(c){var d=a.clone(this.initLayout),f=e(c,this.center);return d.rotationInDegrees+=(f-this.initMouseAngle)*b,d})}function p(a,b,c,d,e){if(!a)return null;var f=new x(a,b,c,d);return f.getLayout(e)}function q(a){return!(!a.docked||!a.docked.vCenter)}function r(a){return!(!a.docked||!a.docked.hCenter)}function s(b){var c=b&&b.docked,d=c&&c.left&&a.isFinite(c.left.vw),e=c&&c.right&&a.isFinite(c.right.vw);return d&&e}function t(a,b,c){1===c?(b.y=Math.max(-a.height,b.y),a.height+=b.y):-1===c&&(b.y=Math.min(b.y,a.height),a.y+=b.y,a.height-=b.y)}function u(a,b,c){1===c?(b.x=Math.max(-a.width,b.x),a.width+=b.x):-1===c&&(b.x=Math.min(b.x,a.width),a.x+=b.x,a.width-=b.x)}function v(a,b,c){1===c?(b.y=Math.max(-a.height,b.y),a.y-=b.y,a.height+=2*b.y):-1===c&&(b.y=Math.min(b.y,a.height),a.y+=b.y,a.height-=2*b.y)}function w(a,b,c){1===c?(b.x=Math.max(-a.width,b.x),a.x-=b.x,a.width+=2*b.x):-1===c&&(b.x=Math.min(b.x,a.width),a.x+=b.x,a.width-=2*b.x)}function x(b,e,l,m){b&&(this.initLayout=b,this.initMouseLocation=e,this.direction=l,this.proportional=m,this.rotationInRad=c*b.rotationInDegrees,this.initLayoutAspectRatio=b.width/b.height,this.getCorrectXYAfterTransformOriginChange=function(b){var c=a.pick(b,["x","y"]);return c=f(c,-this.rotationInRad,h(b)),f(c,this.rotationInRad,h(this.initLayout))},this.getLayoutAfterProportionalHorizontalResize=function(b,c){var f,e=a.clone(b);this.direction.x===d.LEFT?(f=-Math.min(c.x,b.width),e.x-=f):this.direction.x===d.RIGHT&&(f=Math.max(c.x,-b.width)),e.width+=f,e.height=e.width/this.initLayoutAspectRatio;var g=e.height-this.initLayout.height;return e.y-=g/2,a.assign(e,this.getCorrectXYAfterTransformOriginChange(e)),e},this.getLayoutAfterProportionalVerticalResize=function(b,c){var e=a.clone(b),f=0;this.direction.y===d.TOP?(f=-Math.min(c.y,b.height),e.y-=f):this.direction.y===d.BOTTOM&&(f=Math.max(c.y,-b.height)),e.height+=f,e.width=e.height*this.initLayoutAspectRatio;var g=e.width-this.initLayout.width;return e.x-=g/2,a.assign(e,this.getCorrectXYAfterTransformOriginChange(e)),e},this.getLayoutAfterStandardResize=function(b,c){return this.direction.x&&(r(b)||s(b)?w(b,c,this.direction.x):u(b,c,this.direction.x)),this.direction.y&&(q(b)?v(b,c,this.direction.y):t(b,c,this.direction.y)),a.assign(b,this.getCorrectXYAfterTransformOriginChange(b)),this.direction.x||delete b.width,this.direction.y||delete b.height,b},this.getLayout=function(b){var d,c=a.cloneDeep(this.initLayout),e={x:b.x-this.initMouseLocation.x,y:b.y-this.initMouseLocation.y};return e=g(e,-this.rotationInRad),this.proportional?j(this.direction)?d=this.getLayoutAfterProportionalHorizontalResize(c,e):k(this.direction)?d=this.getLayoutAfterProportionalVerticalResize(c,e):(e=i(e,c,this.direction),d=this.getLayoutAfterStandardResize(c,e)):d=this.getLayoutAfterStandardResize(c,e),a.mapValues(d,Math.round)})}var b=180/Math.PI,c=1/b,d={TOP:-1,BOTTOM:1,LEFT:-1,RIGHT:1,NONE:0};return{Drag:n,Rotate:o,Resize:x,dragLayout:l,resizeLayout:p}}),define("core/utils/compsSectionsAnalyzerGapExp",["lodash"],function(a){"use strict";function h(a,d){var e=d?c:b;return a.layout.width>=e}function i(a,b,c){c=c||1;var d=b.y>=a.y&&b.y<=a.bottomY,e=b.bottomY>=a.y&&b.bottomY<=a.bottomY,f=b.y<=a.y&&b.bottomY>=a.bottomY;return d&&a.bottomY-b.y>=b.height*c||e&&b.bottomY-a.y>=b.height*c||f&&a.height>=b.height*c}function j(b,c){var d=b.components.getChildren(c);return a(d).reject(function(a){return b.components.layout.isPinned(a)}).map(function(a){var c=b.components.layout.get(a);return c.bounding&&(c=c.bounding),c.bottomY=c.y+c.height,{layout:c,comp:a}}).sortBy("layout.y").value()}function k(b,c){return a.filter(b,function(a){return h(a,c)})}function l(b,c,d){return a.forEach(b,function(b){var e=o(b),f=a.filter(c,function(a){return i(e,a.layout,d)});c=a.difference(c,f),b.comps=a.union(b.comps,a.map(f,"comp"))})}function m(b,c){var d=a(c).pluck("comps").flatten().indexBy("id").value();return a.reject(b,function(a){return!!d[a.comp.id]})}function n(a,b){for(var c=[],d=0;d<a.length;d++){var e=a[d],f={position:{top:e.layout.y,bottom:e.layout.bottomY},comps:[]};f.position.top=e.layout.y,f.comps.push(e.comp);for(var g=!1;!g;){var h=a[d+1];!h||h.layout.y>f.position.bottom+b?g=!0:(f.comps.push(h.comp),f.position.bottom=Math.max(f.position.bottom,h.layout.bottomY),d++)}c.push(f)}return c}function o(a){return{y:a.position.top,bottomY:a.position.bottom,height:p(a)}}function p(a){return a.position.bottom-a.position.top}function q(a,b,c){var d=a[b],e=a[c];e.comps=e.comps.concat(d.comps),e.position.top=Math.min(e.position.top,d.position.top),e.position.bottom=Math.max(e.position.bottom,d.position.bottom),a.splice(b,1)}function r(a){for(var b,c,f,g,h=0;h<a.length;h++)if(g=!1,b=a[h],p(b)<d){f=a[h-1],c=a[h+1];var i=f?b.position.top-f.position.bottom:Number.POSITIVE_INFINITY,j=c?c.position.top-b.position.bottom:Number.POSITIVE_INFINITY;j>i&&e>=i?(q(a,h,h-1),g=!0):i>j&&e>=j&&(q(a,h,h+1),g=!0),g&&h--}return a}function s(a){for(var b=0;b<a.length;){var c=a[b+1]&&a[b+1].position.top<=a[b].position.bottom+f;c?q(a,b+1,b):b++}return a}function t(b,c){var d=j(b,c),e=k(d,b.isMobileEditor()),h=a.difference(d,e),i=n(e,f);i=l(i,h,.5),h=m(h,i);var o=n(h,g),p=a(i).union(o).sortBy("position.top").thru(r).thru(s).reject(function(a){return a.position.bottom<0}).value();return p}var b=700,c=300,d=30,e=30,f=-3,g=30;return{analyzeContainer:t}}),define("core/utils/compsSectionsAnalyzer",["lodash","experiment!sectionsReorganizeAlgoImprovements","core/utils/compsSectionsAnalyzerGapExp"],function(a,b,c){"use strict";function h(a){return a.width>=d}function i(a,b,c){c=c||1;var d=b.y>=a.y&&b.y<=a.bottomY,e=b.bottomY>=a.y&&b.bottomY<=a.bottomY,f=b.y<=a.y&&b.bottomY>=a.bottomY;return d&&a.bottomY-b.y>=b.height*c||e&&b.bottomY-a.y>=b.height*c||f&&a.height>=b.height*c}function j(b,c){return a.some(b,function(b){return a.includes(b.comps,c)})}function k(b,c){var d=b.components.getChildren(c);return a(d).reject(function(a){return b.components.layout.isPinned(a)}).map(function(a){var c=b.components.layout.get(a);return c.bounding&&(c=c.bounding),c.bottomY=c.y+c.height,{layout:c,comp:a}}).sortBy("layout.y").value()}function l(b){var c=a.sortBy(b,"layout.height");return a.forEach(c,function(c){var d=a.some(b,function(a){return a!==c&&i(a.layout,c.layout)});d&&(b=a.without(b,c))}),b}function m(b){var c=a.filter(b,function(a){return h(a.layout)}),d=a.difference(b,c),e=l(c),f=a.difference(c,e);return a.map(e,function(b){var c={position:{top:b.layout.y,bottom:b.layout.bottomY},comps:[b.comp]},e=a(d).filter(function(a){return i(b.layout,a.layout,.5)}).pluck("comp").value(),g=a(f).filter(function(a){return i(b.layout,a.layout,1)}).pluck("comp").value();return c.comps=c.comps.concat(e,g),c})}function n(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e={position:{top:d.layout.y,bottom:d.layout.bottomY},comps:[]};e.position.top=d.layout.y,e.comps.push(d.comp);for(var f=!1;!f;){var h=a[c+1];!h||h.layout.y>e.position.bottom+g?f=!0:(e.comps.push(h.comp),e.position.bottom=Math.max(e.position.bottom,h.layout.bottomY),c++)}b.push(e)}return b}function o(a){return a.position.top}function p(a){return a.position.bottom-a.position.top}function q(a,b,c){var d=a[b],e=a[c];e.comps=e.comps.concat(d.comps),e.position.top=Math.min(e.position.top,d.position.top),e.position.bottom=Math.max(e.position.bottom,d.position.bottom),a.splice(b,1)}function r(a){for(var b,c,d,g,h=0;h<a.length;h++)if(g=!1,b=a[h],p(b)<e){d=a[h-1],c=a[h+1];var i=d?b.position.top-d.position.bottom:Number.POSITIVE_INFINITY,j=c?c.position.top-b.position.bottom:Number.POSITIVE_INFINITY;j>i&&f>=i?(q(a,h,h-1),g=!0):i>j&&f>=j&&(q(a,h,h+1),g=!0),g&&h--}return a}function s(b,c){var d=k(b,c),e=m(d);d=a.reject(d,function(a){return a.layout.y<0||j(e,a.comp)});var f=n(d),g=a(e).union(f).sortBy(o).thru(r).reject(function(a){return a.position.bottom<0}).value();return g}if(b)return c;var d=700,e=30,f=30,g=30;return{analyzeContainer:s}}),define("core/utils/sectionsReorganizeUtil",["lodash","core/utils/compsSectionsAnalyzer"],function(a,b){"use strict";function c(a){return a.position.top}function d(a){return a.position.bottom-a.position.top}function e(b,c,d){a.forEach(c,function(a){var c=b.components.layout.get(a);b.components.layout.update(a,{y:c.y+d},!0)})}function f(a){return a>500?"large":a>61?"medium":"small"}function g(a,b,c){var e=d(b),f=b.position.top+e/2;return 1===c?a.y+a.height>=f:a.y<=f}function h(b,c){var e=a.clone(b.position),f=a.clone(c.position),g=d(b),h=d(c),i=g-h;b.position.top=f.top-i,b.position.bottom=b.position.top+g,c.position.top=e.top,c.position.bottom=c.position.top+h}function i(b,c,d){var e=a.findIndex(b,c),f=a.findIndex(b,d);b[e]=d,b[f]=c}function j(a,b,d,f){var g,j;d.position.top<f.position.top?(g=d,j=f):(g=f,j=d);var k=c(g),l=c(j);h(g,j),i(b,g,j),f===j?e(a,f.comps,c(j)-l):e(a,f.comps,c(g)-k)}function k(a,b,d,f){var g=c(d),j=c(f);h(d,f),i(b,d,f),e(a,f.comps,c(f)-j),e(a,d.comps,c(d)-g)}function l(a,b,c){b.position.top+=c,b.position.bottom+=c,e(a,b.comps,c)}function m(a){for(var b=0;b<a.length;){var c=a[b],d=a[b+1];d&&d.position.top<c.position.bottom?(c.position.bottom=Math.max(c.position.bottom,d.position.bottom),c.comps=c.comps.concat(d.comps),a.splice(b+1,1)):b++}return a}function n(c,d){d=d||c.pages.getFocusedPage();var e=b.analyzeContainer(c,d),f=c.components.layout.getRelativeToScreen(d);return a.forEach(e,function(a){a.position.top+=f.y,a.position.bottom+=f.y}),e}function o(a){var b=a.components.layout.getRelativeToScreen(a.siteSegments.getHeader());return{position:{top:b.y,bottom:b.height}}}function p(a,b,c){for(var e=b[c],f=a.components.layout.getRelativeToStructure(e.comps),g=d(e),h=c+1;h<b.length;h++)l(a,b[h],g);var i=a.components.duplicate(e.comps);a.waitForChangesApplied(function(){a.components.layout.updateRelativeToStructure(i,{x:f.x,y:e.position.bottom})})}function q(a,b,c){for(var e=b[c],f=d(e),g=c+1;g<b.length;g++)l(a,b[g],-1*f);a.components.remove(e.comps)}return{addSectionByPosition:function(b,c){var d=a.findIndex(b,function(a){return a.position.top>c.position.top});return d?b.splice(d,0,c):b.push(c),b},getSectionSizeForBI:f,combineOverlappingSections:m,getPageSections:n,getHeaderSection:o,duplicateSection:p,deleteSection:q,shiftSection:l,switchSectionsByDrag:j,switchSections:k,isAtSectionsSwitchPoint:g}}),define("core/utils/mouseMoveActions/sectionDrag",["lodash","core/utils/layoutTransitionsUtil","core/utils/sectionsReorganizeUtil","experiment!zoomModeSectionsRedesignOff","experiment!exp171","experiment!sectionsReorganizeAlgoImprovements"],function(a,b,c,d,e,f){"use strict";function s(a,b){return a.clientY+i.ui.scroll.getScroll().scrollTop/(b||1)}function t(a){var b={x:0,y:a},c=n.getLayout(b);return c.y=Math.max(c.y,r),c}function u(b){for(var c=n.getBoundComponentLayouts(b),d=0;d<k.comps.length;d++)i.components.layout.updateRelativeToScreen(k.comps[d],a.pick(c[d],"y"),!0)}function v(){var b=a.pluck(k.comps,"id");a.isEmpty(b)||(i.renderPlugins.setCompsToShowOnTop(b),i.renderPlugins.setCompsToShowWithOpacity(b,.5)),a.isFunction(p)&&p(),setTimeout(function(){A(),q=!0},h)}function w(a){return a>l?1:-1}function x(b,d){var e=w(b);l=b;var f=a.findIndex(j,k),g=f+e;if(g>=j.length||0>g)return!1;var h=j[g];return h&&c.isAtSectionsSwitchPoint(d,h,e)?(c.switchSectionsByDrag(i,j,k,h),a.defer(A),!0):!1}function y(a){var b=t({y:a,x:0});b.y=k.position.top,u(b)}function z(a,b){return b.position.top<a.position.bottom}function A(){var b=a.findIndex(j,k),d=j[b-1],e=j[b+1],f=0,h=0;if(e&&z(k,e)&&(h=k.position.bottom+g-e.position.top),d&&z(d,k)&&(f=d.position.bottom+g-k.position.top,h+=f),f&&c.shiftSection(i,k,f),h)for(var l=b+1;l<j.length;l++)c.shiftSection(i,j[l],h)}function B(){return{y:k.position.top,height:k.position.bottom-k.position.top}}function C(c,f){if(q=!1,m=!0,i=c,k=f.draggedSection){var g={x:0,y:s(f.evt,e&&!d&&i.getSiteScale())};l=g.y,j=a.sortBy(f.sections,"position.top"),o=f.onDragEnd,p=f.onDragStart,r=f.minY||0;var h=B(),t=a.map(k.comps,function(a){return i.components.layout.getRelativeToScreen(a)});n=new b.Drag(h,g,t)}}function D(a){if(k)if(m)m=!1,v();else if(q){var b=s(a,i.getSiteScale()),c=t(b);u(c),x(b,c)}}function E(b){var c=s(b);k&&!m&&(y(c),i.history.add("Dragged Components Section"),i.renderPlugins.setCompsToShowOnTop(null),i.renderPlugins.setCompsToShowWithOpacity(null)),a.isFunction(o)&&o(k)}var i,j,k,l,m,n,o,p,q,r,g=f?0:30,h=e&&!d?0:500;return{start:C,on:D,end:E,type:"SECTION_DRAG"}}),define("core/utils/AddPanelSectionDragHandler",["lodash","jquery","core/app/constants","core/utils/AddPanelDragHandler","core/utils/mouseMoveActions/sectionDrag","core/utils/sectionsReorganizeUtil","experiment!sectionsReorganizeAlgoImprovements"],function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.pages.getFocusedPage();return a.components.layout.getRelativeToScreen(b)}function i(b,c){var d=h(b),e=Math.max(d.y-c.y,0);return{origin:"addPanel",comps:[],layout:a.pick(c,["y","height"]),position:{top:c.y+e,bottom:c.y+c.height+e}}}function j(a,b,c,e,f,g,h){d.call(this,a,b,c,e,f,g,h)}return j.prototype=Object.create(d.prototype),j.prototype.constructor=j,a.assign(j.prototype,{init:a.noop,getFixedDragPosition:function(a){return{x:a.originalClientX,y:a.originalClientY}},onInitialDrag:function(){g||this.editorAPI.setSiteScale(c.SECTIONS_REORGANIZE.ZOOM_OUT_SCALE,b(window).scrollTop()*c.SECTIONS_REORGANIZE.ZOOM_OUT_SCALE),d.prototype.onInitialDrag.call(this)},handleDragOutsidePanelArea:function(a){var b=this.getDragBoxStageLayout();this.handleSectionDrag(a,b)},handleDragInPanelArea:function(){this.cancelSectionDragIfNeeded()},handleSectionDrag:function(a,b){this.isSectionDrag||(this.initSectionDrag(a,b),this.isSectionDrag=!0),this.draggedSection.layout.y=b.y,e.on(a)},initSectionDrag:function(a,b){this.draggedSection=i(this.editorAPI,b);var c=f.getPageSections(this.editorAPI);g||(c=f.combineOverlappingSections(c)),c=f.addSectionByPosition(c,this.draggedSection),this.editorAPI.setPageSections(c,null),e.start(this.editorAPI,{sections:c,evt:a,draggedSection:this.draggedSection})},cancelSectionDragIfNeeded:function(){this.isSectionDrag&&(this.isSectionDrag=!1,this.editorAPI.history.add("sections reorganize"),this.editorAPI.history.undo(),this.editorAPI.clearPageSections())},clearDrag:function(){this.isSectionDrag&&this.editorAPI.clearPageSections()},endDrag:function(a){return d.prototype.endDrag.call(this,a)?g?!0:(this.isInPanelArea()?this.editorAPI.setSiteScale(c.SECTIONS_REORGANIZE.ZOOM_IN_SCALE,b(window).scrollTop()):setTimeout(function(){var a=this.draggedSection.position.bottom-this.draggedSection.position.top,b=this.draggedSection.position.top-(window.innerHeight-a)/2+this.editorAPI.editorConfig.editingAreaLayout.top;this.editorAPI.setSiteScale(c.SECTIONS_REORGANIZE.ZOOM_IN_SCALE,b)}.bind(this),c.SECTIONS_REORGANIZE.ZOOM_IN_DELAY_MS),!0):!1},getDropContainer:function(){return this.editorAPI.pages.getFocusedPage()},getCompPositionRelativeToContainer:function(a,b){var c=d.prototype.getCompPositionRelativeToContainer.call(this,a,b),e=this.draggedSection.position.top-this.draggedSection.layout.y;return c.y+=e,c}}),j}),define("core/utils/AttachHandlerExperimentAttachImprovements",["lodash"],function(a){"use strict";function d(a,b){return a.components.layout.getRelativeToScreen(b)}function e(a){return a.isMobileEditor()}function f(b,c){var d=b.siteSegments.getFooter();return a.filter(c,function(a){var c=b.components.isDescendantOfComp(a,d),e=b.utils.isSameRef(a,d);return!e&&!c})}function g(g,h,i){var j=g.siteSegments.getHeader(),k=g.siteSegments.getFooter(),l=g.pages.getFocusedPageId(),m=g.components.getAllComponents(l);e(g,h.comp,i)&&(m=m.concat(g.siteSegments.getSiteStructure()));var n=i===b.COMP;return n&&!g.components.isShowOnAllPages(h.comp)&&(m=f(g,m)),a(m).filter(function(a){return!g.components.layout.isRenderedInFixedPosition(a)&&!g.utils.isSameRef(a,h.comp)&&c[i].isContainable(g,h.comp,a)}).map(function(a){return{layout:d(g,a),comp:a}}).filter(function(a){return g.components.is.container(a.comp)}).filter(function(a){return g.components.isRenderedOnSite(a.comp)}).filter(function(a){var b=g.utils.isSameRef(a.comp,j),c=g.utils.isSameRef(a.comp,k);return a.layout.width>=h.layout.width&&a.layout.height>=h.layout.height||b||c}).value()}function h(a,b,c,d){var e=a.components.is.fullWidth(b),f=a.utils.isSameRef(b,a.siteSegments.getHeader());return(e||c.x>=d.x)&&(e||c.x+c.width<=d.x+d.width)&&(f||c.y>=d.y)&&c.y+c.height<=d.y+d.height}function i(b,c,d){var e=b.selection.getComponentsUnderClick(c.x,c.y);return a.some(e,function(a){return b.utils.isSameRef(a,d)})}function j(a){return this.currentAttachedContainer&&this.currentAttachedContainer.id===a.id}function k(b,c){var d=this.editorAPI.siteSegments.getHeader(),e=this.editorAPI.siteSegments.getFooter(),f=a.find(this.attachCandidates,function(a){var f=this.editorAPI.utils.isSameRef(a.comp,d),g=this.editorAPI.utils.isSameRef(a.comp,e),k=this.editorAPI.components.is.page(a.comp);return k||f||g||j.call(this,a.comp)?i(this.editorAPI,c,a.comp):h(this.editorAPI,a.comp,b,a.layout)},this);return f?(this.currentAttachedContainer=f.comp,f.comp):null}function l(a,b){var d=a||c[this.type].getCompLayout(this.editorAPI,this.comp),e=k.call(this,d,b);return e||null}function m(a){a&&this.editorAPI.utils.isSiteStructure(a)||this.editorAPI.setAttachCandidate(a,this.type===b.STRUCTURE)}function n(a,b,c){a&&(this.editorAPI=a,this.type=c,this.comp=b.comp,this.currentAttachedContainer=null,this.attachCandidates=g(a,b,c))}var b={COMP:"comp",STRUCTURE:"structure"},c={comp:{getContainer:function(a,b){return a.components.getContainer(b)},isContainable:function(a,b,c){return a.components.is.containable(b,c)&&!a.components.is.group(c)},getCompLayout:function(a,b){return a.components.layout.getRelativeToScreen(b).bounding},getCompType:function(a,b){return a.components.getType(b)},isShowOnAllPages:function(a,b){return a.components.isShowOnAllPages(b)}},structure:{getCompType:function(){return""},getContainer:function(){return{}},isContainable:function(a,b,c){return a.components.is.containableByStructure(b,c)&&!a.components.is.group(c)},isShowOnAllPages:function(){return!1}}};return n.prototype.getCurrentAttachCandidate=l,n.prototype.highlightAttachCandidate=m,n.TYPES=b,n}),define("core/utils/layoutConstraintsUtil/boundariesConstraintsUtil",["lodash"],function(a){"use strict";function b(b,c,d){var e=c.x,f=c.x+c.width,g=b.left;g&&(a.isNumber(g.compLeftX)&&(d.x&&e<g.compLeftX&&(c.x+=g.compLeftX-e),d.width&&e<g.compLeftX&&(c.width-=g.compLeftX-e)),a.isNumber(g.compRightX)&&(d.x&&f<g.compRightX&&(c.x+=g.compRightX-f),d.width&&f<g.compRightX&&(c.width+=g.compRightX-f)))}function c(b,c,d){var e=c.x,f=c.x+c.width,g=b.right;g&&(a.isNumber(g.compRightX)&&(d.x&&f>g.compRightX&&(c.x+=g.compRightX-f),d.width&&f>g.compRightX&&(c.width+=g.compRightX-f)),a.isNumber(g.compLeftX)&&(d.x&&e>g.compLeftX&&(c.x+=g.compLeftX-e),d.width&&e>g.compLeftX&&(c.width-=g.compLeftX-e)))}function d(b,c,d){var e=c.y,f=c.y+c.height,g=b.top;g&&(a.isNumber(g.compTopY)&&(d.y&&e<g.compTopY&&(c.y+=g.compTopY-e),d.height&&e<g.compTopY&&(c.height-=g.compTopY-e)),a.isNumber(g.compBottomY)&&(d.y&&f<g.compBottomY&&(c.y+=g.compBottomY-f),d.height&&f<g.compBottomY&&(c.height+=g.compBottomY-f)))}function e(b,c,d){var e=c.y,f=c.y+c.height,g=b.bottom;g&&(a.isNumber(g.compBottomY)&&(d.y&&f>g.compBottomY&&(c.y+=g.compBottomY-f),d.height&&f>g.compBottomY&&(c.height+=g.compBottomY-f)),a.isNumber(g.compTopY)&&(d.y&&e>g.compTopY&&(c.y+=g.compTopY-e),d.height&&e>g.compTopY&&(c.height-=g.compTopY-e)))}function f(a,d,e){b(a,d,e),c(a,d,e)}function g(a,b,c){d(a,b,c),e(a,b,c)}function h(b,c){return a(b).pick(["x","y","width","height"]).pick(function(b,d){return!a.isEqual(b,c[d])}).mapValues(function(a,b){return b}).value()}function i(a,b,c,d,e){var i=h(d,e);(a.left||a.right)&&f(a,d,i),(a.top||a.bottom)&&g(a,d,i)}return{applyBoundariesConstraintOnLayout:i}}),define("core/utils/layoutConstraintsUtil/LayoutConstraintsUtil",["lodash","core/utils/layoutConstraintsUtil/boundariesConstraintsUtil"],function(a,b){"use strict";function c(b){return a.isEmpty(b)?null:1===b.length?a.first(b):a.min(b,function(a){return a.width*a.height})}function d(b){return a.isFunction(b.applyConstraint)||a.isFunction(b.getBoundaries)}function e(c,e,f){return a(f).filter(function(b){return d(b)&&(!a.isFunction(b.shouldConstrain)||b.shouldConstrain(c,e))}).map(function(d){var f=a.clone(d);return f.applyConstraint||(f.applyConstraint=b.applyBoundariesConstraintOnLayout.bind(null,f.getBoundaries(c,e))),f}).value()}function f(a,b,c){this.constraintsToApply=e(a,b,c)}return f.prototype.applyConstraints=function(b,c,d,e){var f=a.assign({},e,d);a.forEach(this.constraintsToApply,function(a){a.applyConstraint(b,c,f,e)}),a.assign(d,a.pick(f,a.keys(d)))},f.prototype.getConstraintArea=function(b,d){var e=a(this.constraintsToApply).filter(function(b){return a.isFunction(b.getConstraintArea)}).invoke("getConstraintArea",b,d).compact().value();return c(e)},f.prototype.hasConstraints=function(){return!a.isEmpty(this.constraintsToApply)},f}),define("core/utils/layoutConstraintsUtil/layoutConstraints/stretchToScreenConstraints",["lodash"],function(a){"use strict";function b(b,c){return a(b).pick(["x","y","width","height"]).pick(function(b,d){return!a.isEqual(b,c[d])}).mapValues(function(a,b){return b}).value()}function d(d,e,f,g){var j,h=d.getPreviewSize().width,i=b(f,g);if(i.x){var k=f.x,l=c;j=a.min([l-k,0]),j&&(f.x+=j)}if(i.width){var m=f.x+f.width,n=h-c;j=a.max([n-m,0]),j&&(f.width+=j)}}function e(a,b){return a.components.layout.isHorizontallyStretchedToScreen(b)}var c=80;return{shouldConstrain:e,applyConstraint:d}}),define("core/utils/layoutConstraintsUtil/layoutConstraints/constraintsUtil",["lodash"],function(a){"use strict";return{shouldConstrainToFooterBottom:function(b,c){var d=a.isArray(c)?c:[c];return a.some(d,function(a){return b.components.isShowOnAllPages(a)&&!b.utils.isSameRef(a,b.siteSegments.getFooter())})}}}),define("core/utils/layoutConstraintsUtil/layoutConstraints/mobileBoundariesConstraints",["lodash","core/utils/layoutConstraintsUtil/layoutConstraints/constraintsUtil","core/app/constants"],function(a,b,c){"use strict";function e(a,c){if(b.shouldConstrainToFooterBottom(a,c)){var e=a.components.layout.getRelativeToScreen(a.siteSegments.getFooter());return e.y+e.height}return d}function h(a,b){var c=a.components.getType(b);return g[c]&&g[c].shouldConstrainLayout(a,b)?g[c]:f}var d=5e5,f={getBoundaries:function(a,b){var d=a.siteSegments.getPagesContainer(),f=a.components.layout.getRelativeToScreen(d);return{left:{compRightX:f.x+c.SIZE_LIMITS.MOBILE_DRAG_CONSTRAINT_MARGINS},right:{compLeftX:f.x+f.width-c.SIZE_LIMITS.MOBILE_DRAG_CONSTRAINT_MARGINS},top:{compBottomY:c.SIZE_LIMITS.MOBILE_DRAG_CONSTRAINT_MARGINS},bottom:{compBottomY:e(a,b)}}}},g={"wysiwyg.viewer.components.mobile.TinyMenu":{shouldConstrainLayout:function(a,b){var c=a.components.layout.get(b);return!(!c||!c.fixedPosition)},getBoundaries:function(a){var b=a.siteSegments.getSiteStructure(),d=a.components.layout.getRelativeToScreen(b);return{top:{compTopY:d.y},bottom:{compTopY:c.SIZE_LIMITS.FIXED_TINY_MENU_MAX_Y},left:{compLeftX:d.x},right:{compRightX:d.x+d.width}}},getConstraintArea:function(a){var b=a.siteSegments.getSiteStructure(),d=a.components.layout.getRelativeToScreen(b);return{top:d.y,left:d.x,height:c.SIZE_LIMITS.FIXED_TINY_MENU_MAX_Y+c.SIZE_LIMITS.TINY_MENU_SIZE,width:d.width}}}};return{shouldConstrain:function(a){return a.isMobileEditor()},getConstraintArea:function(b,c){var d=h(b,c);return d&&a.isFunction(d.getConstraintArea)?d.getConstraintArea(b,c):null},getBoundaries:function(b,c){var d=h(b,c);return d&&a.isFunction(d.getBoundaries)?d.getBoundaries(b,c):null}}}),define("core/utils/layoutConstraintsUtil/layoutConstraints/desktopBoundariesConstraints",["lodash","core/utils/layoutConstraintsUtil/layoutConstraints/constraintsUtil","experiment!removeDesktopTopConstraintExp"],function(a,b,c){"use strict";function f(a,c){if(b.shouldConstrainToFooterBottom(a,c)){var d=a.components.layout.getRelativeToScreen(a.siteSegments.getFooter());return d.y+d.height}return e}function g(a,b){var e={};return e.top=c?{compBottomY:d}:{compTopY:0},a.isCurrentPageLandingPage()||(e.bottom={compBottomY:f(a,b)}),e}var d=20,e=5e5;return{shouldConstrain:function(a){return!a.isMobileEditor()},getBoundaries:g}}),define("core/utils/layoutConstraintsUtil/editorConstraintsRegistry",["core/utils/layoutConstraintsUtil/layoutConstraints/stretchToScreenConstraints","core/utils/layoutConstraintsUtil/layoutConstraints/mobileBoundariesConstraints","core/utils/layoutConstraintsUtil/layoutConstraints/desktopBoundariesConstraints"],function(a,b,c){"use strict";return[a,b,c]}),define("core/utils/layoutConstraintsUtil/EditorLayoutConstraintsUtil",["core/utils/layoutConstraintsUtil/LayoutConstraintsUtil","core/utils/layoutConstraintsUtil/editorConstraintsRegistry"],function(a,b){"use strict";function c(c,d){a.call(this,c,d,b)}return c.prototype=a.prototype,c}),define("core/utils/updateLayoutUtil",["lodash","core/utils/layoutConstraintsUtil/EditorLayoutConstraintsUtil"],function(a,b){"use strict";function c(a,b){var c=a.components.getContainer(b);return a.components.layout.getRelativeToScreen(c)}function d(b,c,d,e){if(!b)return b;var f=a.pick(b,["width","height"]);return a.isNumber(b.x)&&(f.x=c.x+b.x,d&&(f.x+=e)),a.isNumber(b.y)&&(f.y=c.y+b.y),f}function e(b,c,d,e){if(!b)return b;var f=a.pick(b,["width","height"]);return a.isNumber(b.x)&&(f.x=b.x-c.x,d&&(f.x-=e)),a.isNumber(b.y)&&(f.y=b.y-c.y),f}function f(b,c){return a.some(b,function(b,d){return!a.isEqual(b,c[d])})}function g(a,c,d,e){if(f(d,e)&&!a.utils.isPage(c)){var g=new b(a,c);g.hasConstraints()&&g.applyConstraints(a,c,d,e)}return d}function h(g,h,i,j){if(f(i,j)&&!g.utils.isPage(h)){var k=new b(g,h);if(k.hasConstraints()){var l=g.components.layout.isHorizontallyStretchedToScreen(h),m=g.site.getSiteX(),n=c(g,h),o=d(i,n,l,m),p=d(j,n,l,m);k.applyConstraints(g,h,o,p);var q=e(o,n,l,m);a.assign(i,a.pick(q,a.keys(i)))}}return i}return{getLayoutAfterConstraints:h,getLayoutRelativeToScreenAfterConstraints:g}}),define("core/utils/updateDataUtil",["lodash","core/utils/updateDataPlugins/updateDataPlugins"],function(a,b){"use strict";function c(d){return b[d.type]&&b[d.type](d),a.forEach(d,function(b){a.isPlainObject(b)&&b.type&&c(b)}),d}return{fixData:c}}),define("core/utils/updatePropertiesPlugins/plugins/wPhotoPropertiesPlugin",["lodash"],function(a){"use strict";function b(b,c,d){var e=a.pick(b,"effectName");if(!a.isEmpty(e)){var f=d.viewMode.VIEW_MODES.MOBILE,g=d.components.getPage(c).id,h=d.components.get.byId(c.id,g,f);h&&d.components.is.exist(h)&&d.components.properties.mobile.isForked(h)&&d.components.properties.update(h,e)}}return function(a,d,e,f){return f||b(a,d,e),a}}),define("core/utils/updatePropertiesPlugins/updatePropertiesPlugins",["core/utils/updatePropertiesPlugins/plugins/wPhotoPropertiesPlugin"],function(a){"use strict";return{WPhotoProperties:a}}),define("core/utils/updatePropertiesUtil",["lodash","core/utils/updatePropertiesPlugins/updatePropertiesPlugins"],function(a,b){"use strict";function c(a,c,d,e){var f=a.type||"DefaultProperties";return b[f]&&b[f](a,c,d,e),a}return{fixProperties:c}}),define("core/utils/DragConstraintsHandler",["lodash","core/utils/layoutConstraintsUtil/EditorLayoutConstraintsUtil"],function(a,b){"use strict";function c(){this.editorAPI.setConstraintArea(this.constraintArea)}function d(){this.editorAPI.setConstraintArea(null)}function e(a,c){if(a){this.editorAPI=a,this.comp=c;var d=new b(a,c);this.constraintArea=d.getConstraintArea(a,c)}}return e.prototype.highlightDragConstraints=c,e.prototype.removeHighlightDragConstraints=d,e}),define("core/utils/compControlsMeasurer",["lodash","jquery","uiConstants"],function(a,b,c){"use strict";function g(a){var b=a.x+c.CUSTOM_GFPP_POS.X_OFFSET_FROM_CLICK,d=a.y;return{y:d,x:b,width:0,height:0,bottomY:d,rightX:b}}function h(a){return{y:a.y,x:a.x,width:a.width,height:a.height,bottomY:a.y+a.height,rightX:a.x+a.width}}function i(a,b){return a.y>=b.y?f.COMP_TOP:a.bottomY<=b.bottomY?f.COMP_BOTTOM:f.VIEWPORT_TOP}function j(a,c,d){var e=c.bottomY-a.y,g=a.bottomY-c.y,h=d?b(d).height():0,i=a.y<c.y,j=e>=h,k=a.bottomY>c.bottomY,l=g>=h,m=h<=c.bottomY-c.y;return i||!m?f.VIEWPORT_TOP:j?f.COMP_TOP:k?f.VIEWPORT_BOTTOM:l?f.COMP_BOTTOM:f.VIEWPORT_TOP}function k(a,b,c){return{gfpp:i(a,b),compPanel:j(a,b,c)}}function l(a,b,c,e,g){var h=Math.max(d,g&&g.top||0)+e,i=e+d,j=Math.max(d,g&&g.bottom||0);switch(a){case f.COMP_TOP:return Math.max(b.y-h,c.y-i);case f.COMP_BOTTOM:return b.bottomY+j;case f.VIEWPORT_TOP:return c.y-i}}function m(a,b,c,d){switch(a){case f.COMP_BOTTOM:return b.bottomY-d;case f.COMP_TOP:return b.y;case f.VIEWPORT_BOTTOM:return c.bottomY-d}return c.y}function n(a,b,c,d){switch(a){case f.COMP_LEFT:return b.x;case f.VIEWPORT_LEFT:return c.x;case f.VIEWPORT_RIGHT:return c.rightX-d}}function o(a,b,c,d,g,h,i){var j=b.rightX-b.x;switch(a){case f.COMP_LEFT:return b.x-d-Math.max(e,i&&i.left||0);case f.COMP_RIGHT:return b.x+j+Math.max(e,i&&i.right||0);case f.VIEWPORT_LEFT:return c.x;case f.VIEWPORT_RIGHT:return c.rightX-d-e;case f.GFPP_LEFT:return h-d-e;case f.GFPP_RIGHT:return h+g+e}}function p(a,c,d,e,f,g,h){var i={gfpp:{top:0,left:0},compPanel:{top:0,left:0}},j=f.height,k=f.width,p=g?b(g).height():0,q=g?b(g).width():0;return i.gfpp.top=l(a.gfpp,d,e,j,h),i.compPanel.top=m(a.compPanel,d,e,p),i.gfpp.left=n(c.gfpp,d,e,k),i.compPanel.left=o(c.compPanel,d,e,q,k,i.gfpp.left,h),i}function q(a,b,c){var d;return d=a.x>=b.x?c+a.x<=b.rightX?f.COMP_LEFT:f.VIEWPORT_RIGHT:f.VIEWPORT_LEFT}function r(a,b,c){var d={},e=g(a),f=k(e,b).gfpp,h=q(e,b,c.width);return d.top=l(f,e,b,c.height),d.left=n(h,e,b,c.width),d}function s(a,b,d,e){var g={};switch(b.gfpp){case f.VIEWPORT_LEFT:g.left=d.x-e.x+1;break;case f.VIEWPORT_RIGHT:case f.COMP_LEFT:g.left=1}switch(a.gfpp){case f.COMP_BOTTOM:g.top=c.NAVIGATION_CONTROLS_POS.BOTTOM;break;case f.COMP_TOP:case f.VIEWPORT_TOP:g.top=c.NAVIGATION_CONTROLS_POS.TOP}return g}function t(a,c,d,g,h){var m,n,i=g.width,j=h?b(h).width():0,k=a.rightX-a.x,l={};return l.gfpp=q(a,c,i),d.gfpp===d.compPanel?(m=a.rightX+j+e<=c.rightX,n=a.x-j-e>=c.x,
a.rightX<c.x?l.compPanel=f.VIEWPORT_LEFT:m?l.compPanel=f.COMP_RIGHT:n?l.compPanel=f.COMP_LEFT:l.compPanel=f.VIEWPORT_RIGHT):l.gfpp===f.COMP_LEFT?k>=i?(m=a.x+k+e+j<c.rightX,n=a.x-e-j>=c.x,m?l.compPanel=f.COMP_RIGHT:n?l.compPanel=f.COMP_LEFT:l.compPanel=f.VIEWPORT_RIGHT):(n=a.x-e-j>=c.x,n?l.compPanel=f.COMP_LEFT:l.compPanel=f.GFPP_RIGHT):l.gfpp===f.VIEWPORT_RIGHT?l.compPanel=f.GFPP_LEFT:l.gfpp===f.VIEWPORT_LEFT&&(m=Math.max(c.x+i,a.x+k)+j<=c.rightX,m?c.x+i>a.x+k?l.compPanel=f.GFPP_RIGHT:l.compPanel=f.COMP_RIGHT:l.compPanel=f.VIEWPORT_RIGHT),l}function u(a,c,g,h,i,k,l){var n={left:0,top:0},o=g?b(g).height():0,p=g?b(g).width():0;if(0===p||0===o)return{left:0,top:0};var q=j(a,c,g),r=m(q,a,c,o),s=p<=i-c.x,t=o<=c.bottomY-l,u=k===f.COMP_TOP&&o<=l-c.y-e,v=k===f.COMP_BOTTOM&&o<=c.bottomY-(l+h)-e;return s?(n.left=i-(p+e/2),n.top=t?l:c.bottomY-o):u?(n.left=i,n.top=l-(o+d)):v?(n.left=i,n.top=l+h+d):(n.left=c.rightX-p,n.top=r),n}var d,e=c.compPanelMargins,f={COMP_TOP:"compTop",COMP_BOTTOM:"compBottom",COMP_LEFT:"compLeft",COMP_RIGHT:"compRight",VIEWPORT_TOP:"viewPortTop",VIEWPORT_BOTTOM:"viewPortBottom",VIEWPORT_LEFT:"viewPortLeft",VIEWPORT_RIGHT:"viewPortRight",GFPP_LEFT:"gfppLeft",GFPP_RIGHT:"gfppRight"};return{getCompControlsPositions:function(a,b,e,f,g,i,j){a=a||{width:0,height:0};var l,m=h(f);d=b?c.navControlsGfppMargins:c.gfppMargins,i=i||{};var n=k(m,g,e),o=t(m,g,n,a,e),q=p(n,o,m,g,a,e,i);return l={gfppStyle:q.gfpp,compPanelStyle:q.compPanel},b&&(l.navControlsStyle=s(n,o,g,m)),j&&(l.gfppStyle=r(j,g,a)),l},getFullWidthCompPositions:function(a,b,e,f,g,j,k){var m,n=h(a),o=Math.max(g,b.x);d=j?c.navControlsGfppMargins:c.gfppMargins;var p=i(n,b),q=l(p,n,b,f.height),s=u(n,b,e,f.height,o,p,q);return m=k?r(k,b,f):{left:o,top:q},{gfppStyle:m,compPanelStyle:s}},getGfppPosition:function(a,b,e){d=c.gfppMargins;var f=h(b),g=i(f,e),j=q(f,e,a.width),k=l(g,f,e,a.height),m=n(j,f,e,a.width);return{top:k,left:m}}}}),define("core/utils/fixedPositionPlugins/tinyMenuFixedPositionPlugin",["lodash","core/app/constants"],function(a,b){"use strict";function c(c,e,f){var g=c.components.layout.getRelativeToStructure(e),h={fixedPosition:f};f===!0&&g.y>b.SIZE_LIMITS.FIXED_TINY_MENU_MAX_Y&&(d(c,e),a.merge(h,c.mobile.mobileOnlyComponents.getTinyMenuDefaultPosition())),c.components.layout.update(e,h)}function d(b,c){var d=b.components.getContainer(c),e=b.siteSegments.getHeader();a.isEqual(d,e)||b.components.setContainer(c,e)}return c}),define("core/utils/fixedPositionPlugins/fixedPositionPlugins",["lodash","core/utils/fixedPositionPlugins/tinyMenuFixedPositionPlugin"],function(a,b){"use strict";function d(a,b){c[a]=b}function e(a,b,c){a.components.layout.updateFixedPosition(b[0],c)}function f(b,d,f){var g=b.components.getType(d);return c[g]&&a.isFunction(c[g])?c[g].call(null,b,d,f):e(b,d,f),f}var c={"wysiwyg.viewer.components.mobile.TinyMenu":b};return{registerPlugin:d,setFixedPosition:f}}),define("core/utils/social",["lodash","util","require","pLoader!santa:utils"],function(a,b,c,d){"use strict";function h(a){window.open(a)}function i(){var a=window.location.hostname,b=a.match(/editor\.(.*)/);return b?"www."+b[1]:"www.wix.com"}var e="https://twitter.com/intent/tweet?url=",f="135c3d92-0fea-1f9d-2ba5-2a1dfb04297e",g="feedb3b8-0b1a-413f-bcab-73e805d0f554",j=a.once(function(a){var b,c=i();b=-1!==c.indexOf("wix.com")?"304553036307597":"394905507233800";var d={appId:b,status:!0,cookie:!0,xfbml:1};a.init(d)});return{openShoutout:function(a){var b=["http://www.wix.com/my-account/sites/",a,"/app/",f,"?referralInfo=ed_prem_promo","&appState=%3Fdl%3Dmessage%26messageId%3D",g].join("");h(b)},openTwitter:function(a,c){function d(b,c,d){return b=decodeURIComponent(b),e+a+"&text="+b+"&related="+c+"&hashtags="+d}var f=c?b.translate("TWITTER_CHECK_OUT_MY_SITE_MSG_PREMIUM"):b.translate("TWITTER_CHECK_OUT_MY_SITE_MSG_NON_PREMIUM"),g=d(f,b.translate("TWITTER_RELATED_WIX_ACCOUNTS"),b.translate("TWITTER_WIX_HASHTAGS"));h(g)},openFacebook:function(e,f,g,h){c(["facebook"],function(c){function d(a){var b="vir_fb_pub_h",c="http://"+f+".wix.com/html5webbuilder/share",d="?utm_campaign="+b+"_"+f+"&experiment_id=",e=a.replace(/https?:\/\//,"");return c+d+e}j(c);var i=a.clone(e),k=d(i),l={method:"feed",name:g,description:h,link:e,actions:[{name:b.translate("FACEBBOK_SHARE_MESSAGE"),link:k}]};c.ui(l)},function(a){d.log.error(a)})}}}),define("core/utils/spotifyUtils",["util"],function(a){"use strict";function f(a){return 0===a.toLowerCase().indexOf("spotify:artist:")}function g(a){return j(a)&&i(a)}function h(a,b,c){return e+a+"&lang="+c+"&tabs="+JSON.stringify(b)+"&default_tab="+b[0]+"&fontFaceUrl=http://static.parastorage.com/services/wix-public/1.160.0/css/Helvetica/fontFace.css"}function i(a){var b=a.split(":");return b.length>2&&b[b.length-1].length>0}function j(a){return a&&0===a.indexOf("spotify:")}var b=a.url,c="panels.focusPanels.spotifySearchFocusPanel",d=["tracks","albums","artists"],e=b.joinURL(a.editorModel.editorBase,"app/external/SpotifySearch/index.html?id=");return{openIframe:function(a,b,e){var f=a.getLanguageCode(),g="spotifySearch_"+Date.now();b=b||d;var i=a.selection.getSelectedComponentType();a.panelManager.openPanel(c,{panelName:"Spotify Search",iframeSrc:h(g,b,f),id:g,selectedComponentType:i,callback:e},!1)},validateSpotifyUri:g,validateFollowUri:f}}),define("core/utils/boxSlideShowUtils",["lodash","core/bi/bi"],function(a,b){"use strict";function c(a,b){return a.layouters.getNonMasterChildren(b)}function d(a,b){return c(a,b).length}function e(a,b){var d=c(a,b);return d[a.components.behaviors.getRuntimeState(b).currentSlide]}function f(a,b){var c=a.components.behaviors.getRuntimeState(b);return c.currentSlide+1}function g(a,b){return a.utils.findAncestorMatchesCondition(b,a.components.is.slidesContainer)}function h(a,b){return a.utils.findAncestorMatchesCondition(b,a.components.is.slideContainer)}function i(a,b,c){a.preventMouseDown(),a.components.behaviors.execute(b,"moveNextSlide",null,a.allowMouseDown),k(a,b,c)}function j(a,b,c){a.preventMouseDown(),a.components.behaviors.execute(b,"movePreviousSlide",null,a.allowMouseDown),k(a,b,c)}function k(c,d,f){c.selection.selectComponentByCompRef(d);var g=e(c,d);c.waitForChangesApplied(function(){var h=e(c,d);h!==g&&(c.bi.event(b.events.boxSlideShow.SLIDES_NAVIGATION,a.assign({origin:"sliderControl"},c.components.getDefaultBiParams(d))),f(c,d))})}return{getAllSlides:c,getTotalSlidesLength:d,findCurrentSlide:e,getCurrentSlideIndex:f,getSlideShowParent:g,getSlideShowSlideParent:h,moveNextSlide:i,movePrevSlide:j}}),define("core/bi/controlsToEvents",["core/bi/events.json"],function(a){"use strict";var b={"boolean":a.commonControls.Toggle_Click,select:a.commonControls.DropDown_Selection,combobox:a.commonControls.DropDown_Selection,slider:a.commonControls.Slider_ValueChange,RadioButtons:a.commonControls.RadioButtonsList_Selection,accordion:a.commonControls.Toggle_Click,textEffects:a.commonControls.RadioButtonsList_Selection,textOutdentLeft:a.textControls.Text_Panel_Indentation_Click,textOutdentRight:a.textControls.Text_Panel_Indentation_Click,textIndentLeft:a.textControls.Text_Panel_Indentation_Click,textIndentRight:a.textControls.Text_Panel_Indentation_Click,textWriteDirectionLeft:a.textControls.Text_Panel_Text_Orientation_Click,textWriteDirectionRight:a.textControls.Text_Panel_Text_Orientation_Click,textColor:a.textControls.Text_Panel_Color_Click,textHighlight:a.textControls.Text_Panel_Highlight_Click,paletteDisplayer:a.colorPicker.SITE_COLOR_SELECT,thumbnailsWithIcons:a.commonControls.RadioButtonsList_Selection};return b}),define("core/utils/uiControlsBIUtil",["lodash","core/bi/controlsToEvents"],function(a,b){"use strict";function c(a){return b[a]}function d(c,d){var e=a(b[c].fields).keys().union(["value"]).value();return a(d).pick(e).mapValues(function(a){return"boolean"==typeof a?a.toString():a}).value()}return{getEventDefinition:c,getParams:d}}),define("core/app/styleManager",["lodash"],function(a){"use strict";function b(b,c){return a.isEqual(b,c)}function c(b){var c=b.styles.getAllIds();return a.map(c,b.styles.get)}function d(b,d){var e=c(b);return a.filter(e,{skin:d})}function e(b,d,e){var f=c(b);return a.filter(f,function(b){return(b.componentClassName===d||e&&e.length>0&&a.includes(e,b.componentClassName))&&"custom"===b.styleType})}function f(b,c){var d=a.find(b,function(a){return a.styles[c]});return d&&d.styles[c]}function g(a,b){var c=f(a,b);return c?{id:b,compId:"",componentClassName:"",pageId:"",styleType:"system",type:"TopLevelStyle",skin:c,style:{groups:{},properties:{},propertiesSource:{}}}:null}function h(b){var c=a.map(b,function(a,b){return[b,a]});return a.sortBy(c,a.first)}return{getStyleIdByDef:function(c,e,f,g){if("system"===f.styleType)return f.id;var h=d(c,f.skin),i=a.find(h,function(c){if(a.isUndefined(c.style)&&f.style)return!1;if(c.style&&f.style){var d=e.COMPONENT_DEFINITION_MAP[g]?a.keys(e.COMPONENT_DEFINITION_MAP[g].styles):[];return a.includes(d,c.id)||c.componentClassName===g?b(c.style.properties,f.style.properties):!1}return!0});return i?i.id:this.createNewStyleByDef(c,f,f.componentClassName)},createNewStyleByDef:function(b,c,d){var e=a.cloneDeep(c);return e.styleType="custom",e.componentClassName=e.componentClassName||d,b.styles.createItem(e)},getStyleById:function(a,b,c){var d=a.styles.get(c);return d||(d=g(b.COMPONENT_DEFINITION_MAP,c)),d},getUniqueCustomStyleList:function(b,c,d){var f=e(b,d),g=this.getUniqueThemeStyleList(b,c,d),i=a.uniq(f,function(a){return JSON.stringify(a.style?h(a.style.properties):{})});return a.remove(i,function(b){return a.find(g,function(a){return this.isEqualWithoutTypeConsideration(b,a)},this)},this),a.sortBy(i,"skin")},getUniqueThemeStyleList:function(b,c,d){var e=this.getThemedStyleForComp(b,c,d),f=a.uniq(e,function(a){return JSON.stringify(a.style?h(a.style.properties):{})+a.skin});return a.sortBy(f,"skin")},getThemedStyleForComp:function(b,c,d){var e=c.COMPONENT_DEFINITION_MAP[d]?a.keys(c.COMPONENT_DEFINITION_MAP[d].styles):[];return a.map(e,function(a){return this.getStyleById(b,c,a)},this)},getDuplicateToStyleList:function(b,c,d,f,g){var h=this.getThemedStyleForComp(b,c,f),i=e(b,f,g),j=h.concat(i);return a(j).reject({id:d.id}).filter(this.isEqualWithoutTypeConsideration.bind(this,d)).value()},getUniqueStyleList:function(a,b,c){var d=this.getUniqueCustomStyleList(a,b,c),e=this.getUniqueThemeStyleList(a,b,c);return e.concat(d)},isEqual:function(a,c){if(!a||!c)throw new Error("Style is not defined");return a.skin!==c.skin||a.styleType!==c.styleType?!1:"system"===a.styleType?a.id===c.id:a.style&&c.style?b(a.style.properties,c.style.properties):!0},isEqualWithoutTypeConsideration:function(a,c){if(!a||!c)throw new Error("Style is not defined");return a.skin!==c.skin?!1:a.style&&c.style?b(a.style.properties,c.style.properties):!0},getTempStyleId:function(a,b){var c=this.createNewStyleByDef(a,b);return a.styles.setExcluded(c),c},prepareTempStyleValue:function(a){a.styleType="custom"}}}),define("core/utils/defaultActions/mediaManagerDefaultActions",["lodash","util","core/app/styleManager"],function(a,b,c){"use strict";function f(a,b){var c=a.components.style.getId(b);return a.theme.styles.get(c)}function g(a,b,d){var e=f(a,b);if(d!==e.skin){e.skin=d;var g=c.getStyleIdByDef(a.theme,a.components,e,a.components.getType(b));a.components.style.setId(b,g)}}var d=["uri","width","height","title","originalImageDataRef","type"],e=["uri","width","height","title"];return{changeBgImageStrip:function(b,c){b.mediaServices.mediaManager.open(b.mediaServices.mediaManager.categories.IMAGE,{multiSelect:!1,callback:function(e){if(e){var f=a.pick(e[0],d);f.uri=e[0].fileName,f.originalImageDataRef=null,f.type="Image",f.crop=null,b.components.data.update(c,f,!0),b.history.add("Change Image")}}})},changeClipArt:function(c,d){c.mediaServices.mediaManager.open(c.mediaServices.mediaManager.categories.CLIPART,{multiSelect:!1,translation:{title:b.translate("Clip_Art_Media_Change_Clipart"),submitButton:b.translate("Clip_Art_Media_Change_Clipart")},path:"public",callback:function(b){if(b){var f=a.pick(b[0],e);f.uri=b[0].fileName,f.originalImageDataRef=null,f.crop=null,c.components.data.update(d,f,!0),c.history.add("Change Image")}}})},changeDocumentMedia:function(b,c){var d=b.mediaServices;d.mediaManager.open(d.mediaManager.categories.DOCUMENT,{multiSelect:!1,callback:function(d){if(!a.isEmpty(d)){var e=b.components.data.get(c),f=a.cloneDeep(e.link),g=d[0];f.name=g.title,f.docId=g.fileUrl,e.link=f,b.components.data.update(c,e)}}})},changeFlashComponent:function(b,c){var d=b.mediaServices;d.mediaManager.open(d.mediaManager.categories.FLASH,{multiSelect:!1,callback:function(d){if(!a.isEmpty(d)){var e=d[0],f=b.components.data.get(c);a.assign(f,{uri:e.fileName},a.pick(e,["width","height","title"])),b.components.data.update(c,f)}}})},changePinterestPinIt:function(b,c){var d=b.mediaServices;d.mediaManager.open(d.mediaManager.categories.IMAGE,{multiSelect:!1,callback:function(d){if(!a.isEmpty(d)){var e=b.components.data.get(c);e.uri=d[0].fileName,b.components.data.update(c,e)}}})},changeSingleAudioPlayer:function(b,c){var d=b.mediaServices;d.mediaManager.open(d.mediaManager.categories.MUSIC,{multiSelect:!1,callback:function(d){if(!a.isEmpty(d)){var e=d[0],f=b.components.data.get(c);a.assign(f,{uri:e.fileUrl,originalFileName:e.title,artist:"Unknown Artist",track:"Unknown Track"}),b.components.data.update(c,f)}}})},changeSvgShape:function(c,d,e){var f=c.mediaServices;f.mediaManager.open(f.mediaManager.categories.SHAPE,a.assign({multiSelect:!1,callback:function(e){if(!a.isEmpty(e)){var f=b.svgUrlParser.parseSvgSkinFromUrl(e[0].fileUrl);g(c,d,f),c.history.add("Change Shape")}}},e))},changeWPhoto:function(b,c){b.mediaServices.mediaManager.open(b.mediaServices.mediaManager.categories.IMAGE,{multiSelect:!1,callback:function(e){if(e){var f=a.pick(e[0],d);f.uri=e[0].fileName,f.originalImageDataRef=null,f.crop=null,b.components.data.update(c,f,!0),b.history.add("Change Image")}}})}}}),define("core/utils/componentsDefaultAction",["lodash","core/bi/bi","core/app/constants","core/utils/defaultActions/mediaManagerDefaultActions","core/utils/spotifyUtils"],function(a,b,c,d,e){"use strict";function f(a,b){b&&a.openComponentPanel(b)}function g(a){return function(b){f(b,a)}}function h(a,b){a.openOrganizeImagesPanel(function(c){var d=a.components.data.get(b);d.items=c,a.components.data.update(b,d)})}function i(a){a.openPagesPanel()}return{WRichText:function(a,d,e){a.isMobileEditor()?f(a,c.componentPanels.settings):(a.bi.event(b.events.textControls.Text_Panel_opened,{origin:e}),a.text.startEditing())},Container:g(c.componentPanels.design),FiveGridLine:g(c.componentPanels.design),FooterContainer:g(c.componentPanels.design),HeaderContainer:g(c.componentPanels.design),screenWidthContainer:g(c.componentPanels.design),Page:g(c.componentPanels.design),VerticalLine:g(c.componentPanels.design),Anchor:g(c.componentPanels.settings),ContactForm:g(c.componentPanels.settings),FacebookLikeBox:g(c.componentPanels.settings),FacebookShare:g(c.componentPanels.settings),FlickrBadgeWidget:g(c.componentPanels.settings),BoxSlideShow:g(c.componentPanels.settings),GoogleMap:g(c.componentPanels.settings),HtmlComponent:g(c.componentPanels.settings),ImageButton:g(c.componentPanels.settings),ItunesButton:g(c.componentPanels.settings),PayPalButton:g(c.componentPanels.settings),PinItPinWidget:g(c.componentPanels.settings),PinterestFollow:g(c.componentPanels.settings),SiteButton:g(c.componentPanels.settings),SkypeCallButton:g(c.componentPanels.settings),SoundCloudWidget:g(c.componentPanels.settings),SpotifyFollow:g(c.componentPanels.settings),SubscribeForm:g(c.componentPanels.settings),Video:g(c.componentPanels.settings),VKShareButton:g(c.componentPanels.settings),WFacebookLike:g(c.componentPanels.settings),WTwitterFollow:g(c.componentPanels.settings),WTwitterTweet:g(c.componentPanels.settings),YouTubeSubscribeButton:g(c.componentPanels.settings),AudioPlayer:function(b,c){var d=b.mediaServices;d.mediaManager.open(d.mediaManager.categories.MUSIC,{multiSelect:!1,callback:function(d){if(!a.isEmpty(d)){var e=b.components.data.get(c);e.uri=d[0].fileName,b.components.data.update(c,e)}}})},BgImageStrip:d.changeBgImageStrip,ClipArt:d.changeClipArt,DocumentMedia:d.changeDocumentMedia,FlashComponent:d.changeFlashComponent,PinterestPinIt:d.changePinterestPinIt,SingleAudioPlayer:d.changeSingleAudioPlayer,SvgShape:d.changeSvgShape,WPhoto:d.changeWPhoto,DropDownMenu:i,GalleryDefaultAction:h,MatrixGallery:h,SliderGallery:h,PaginatedGridGallery:h,Impress:h,Masonry:h,Thumbnails:h,StripSlideshow:h,StripShowcase:h,Accordion:h,Freestyle:h,Collage:h,Honeycomb:h,SlideShowGallery:h,TPA3DGallery:h,TPA3DCarousel:h,LinkBar:function(a){a.openOrganizeSocialIconsPanel()},SpotifyPlayer:function(a,b){e.openIframe(a,null,function(c){var d=a.components.data.get(b);c&&c.uri&&c.uri!==d.uri&&(a.components.data.update(b,{uri:c.uri}),a.history.add("Change Spotify Track"))})},TinyMenu:i,VerticalMenu:i}}),define("core/utils/componentPreviewReadyPlugins/componentPreviewReadyPlugins",["lodash","core/utils/componentPreviewReadyPlugins/formPlugin"],function(a,b){"use strict";function c(c,d){var e=d.components.get.byType(c);a.forEach(e,function(c){var e=d.components.data.get(c),f=a.clone(e);b.updateDataWithDefaults(e,d),a.isEqual(e,f)||d.components.data.update(c,e)})}return[c.bind(null,["wysiwyg.viewer.components.ContactForm","wysiwyg.common.components.subscribeform.viewer.SubscribeForm"])]}),define("core/utils/pageUtils/blogTypeUtils",[],function(){"use strict";function a(a){return"7326bfbb-4b10-4a8e-84c1-73f776051e10"===a.appPageId}function b(a,b){return d.isBlog(a,b)&&!d.isBlogSpecialPage(b)}function c(a,b){return b.appInnerID?"blog"===a.wixapps.classics.getPackageName(b.appInnerID):!1}var d={isBlog:c,isBlogSpecialPage:a,isBlogSectionPage:b};return d}),define("core/utils/pageUtils/tpaTypeUtils",[],function(){"use strict";function a(a){return!!a.tpaApplicationId}function b(a,b){return c.isTPA(b)&&a.pages.isContainsCompWithType(b.id,a.tpa.constants.COMP_TYPES.TPA_MULTI_SECTION)}var c={isTPA:a,isTPASpecialPage:b};return c}),define("core/utils/pageUtils/wixStoreTypeUtils",["lodash","core/utils/pageUtils/tpaTypeUtils"],function(a,b){"use strict";function e(a,c){if(b.isTPA(c)){var d=a.tpa.section.getPageData(c.id).appData;return d&&d.appDefinitionId}}function f(a,b,c){return e(b,c)===a}function g(a,b){return b.tpaPageId===a}var c={PRODUCT_PAGE:"product_page",SHOPPING_CART_PAGE:"shopping_cart",THANK_YOU_PAGE:"thank_you_page"},d="1380b703-ce81-ff05-f115-39571d94dfcd";return{isWixStore:a.partial(f,d),isWixStoreCartPage:a.partial(g,c.SHOPPING_CART_PAGE),isWixStoreThankYouPage:a.partial(g,c.THANK_YOU_PAGE),isWixStoreProductPage:a.partial(g,c.PRODUCT_PAGE)}}),define("core/utils/mouseScaleHandler",["core/utils/stageUtils"],function(a){"use strict";function b(a,b,c){return b>=a.left&&b<=a.right&&c>=a.top&&c<=a.bottom}function c(c,d,e){var f=a.getStageLayout(),g=f.width*(1-e)/2,h=c.ui.scroll.getScroll();d.originalPageX=d.pageX,d.originalPageY=d.pageY,d.originalClientX=d.clientX,d.originalClientY=d.clientY,d.pageX+=h.scrollLeft,d.pageY+=h.scrollTop,1!==e&&b(f,d.clientX,d.clientY)&&(d.pageX=(d.pageX-f.left-g)/e+f.left,d.pageY=(d.pageY-f.top)/e+f.top,d.clientX=(d.clientX-f.left-g)/e+f.left,d.clientY=(d.clientY-f.top)/e+f.top)}return{fitMouseCoordinatesToScale:c}}),define("core/mixins/biMixin",["react"],function(a){"use strict";return{contextTypes:{bi:a.PropTypes.object},getBI:function(){return this.context.bi},sendBI:function(a,b){this.getEditorAPI().bi.event(a,b)}}}),define("core/mixins/editorAPIMixin",["react"],function(a){"use strict";return{contextTypes:{editorAPI:a.PropTypes.object},getEditorAPI:function(){return this.context.editorAPI}}}),define("core/app/lazyComponent",["react","lodash","pLoader!santa:utils"],function(a,b,c){"use strict";function f(a){return a.split(".")[0]}function g(a){return a.split(".").slice(1)}function h(a,f,g){for(var h=g,i=0;i<f.length;i++){if(!h.hasOwnProperty(f[i]))return void c.log.warn("(lazyComponent.js) -> Module [["+a+"]] has not yet loaded. It is possible that this has not yet been implemented in the editor.");h=h[f[i]]}d[a]=h,b.forEach(e[a],function(a){b.has(a.props,"onLoad")?a.props.onLoad():a.forceUpdate()})}var d={},e={};return a.createClass({displayName:"LazyLoader",statics:{isLoaded:function(a){return b.has(d,a)}},componentWillMount:function(){},componentWillReceiveProps:function(a){this.props.moduleName!==a.moduleName&&(e[this.props.moduleName]=b.without(e[this.props.moduleName],this))},componentWillUnmount:function(){e[this.props.moduleName]=b.without(e[this.props.moduleName],this)},render:function(){var i=this.props.moduleName;if(i&&!d.hasOwnProperty(i)){var j=f(this.props.moduleName),k=g(this.props.moduleName);if(require.defined(j)){var l=b.get(require(j),k);l?d[i]=l:c.log.warn("(lazyComponent.js) -> Module [["+i+"]] has not yet loaded. It is possible that this has not yet been implemented in the editor.")}else e.hasOwnProperty(i)||(e[i]=[]),b.includes(e[i],this)||e[i].push(this),require([j],h.bind(null,i,k))}if(!this.props.placeHolder&&d[i]){var m=b.omit(this.props,["moduleName"]);return a.createElement(d[i],m)}return null}})}),define("core/app/premiumServicesAPI",["jquery","lodash","util"],function(a,b,c){"use strict";function g(c){var e=!1,f=a(c).find("domainName");if(!b.isEmpty(f)){var g=a(c).find("checkStatus").text();g=b.parseInt(g),e=g===d}return e}function h(c){var d=a(c).find("domainName").text();return b.isEmpty(d)||b.includes(d,e)||(d=e+d),b.isEmpty(d)?null:d}function i(c){return!b.isEmpty(a(c).find("cycle"))}function j(b,c,d){var e=a.ajax({type:"POST",dataType:"xml",url:f+b});e.done(function(a,b){if("success"===b){var e=g(a),f=h(a),j=i(a);return void c({isDomainConnected:e,sitePublishedDomain:f,isSitePremium:j})}d()}),e.fail(d)}var d=0,e="http://",f=c.serviceTopology.premiumStateApiUrl;return f=f?f.replace(/getTpaPremiumState/,"getDocPremiumState?siteGuid="):"//editor.wix.com/_api/wix/getDocPremiumState?siteGuid=",{getSiteDomainInfo:j}}),define("core",["core/utils/addUtil","core/utils/AddPanelDragHandler","core/utils/AddPanelSectionDragHandler","core/utils/AttachHandler","core/utils/AttachHandlerExperimentAttachImprovements","core/utils/updateLayoutUtil","core/utils/layoutConstraintsUtil/LayoutConstraintsUtil","core/utils/updateDataUtil","core/utils/updatePropertiesUtil","core/utils/DragConstraintsHandler","core/utils/layoutTransitionsUtil","core/utils/SnapToHandler","core/utils/stageUtils","core/utils/scrollUtils","core/utils/compControlsMeasurer","core/utils/fixedPositionPlugins/fixedPositionPlugins","core/utils/social","core/utils/spotifyUtils","core/utils/boxSlideShowUtils","core/utils/uiControlsBIUtil","core/utils/componentsDefaultAction","core/utils/componentPreviewReadyPlugins/componentPreviewReadyPlugins","core/utils/compsSectionsAnalyzer","core/utils/sectionsReorganizeUtil","core/utils/pageUtils/blogTypeUtils","core/utils/pageUtils/tpaTypeUtils","core/utils/pageUtils/wixStoreTypeUtils","core/utils/mouseMoveActions/sectionDrag","core/utils/mouseScaleHandler","core/utils/gridLinesUtil","core/mixins/biMixin","core/mixins/editorAPIMixin","core/app/constants","core/app/lazyComponent","core/app/styleManager","core/app/premiumServicesAPI","core/bi/bi"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K){"use strict";return{constants:G,utils:{addUtil:a,AddPanelDragHandler:b,AddPanelSectionDragHandler:c,AttachHandler:d,AttachHandlerExperimentAttachImprovements:e,DragConstraintsHandler:j,updateLayoutUtil:f,LayoutConstraintsUtil:g,updateDataUtil:h,updatePropertiesUtil:i,layoutTransitionsUtil:k,SnapToHandler:l,stageUtils:m,scrollUtils:n,fixedPositionUtils:p,social:q,spotifyUtils:r,boxSlideShowUtils:s,compControlsMeasurer:o,uiControlsBIUtil:t,componentsDefaultAction:u,compsSectionsAnalyzer:w,sectionsReorganizeUtil:x,componentPreviewReadyPlugins:v,blogTypeUtils:y,tpaTypeUtils:z,wixStoreTypeUtils:A,mouseScaleHandler:C,gridLinesUtil:D,sectionDrag:B},mixins:{biMixin:E,editorAPIMixin:F},lazyComponent:H,styleManager:I,premiumServicesAPI:J,bi:K}});