define("designPanel/core/designPanelMixin",["react","lodash","core","designPanelUtils","experiment!animateChangeStyleButton","experiment"],function(a,b,c,d,e,f){"use strict";return{mixins:[d.mixins.styleIdMixin,d.mixins.panelPositionMixin],propTypes:{compType:a.PropTypes.string.isRequired},getInitialState:function(){return this.getResetState(this.props)},getResetState:function(a){var c={advancedStyling:!1,currentAdvancedStyleId:"",isStyleChanged:!1};return this.getStateFromProps&&b.assign(c,this.getStateFromProps(a)),c},componentWillMount:function(){e&&(this.customizeDesignClicked=!1),this.props.onlyAdvancedStyling&&this.openCustomizeDesign()},componentWillReceiveProps:function(a){b.isEqual(a.selectedComponent,this.props.selectedComponent)||(e&&(this.customizeDesignClicked=!1),this.dontResetState&&this.dontResetState(a)||this.setState(this.getResetState(a)))},getPropsForDesignPanel:function(){var a=b.assign({},this.props,{changePermanentState:this.changePermanentState,changeTempState:this.changeTempState,maintainOriginalState:this.maintainOriginalState,isSelectedItem:this.isSelectedItem,hideComponentSections:this.state.advancedStyling,shouldHideContentOverflow:this.state.advancedStyling});return this.state.advancedStyling&&!this.props.onlyAdvancedStyling&&(a.onBackClick=this.customizeDesignCallBack),a},openCustomizeDesign:function(){var a,g={};if(this.state.currentAdvancedStyleId?a=this.state.currentAdvancedStyleId:(a=this.createCurrentAdvancedStyleId(),b.assign(g,{currentAdvancedStyleId:a})),g.currentStyleId=a,f.isOpen("fastStyling")&&d.customizeDesignComponents.isFastStylingEnabled(this.props.compType)&&!this.props.switchPanelFunc){var h=this.getEditorAPI(),i={backButtonLabel:"design_panel_back_button_label",onBackClick:b.noop,styleId:a};h.replaceComponentPanel(c.constants.componentPanels.customizeDesign,i)}else g.advancedStyling=!0,e&&(this.customizeDesignClicked=!0);this.setState(g),this.setComponentStyle(a),this.reportCustomizeDesignClickedToBI()},reportCustomizeDesignClickedToBI:function(){var a=this.getEditorAPI();a.bi.event(c.bi.events.designPanel.DESIGN_PANEL_CUSTOMIZE_BUTTON_CLICK,{was_preset_clicked_current_session:this.state.isStyleChanged,component_type:this.getCompTypeForBI(this.props.compType),component_id:b.first(this.props.selectedComponent).id,chosen_style_id:this.state.currentStyleId})},customizeDesignCallBack:function(){this.setState({advancedStyling:!1});var a=this.getEditorAPI();a.bi.event(c.bi.events.ADVANCED_STYLE_PANEL.BACK_BUTTON_CLICK,{component_type:this.getCompTypeForBI(this.props.compType)})},getAdvancedStylingProps:function(){var a={selectedSkin:this.props.selectedSkin,selectedComponent:this.props.selectedComponent,styleId:this.state.currentAdvancedStyleId,compType:this.props.compType};return b.has(this.props,"shouldStartClosed")&&(a.shouldStartClosed=this.props.shouldStartClosed),a}}}),define("designPanel/core/designPanel.rt",["react/addons","lodash","compPanels","addPanelInfra"],function(a,b,c,d){"use strict";function e(c,e,f){return a.createElement(d.baseGenerator,b.assign({},{ref:this.getSectionRef(e,f),key:this.getSectionRef(e,f)},this.getSectionProps(e,f,c)))}function f(){var c=this.getSections();return a.createElement.apply(this,["div",{onMouseLeave:this.onPanelMouseLeave,className:b.keys(b.pick(this.getSectionsClasses(),b.identity)).join(" "),key:"designPanelSections"},b.map(c,e.bind(this,c))])}return function(){return a.createElement(c.compPanelFrame,b.assign({},{id:"designPanel",title:this.getTitle(),shouldHideContentOverflow:this.props.shouldHideContentOverflow,helpId:this.getHelpId()},this.getFrameProps()),this.props.hideComponentSections?null:f.apply(this,[]),a.createElement("div",{},this.props.children))}}),define("designPanel/core/designPanel",["react","lodash","addPanelData","addPanelInfra","core","compPanels","designPanelUtils","designPanel/core/designPanel.rt"],function(a,b,c,d,e,f,g,h){"use strict";function i(a){if(!b.isUndefined(a.title)){if(!b.isUndefined(a.getTitle))return new Error("Cannot provide both title and getTitle");if(!b.isString(a.title))return new Error("Warning: Invalid prop 'title', expected a string.")}}return a.createClass({displayName:"designPanel",mixins:[e.mixins.editorAPIMixin,f.compPanelFrameMixin,d.addPanelHoverMixin],render:h,propTypes:{selectedComponent:a.PropTypes.array.isRequired,compType:a.PropTypes.string.isRequired,changePermanentState:a.PropTypes.func.isRequired,changeTempState:a.PropTypes.func.isRequired,maintainOriginalState:a.PropTypes.func.isRequired,hideComponentSections:a.PropTypes.bool,getTitle:a.PropTypes.func,title:i,getSections:a.PropTypes.func,getAdditionalElementProps:a.PropTypes.func},getInitialState:function(){return{selectedItemKey:null}},componentWillReceiveProps:function(a){a.hideComponentSections!==this.props.hideComponentSections&&this.setState({selectedItemKey:null})},getTitle:function(){return this.props.getTitle?this.props.getTitle():this.props.title?this.props.title:c.getDesignPanelTitleByComp(this.props.compType,this.props.selectedComponent,this.getEditorAPI())},getHelpId:function(){return this.props.helpId?this.props.helpId:c.getDesignPanelHelpIdByComp(this.props.compType,this.props.selectedComponent,this.getEditorAPI())},getSections:function(){return this.props.getSections?this.props.getSections():c.getSectionsByComponentType(this.props.compType,this.props.selectedComponent,this.getEditorAPI())},onClick:function(a,b,c,d){this.props.changePermanentState(a,d),this.setState({selectedItemKey:d}),this.getEditorAPI().history.add("clicked on new item in design panel"),this.reportToBI(a,b,c,d)},reportToBI:function(a,c,d,f){var h=this.getEditorAPI(),i=g.changeStyleHelper.getCompDefStyleId(a,h),j=i?h.theme.styles.get(i):"";h.bi.event(e.bi.events.designPanel.DESIGN_PANEL_SELECT_PRESET_CLICK,{style_id:i,preset_id:f,component_type:this.props.compType,component_id:b.first(this.props.selectedComponent).id,preset_data_skin:j&&j.skin,preset_data_tags:d,section:c})},onMouseEnter:function(a,b){this.enter(null,a,b,this.props.changeTempState)},onItemMouseLeave:function(a){this.leave(null,a)},onPanelMouseLeave:function(){this.props.hideComponentSections||this.props.maintainOriginalState()},getSectionRef:function(a,b){return a.type+b},getSectionsClasses:function(){return{sections:!0,"panel-has-children":!!this.props.children&&!b.isEmpty(b.compact(this.props.children))}},getSectionProps:function(a,d,e){return b.assign(a,{id:this.getSectionRef(a,d),additionalScaling:c.addPanelDataConsts.DESIGN_PANEL_SCALE,onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onItemMouseLeave,isSelectedItem:this.props.isSelectedItem,selectedItemKey:this.state.selectedItemKey?[this.state.selectedItemKey]:null,parentType:c.addPanelDataConsts.PANEL_TYPES.DESIGN_PANEL,nextSibling:e[d+1],sectionIndex:d,getAdditionalElementProps:this.props.getAdditionalElementProps,getAdditionalItemProps:function(a){var c=this.props.getAdditionalElementProps&&this.props.getAdditionalElementProps(a.structure)||{};if(this.state.selectedItemKey&&this.state.selectedItemKey===a.id){var d=c.className?c.className+" ":"";c=b.assign(c,{className:d+"design-panel-selected-item",symbolName:"selectedItemDesignPanel"})}return c}.bind(this)})}})}),define("designPanel/panelTypes/changeStyleDesignPanel.rt",["react/addons","lodash","designPanel/core/designPanel","baseUI","util"],function(a,b,c,d,e){"use strict";function f(){var b=this.getAdvancedStylePanelClass();return a.createElement("div",{key:"advancedStylePanel"},a.createElement(b,this.getAdvancedStylingProps()))}return function(){return a.createElement(c,b.assign({},{ref:"designPanel"},this.getPanelProps()),this.state.advancedStyling?null:a.createElement("div",{className:"button-wrapper",key:"customizeDesignBtn"},a.createElement(d.button,{ref:"customizeDesign",className:"button",label:"design_customize_button",onClick:this.openCustomizeDesign,icon:"customizeDesignButtonBrush"})),this.state.advancedStyling?f.apply(this,[]):null)}}),define("designPanel/panelTypes/changeStyleDesignPanel",["react","lodash","jquery","core","advancedStylePanel","designPanel/core/designPanelMixin","designPanelUtils","designPanel/panelTypes/changeStyleDesignPanel.rt","experiment!animateChangeStyleButton"],function(a,b,c,d,e,f,g,h,i){"use strict";function m(a,c){return b.pick(a.components.layout.get(c),["x","y","width","height"])}function n(a,b){return b.currentStyleId||a.components.style.getId(b.selectedComponent)}var j=["wysiwyg.viewer.skins.page.TransparentPageSkin","wysiwyg.viewer.skins.screenwidthcontainer.TransparentHalfScreen","wysiwyg.viewer.skins.screenwidthcontainer.TransparentScreen","wysiwyg.viewer.skins.area.TransparentArea"],k=["wysiwyg.viewer.skins.photo.NoSkinPhoto","wysiwyg.viewer.skins.VideoSkin"],l={"wysiwyg.viewer.components.svgshape.SvgShape":e.svgShape,"wysiwyg.viewer.components.BoxSlideShowSlide":e.boxSlideShowSlide};return a.createClass({displayName:"changeStyleDesignPanel",mixins:[f,d.mixins.editorAPIMixin],render:h,propTypes:{selectedComponent:a.PropTypes.array.isRequired,compType:a.PropTypes.string.isRequired,onlyAdvancedStyling:a.PropTypes.bool,setStyleFunc:a.PropTypes.func,currentStyleId:a.PropTypes.string,shouldMaintainOriginalLayout:a.PropTypes.bool},getDefaultProps:function(){return{backButtonLabel:"design_panel_back_button_label"}},getStateFromProps:function(a){var b=this.getEditorAPI(),c=n(b,a),e=d.styleManager.getStyleById(b.theme,b.components,c);return{currentStyleId:c,layoutToMaintain:a.shouldMaintainOriginalLayout&&m(b,a.selectedComponent),tempStyleId:d.styleManager.getTempStyleId(b.theme,e)}},componentWillReceiveProps:function(a){var c=this.getEditorAPI(),d=b.isEqual(a.selectedComponent,this.props.selectedComponent);if(d&&this.state.layoutToMaintain){var e=m(c,a.selectedComponent),f=!b.isEqual(this.state.layoutToMaintain,e),g=!b.isEqual(n(c,a),this.state.currentStyleId);f&&!g&&this.setState({layoutToMaintain:e})}},changePermanentState:function(a){var b=this.getEditorAPI(),d=g.changeStyleHelper.getCompDefStyleId(a,b);if(d){this.setComponentStyle(d);var e={currentStyleId:d,currentAdvancedStyleId:"",isStyleChanged:!0,propertiesToMaintain:a.props};if(i){var f=c(this.refs.customizeDesign.getDOMNode());f.removeClass("animate-button"),this.setState(e,function(){f.addClass("animate-button")})}else this.setState(e)}},changeTempState:function(a){var b=this.getEditorAPI(),c=g.changeStyleHelper.getCompDefStyle(a,b);d.styleManager.prepareTempStyleValue(c),c&&this.state.tempStyleId&&(this.props.setStyleFunc?(b.theme.styles.update(this.state.tempStyleId,c,!0),this.props.setStyleFunc(this.state.tempStyleId,!0)):(b.components.layout.update(this.props.selectedComponent,this.state.layoutToMaintain,!0),this.setComponentStyleId(this.state.tempStyleId),b.components.style.update(this.props.selectedComponent,c)))},maintainOriginalState:function(){if(this.state.currentStyleId){var a=this.getEditorAPI();this.setComponentStyle(this.state.currentStyleId),this.props.setStyleFunc||a.components.layout.update(this.props.selectedComponent,this.state.layoutToMaintain,!0)}},isSelectedItem:function(a){return g.changeStyleHelper.isCompDefStyleEqualToStyle(a,this.state.currentStyleId,this.props.compType,this.getEditorAPI())},getPanelProps:function(){var a=this.getEditorAPI();return b.assign(this.getPropsForDesignPanel(),{getAdditionalElementProps:function(c){var d=g.changeStyleHelper.getCompDefStyle(c,a),e={};return b.includes(j,d.skin)?(e.text="DESIGN_LABEL_NO_COLOR",e.className="design-panel-transparent-skin-item"):b.includes(k,d.skin)&&(e.text="Design_Label_No_Frame",e.className="design-panel-no-frame-skin-item"),e}})},getAdvancedStylePanelClass:function(){return l[this.props.compType]?l[this.props.compType]:e.panel}})}),define("designPanel/panelTypes/changeDataDesignPanel.rt",["react/addons","lodash","designPanel/core/designPanel"],function(a,b,c){"use strict";return function(){return a.createElement(c,b.assign({},{ref:"designPanel"},this.getPropsForDesignPanel()))}}),define("designPanel/panelTypes/changeDataDesignPanel",["react","lodash","core","designPanel/core/designPanelMixin","designPanel/panelTypes/changeDataDesignPanel.rt"],function(a,b,c,d,e){"use strict";return a.createClass({displayName:"changeDataDesignPanel",mixins:[d,c.mixins.editorAPIMixin],render:e,getStateFromProps:function(a){return{currentDataItem:this.getEditorAPI().components.data.get(a.selectedComponent)}},changePermanentState:function(a){a.data&&(this.getEditorAPI().components.data.update(this.props.selectedComponent,a.data),this.setState({currentDataItem:a.data}))},changeTempState:function(a){a.data&&this.getEditorAPI().components.data.update(this.props.selectedComponent,a.data)},maintainOriginalState:function(){this.state.currentDataItem&&this.getEditorAPI().components.data.update(this.props.selectedComponent,this.state.currentDataItem)},isSelectedItem:function(a){return a.data===this.state.currentDataItem}})}),define("designPanel/panelTypes/changeGalleryDesignPanel.rt",["react/addons","lodash","designPanel/core/designPanel","baseUI","util","advancedStylePanel","compPanels"],function(a,b,c,d,e,f,g){"use strict";function h(){var e=this.getAdvancedStyleClass();return a.createElement(c,b.assign({},{ref:"designPanel"},this.getPropsForDesignPanel()),!this.state.advancedStyling&&e?a.createElement("div",{className:"button-wrapper",key:"customizeDesignBtn"},a.createElement(d.button,{className:"button",ref:"customizeDesign",label:"design_customize_button",onClick:this.openCustomizeDesign,icon:"customizeDesignButtonBrush"})):null,this.state.advancedStyling&&e?a.createElement("div",{key:"advancedStylePanel"},a.createElement(e,this.getAdvancedStylingProps())):null)}return function(){return h.apply(this,[])}}),define("designPanel/panelTypes/changeGalleryDesignPanel",["react","lodash","jquery","core","designPanelUtils","advancedStylePanel","designPanel/core/designPanelMixin","designPanel/panelTypes/changeGalleryDesignPanel.rt","experiment"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(a,c,d,f,g,h,i){var j={componentType:d.componentType,type:"Component",style:h,layout:i,data:f,props:g};return b.assign(j,{layout:e.changeGalleryHelper.convertGalleryLayouts(a,c,j)})}function k(a,b,c,d,f,g,h,k){var l=e.changeGalleryHelper.convertGalleryProperties(c,b.props,h),m=j(h,a,b,d,l,f,g),n=h.components.getContainer(a),o=h.ui.scroll.getScroll();h.components.remove(a,void 0,{isReplacingComp:!0});var p;i.isOpen("ds_OperationsQAllAsync")?(p=h.components.add(n,m,a.id),h.waitForChangesApplied(function(){h.ui.scroll.setScroll(o),k&&k()})):h.waitForChangesApplied(function(){p=h.components.add(n,m),h.selection.selectComponentByCompRef(p),h.waitForChangesApplied(function(){h.ui.scroll.setScroll(o),k&&k(p)})})}return a.createClass({displayName:"changeGalleryDesignPanel",mixins:[g,d.mixins.editorAPIMixin],render:h,getDefaultProps:function(){return{backButtonLabel:"design_panel_back_button_label"}},getStateFromProps:function(a){var c=this.getEditorAPI(),d=b.omit(c.components.layout.get(a.selectedComponent),"anchors");return{propertyItemToMaintain:c.components.properties.get(a.selectedComponent),dataItemToMaintain:c.components.data.get(a.selectedComponent),layoutToMaintain:d,currentStyleId:c.components.style.getId(a.selectedComponent)}},changePermanentState:function(a){if(!this.pendingGalleryChange){var b=this.getEditorAPI(),d=e.changeStyleHelper.getCompDefStyleId(a,b);this.pendingGalleryChange=!0,k(this.props.selectedComponent,a,this.state.propertyItemToMaintain,this.state.dataItemToMaintain,d,this.state.layoutToMaintain,b,function(a){this.pendingGalleryChange=!1,this.newGalleryRef=a;var b={currentStyleId:d,currentAdvancedStyleId:"",isStyleChanged:!0};if(i.isOpen("animateChangeStyleButton")){var e=c(this.refs.customizeDesign.getDOMNode());e.removeClass("animate-button"),this.setState(b,function(){e.addClass("animate-button")})}else this.setState(b)}.bind(this))}},changeTempState:function(){},maintainOriginalState:function(){},isSelectedItem:function(a){var b=this.getEditorAPI(),c=a.compType||a.componentType;return c===this.props.compType?e.changeStyleHelper.isCompDefStyleEqualToStyle(a,this.state.currentStyleId,this.props.compType,b):!1},getAdvancedStyleClass:function(){return e.customizeDesignComponents.isGalleryCustomizable(this.props.compType)?e.customizeDesignComponents.isTPAGalleryAdvancedStyle(this.props.compType)?f.tpaGallery:f.panel:null},dontResetState:function(a){return i.isOpen("ds_OperationsQAllAsync")||this.newGalleryRef&&b.isEqual(this.newGalleryRef,a.selectedComponent)}})}),define("designPanel/wixapps/wixappsDesignSubComponentsPanel.rt",["react/addons","lodash","baseUI","core","compPanels","util"],function(a,b,c,d,e,f){"use strict";function g(a,b,c){this.updateCompValue(a.customization,String(c))}function h(b,d){return a.createElement("div",{},b.customization||b.styleCustomizationRules.length?a.createElement("div",{key:b.label},a.createElement(c.checkboxWithButton,{label:b.label,shouldTranslate:!0,className:"design-customization-checkbox",buttonLabel:"blog_design_panel_customize_design",value:b.customization?this.isChecked(b.customization):!0,onChange:g.bind(this,b,d),onButtonClick:this.openCustomizeDesign.bind(this,b),isCheckboxDisabled:!b.customization,isButtonDisabled:!b.styleCustomizationRules.length}),d!==this.getComps().length-1?a.createElement("hr",{key:"divider-long",className:"divider-long"}):null):null)}return function(){return a.createElement.apply(this,[e.compPanelFrame,b.assign({},{title:this.getSelectedAppPartDisplayName()+"_design",helpId:this.getComponentHelpIdByType("design")},this.getFrameProps()),b.map(this.getComps(),h.bind(this))])}}),define("designPanel/wixapps/wixappsFontCustomizationPanel.rt",["react/addons","lodash","baseUI","textControls","compPanels","helpIds"],function(a,b,c,d,e,f){"use strict";function g(a,c){var d=b.assign({},a,c);return a.hasOwnProperty("style")&&(d.style=b.defaults(d.style,a.style)),a.hasOwnProperty("className")&&c.hasOwnProperty("className")&&(d.className=c.className+" "+a.className),d}function h(a,b){this.setFontFamily(b)}function i(){var b=this.getEditorAPI();return a.createElement(d.fontFamily,{fonts:d.fontUtils.getCurrentSelectableFontsWithParams(b),infoText:"text_editor_font_tooltip",label:"text_editor_font_label",onChange:h.bind(this,b),value:this.getFontFamily()})}function j(a){this.setFontSize(a)}function k(a,b){this.setBold(!b)}function l(b){var c=this.isBold();return a.createElement(d.iconButton,{isSelected:c,name:"textBold",tooltipValue:"text_editor_buttons_tooltip_bold",tooltipStyleType:b,onClick:k.bind(this,b,c)})}function m(a,b){this.setItalic(!b)}function n(b){var c=this.isItalic();return a.createElement(d.iconButton,{isSelected:c,name:"textItalic",tooltipValue:"text_editor_buttons_tooltip_italic",tooltipStyleType:b,onClick:m.bind(this,b,c)})}function o(a,b){this.setUnderlined(!b)}function p(b){var c=this.isUnderlined();return a.createElement(d.iconButton,{isSelected:c,name:"textUnderline",tooltipValue:"text_editor_buttons_tooltip_underline",tooltipStyleType:b,onClick:o.bind(this,b,c)})}function q(a,b){this.openTextColorPicker(this.setColor,b)}function r(b){var c=this.resolveColor(this.getColor());return a.createElement(d.textColor,{onClick:q.bind(this,b,c),tooltipValue:"text_editor_buttons_tooltip_text_color",tooltipStyleType:b,value:c})}function s(a,b){this.openTextColorPicker(this.setBackgroundColor,"noColor")}function t(b){var c=this.resolveColor(this.getBackgroundColor());return a.createElement(d.textBackgroundColor,{onClick:s.bind(this,b,c),tooltipValue:"text_editor_buttons_tooltip_text_highlight",tooltipStyleType:b,handleNoColor:this.handleNoColor,color:"transparent"!==c?c:null})}function u(){var b=c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL;return a.createElement("div",{className:"button-row"},l.apply(this,[b]),n.apply(this,[b]),p.apply(this,[b]),r.apply(this,[b]),t.apply(this,[b]))}return function(){return a.createElement(e.compPanelFrame,g({className:"settings-panel",panelName:"wixappsFontCustomizationPanel",title:this.props.title,helpId:f.SETTINGS.WRICHTEXT},this.filteredProps()),this.props.customizeTheme?a.createElement(d.textStyle,{key:"textStyleCustomization",label:"text_editor_theme_label",infoText:"text_editor_tooltip_theme",value:this.getTheme(),onChange:this.setTheme,themeColors:this.getEditorAPI().theme.colors.getAll(),themeFonts:this.getEditorAPI().theme.fonts.getAll()}):null,this.props.customizeTheme?a.createElement("hr",{className:"divider-long",key:"textStyleCustomizationSeparator"}):null,i.apply(this,[]),a.createElement("hr",{className:"divider-long"}),this.props.customizeTheme?a.createElement(c.slider,{key:"fontSizeCustomization",label:"text_editor_font_size_label",infoText:"text_editor_font_size_tooltip",value:this.getFontSize(),onChange:j.bind(this),min:d.constants.FONT_SIZE.MIN,max:d.constants.FONT_SIZE.MAX}):null,this.props.customizeTheme?a.createElement("hr",{className:"divider-long",key:"fontSizeCustomizationSeparator"}):null,u.apply(this,[]))}}),define("designPanel/wixapps/wixappsFontCustomizationPanel",["lodash","react","core","compPanels","util","panelUtils","textControls","designPanel/wixapps/wixappsFontCustomizationPanel.rt"],function(a,b,c,d,e,f,g,h){"use strict";return b.createClass({displayName:"wixappsFontCustomizationPanel",mixins:[c.editorAPIMixin,d.compPanelMixin,e.propTypesFilterMixin,d.wixappsPanelMixin,f.linkColorPickerMixin],propTypes:{fieldIds:b.PropTypes.arrayOf(b.PropTypes.string).isRequired,forType:b.PropTypes.string.isRequired,format:b.PropTypes.string.isRequired,view:b.PropTypes.string.isRequired,customizeTheme:b.PropTypes.bool},_getAppPartCustomizationRulesForCompParam:function(a){return this.props.fieldIds.map(function(b){return{fieldId:b,forType:this.props.forType,format:this.props.format,key:"comp."+a,type:"AppPartCustomization",view:this.props.view}},this)},_getValueFromCustomizationsOrDefaultValues:function(a){for(var b=this._getAppPartCustomizationRulesForCompParam(a);b.length;){var c=b.shift(),d=this.linkedCustomization(c);if(d.value)return d.value}},_getValueFromCurrentStyle:function(a){var b=this.getEditorAPI(),c=this.getTheme(),d=g.fontUtils.parseStyleFont(c,b.theme.fonts.getAll(),b.theme.colors.getAll());return d[{fontFamily:"family",fontSize:"size",bold:"bold",italic:"italic",color:"cssColor",backgroundColor:"color"}[a]]},_getValue:function(a){var b=this._getValueFromCustomizationsOrDefaultValues(a);return void 0===b&&(b=this._getValueFromCurrentStyle(a)),b},_setValue:function(a,b){var c=this._getAppPartCustomizationRulesForCompParam(a);c.forEach(function(a){this.linkedCustomization(a).requestChange(b)},this)},getFontFamily:function(){return this._getValue("fontFamily")},setFontFamily:function(a){this._setValue("fontFamily",a)},getFontSize:function(){return this._getValue("fontSize")},setFontSize:function(a){this._setValue("fontSize",a)},_getBooleanCustomizationValue:function(a){return e.stringUtils.isTrue(this._getValue(a))},_setBooleanCustomizationValue:function(a,b){this._setValue(a,b?"true":"false")},isBold:function(){return this._getBooleanCustomizationValue("bold")},setBold:function(a){this._setBooleanCustomizationValue("bold",a)},isItalic:function(){return this._getBooleanCustomizationValue("italic")},setItalic:function(a){this._setBooleanCustomizationValue("italic",a)},isUnderlined:function(){return this._getBooleanCustomizationValue("underline")},setUnderlined:function(a){this._setBooleanCustomizationValue("underline",a)},openTextColorPicker:function(a,b){var c=!0,d={top:this.props.style.top,left:this.props.style.left};this.openColorPicker(a,b,c,d)},getColorValue:function(a){return this._getValue(a)||"noColor"},setAppPartCustomizationValueForColorCompParam:function(a,b){this._setValue(a,b&&"noColor"!==b?b:null)},getColor:function(){return this.getColorValue("color")},setColor:function(a){this.setAppPartCustomizationValueForColorCompParam("color",a)},getBackgroundColor:function(){return this.getColorValue("backgroundColor")},setBackgroundColor:function(a){var b=/^color_/.test(a)?"back"+a:a;this.setAppPartCustomizationValueForColorCompParam("backgroundColor",b)},handleNoColor:function(){this.setAppPartCustomizationValueForColorCompParam("backgroundColor","transparent")},getStyle:function(){return this._getValueFromCustomizationsOrDefaultValues("style")},setStyle:function(a){this.setFontFamily(null),this.setFontSize(null),this.setBold(null),this.setItalic(null),this.setUnderlined(null),this.setColor(null),this.setBackgroundColor(null),this._setValue("style",a)},getTheme:function(){var a=this.getStyle();return this.getEditorAPI().wixapps.classics.styleMapping.styleToFontClass(a)||"font_8"},setTheme:function(a){var b=this.getEditorAPI().wixapps.classics.styleMapping.fontClassToStyle(a);this.setStyle(b)},render:h})}),define("designPanel/wixapps/wixappsDesignCustomizationPanel.rt",["react/addons","lodash","designPanel/panelTypes/changeStyleDesignPanel","designPanel/wixapps/wixappsFontCustomizationPanel"],function(a,b,c,d){"use strict";return function(){return a.createElement("div",{},"wysiwyg.viewer.components.WRichText"!==this.props.compType?a.createElement(c,b.assign({},{key:"changeStyleDesign",getTitle:this.getPanelTitle,compType:this.props.compType,currentStyleId:this.getStyleId(),selectedComponent:this.getCompRef(),setStyleFunc:this.setStyleId},this.getPanelProps())):null,"wysiwyg.viewer.components.WRichText"===this.props.compType?a.createElement(d,b.assign({},{fieldIds:this.getFieldIds(),forType:this.getForType(),format:this.getFormat(),key:"wixappsFontCustomization",selectedComponent:this.props.selectedComponent,title:this.getPanelTitle(),view:this.getView(),customizeTheme:this.props.customizeTheme},this.getPanelProps())):null)}}),define("designPanel/wixapps/wixappsDesignCustomizationPanel",["react","lodash","util","compPanels","designPanel/wixapps/wixappsDesignCustomizationPanel.rt"],function(a,b,c,d,e){"use strict";return a.createClass({displayName:"wixappsDesignCustomizationPanel",mixins:[d.compPanelMixin,c.propTypesFilterMixin,d.wixappsPanelMixin],propTypes:{styleCustomizationRules:a.PropTypes.array.isRequired,compType:a.PropTypes.string.isRequired,panelTitle:a.PropTypes.string.isRequired,panelStyle:a.PropTypes.object.isRequired,customizeTheme:a.PropTypes.bool},getPanelTitle:function(){return this.props.panelTitle},getStyleId:function(){var a=this._getStyleCustomizationRule();return this.linkedCustomization(a).value},getCompRef:function(){return this.getEditorAPI().selection.getSelectedComponents()},setStyleId:function(a){this.props.styleCustomizationRules.forEach(function(b){this.setCustomizationValue(b,a,!0)},this)},customizeDesignCallBack:function(){},getFieldIds:function(){return this.props.styleCustomizationRules.map(function(a){return a.fieldId})},getFormat:function(){var a=this._getStyleCustomizationRule();return a.format},getView:function(){var a=this._getStyleCustomizationRule();return a.view},_getStyleCustomizationRule:function(){return b.first(this.props.styleCustomizationRules)},getForType:function(){var a=this._getStyleCustomizationRule();return a.forType},getPanelProps:function(){return b.assign(this.filteredProps(),{style:this.props.panelStyle})},render:e})}),define("designPanel/wixapps/wixappsDesignSubComponentsPanel",["lodash","react","core","compPanels","designPanel/wixapps/wixappsDesignSubComponentsPanel.rt","designPanel/wixapps/wixappsDesignCustomizationPanel","experiment"],function(a,b,c,d,e,f,g){"use strict";return b.createClass({displayName:"wixappsDesignSubComponentsPanel",mixins:[d.compPanelMixin,d.wixappsPanelMixin],getStyleCustomizationRules:function(b){var c=this.getAvailableCustomizations("design"),d=this._getFormat();return a.filter(c,function(c){var e=a.isUndefined(c.format)||c.format===d||"*"===c.format,f=b.rules?a.some(b.rules,{fieldId:c.fieldId}):c.fieldId===(b.compId||b.id),g="comp.style"===c.key;return e&&f&&g})},getCompVisibilityCustomization:function(b){var c=a.find(this.getAvailableCustomizations("design"),function(c){return c.relatedComp===b.id&&a.includes(["comp.hidden","showItemsCount","showPostCount"],c.key)});return c&&(c.value=this.linkedCustomization(c).value),c},getComps:function(){var a=this;return this.getInnerComps().filter(function(b){var c;return g.isOpen("se_blogHiddenWhen")&&(c=a.evaluateHiddenWhenCondition(b.hiddenWhen)),!c}).map(function(a){return{label:a.label,id:a.id,type:a.type,customization:this.getCompVisibilityCustomization(a),styleCustomizationRules:this.getStyleCustomizationRules(a)}},this)},isChecked:function(a){return a.value===a.input.trueVal},openCustomizeDesign:function(a){this.props.switchPanelFunc(f,{styleCustomizationRules:a.styleCustomizationRules,compType:this.getEditorAPI().wixapps.classics.getComponentTypeByProxyName(a.type),panelTitle:a.label,panelStyle:this.props.style,customizeTheme:"LabelWithoutTheme"!==a.type})},updateCompValue:function(a,b){a.value=String(b===a.input.trueVal);var c=this.linkedCustomization(a);c.requestChange(a.value)},render:e})}),define("designPanel/wixapps/wixappsDesignPanel",["react","lodash","core","compPanels","designPanel/wixapps/wixappsDesignSubComponentsPanel"],function(a,b,c,d,e){"use strict";return a.createClass({displayName:"WixappsDesignPanel",mixins:[c.mixins.editorAPIMixin,d.panelSwitcherMixin],getDefaultProps:function(){return{backButtonLabel:"list_design_panel_back_button_label"}},getInitialPanelClass:function(){return e}})}),define("designPanel/list/listDesignPresetPanel.rt",["react/addons","lodash","baseUI","designPanel/core/designPanel"],function(a,b,c,d){"use strict";return function(){return a.createElement(d,b.assign({},{title:"list_design_panel_header_label",panelName:"listDesignPresetPanel",compType:"wixapps.integration.components.AppPart2",helpId:this.props.helpId},this.getDesignPanelProps()),a.createElement("div",{className:"button-wrapper"},a.createElement(c.button,{className:"button",label:"list_design_panel_customize_design_button_label",onClick:this.openCustomizeFieldsPanel})))}}),define("designPanel/list/listDesignPanelMixin",["lodash","react","core","util"],function(a,b,c,d){"use strict";return{mixins:[c.mixins.editorAPIMixin],propTypes:{listId:b.PropTypes.string,selectedComponent:b.PropTypes.array.isRequired,switchPanelFunc:b.PropTypes.func.isRequired},switchPanel:function(a,b){this.props.switchPanelFunc(a,b)},getFormat:function(){return this.getEditorAPI().isMobileEditor()?"Mobile":void 0},getListId:function(){return this.props.listId||this.getEditorAPI().components.data.get(this.props.selectedComponent).appPartName},getCompId:function(){return a.first(this.props.selectedComponent).id},getFieldPropValue:function(a,b){var c=this.getEditorAPI().wixapps.appbuilder.layout.getField(this.getListId(),a,this.getFormat());return b?c[b]:c},updateFieldPropValue:function(a,b,c){var d={name:a};d[b]=c,this.getEditorAPI().wixapps.appbuilder.layout.setField(this.props.selectedComponent,this.getListId(),d,this.getFormat())},updateFieldPropValueInAllDevices:function(a,b,c){var d={name:a};d[b]=c,this.getEditorAPI().wixapps.appbuilder.layout.setField(this.props.selectedComponent,this.getListId(),d),this.getEditorAPI().wixapps.appbuilder.layout.setField(this.props.selectedComponent,this.getListId(),d,"Mobile")},addHistorySnapshot:function(a,b,c){this.getEditorAPI().history.add("List design update: listId ["+this.props.listId+"] fieldName ["+a+"] prop ["+b+"] newValue ["+c+"]")},getTitleForFieldPanel:function(b){return a.compact([d.translate("list_design_header_prefix"),b,d.translate("list_design_header_suffix")]).join(" ")}}}),define("designPanel/list/listCustomizeFieldsPanel.rt",["react/addons","lodash","baseUI","compPanels","util","core","experiment!appBuilderFeaturesRevival"],function(a,b,c,d,e,f,g){"use strict";function h(a,c){var d=b.assign({},a,c);return a.hasOwnProperty("style")&&(d.style=b.defaults(d.style,a.style)),a.hasOwnProperty("className")&&c.hasOwnProperty("className")&&(d.className=c.className+" "+a.className),d}function i(a,b,c){this.toggleFieldVisibility(a,c)}function j(a,b,c){this.toggleFieldVisibility(a,c);
}function k(b,d){return a.createElement("div",{key:b.name},this.canCustomizeField(b)?a.createElement(c.checkboxWithButton,{key:b.name,className:"field-checkbox-component",shouldTranslate:!1,value:!b.hidden,onChange:i.bind(this,b,d),label:b.displayName,buttonLabel:e.translate("list_design_panel_customize_field_call_to_action_label"),onButtonClick:this.openStylePanel.bind(this,b)}):null,this.canCustomizeField(b)?null:a.createElement(c.toggle,{name:"checkbox",labelAfterSymbol:!0,key:b.name,className:"field-checkbox-component",shouldTranslate:!1,value:!b.hidden,onChange:j.bind(this,b,d),label:b.displayName}),a.createElement("hr",{className:"divider-long"}))}function l(a,b){this.setListLayout("hideSeparator",!b)}function m(a){this.openSeparatorDesignPanel(a)}function n(){var b=g&&this.getListLayout();return a.createElement(c.checkboxWithButton,{key:"appBuilderFeaturesRevival",className:"field-checkbox-component",value:!b.hideSeparator,onChange:l.bind(this,b),label:"list_design_panel_separator_label",buttonLabel:"list_design_panel_customize_field_call_to_action_label",onButtonClick:m.bind(this,b)})}return function(){return a.createElement.apply(this,[d.compPanelFrame,h({className:"list-customize-fields",title:"list_design_panel_header_label",panelName:this.panelName},this.filteredProps()),this.shouldShowFirstTime()?a.createElement(c.firstTimeInfoBox,{key:"firstTimeInfoBox",biLearnMore:this.getEditorAPI().bi.event.bind(null,f.bi.events.commonControls.FIRST_TIME_INFO_BOX.LEARN_MORE),biClose:this.getEditorAPI().bi.event.bind(null,f.bi.events.commonControls.FIRST_TIME_INFO_BOX.CLOSE),context:"settings",id:"List_Customization_Teaser",text:"list_customization_panel_teaser_txt",linkText:!0,learnMore:this.openLearnMore,userPrefs:this.getEditorAPI().getUserPreferences()}):null,a.createElement("hr",{className:"divider-long"}),b.map(this.getFields(),k.bind(this)),g?n.apply(this,[]):null])}}),define("designPanel/list/fieldStyleDesignPanel.rt",["react/addons","lodash","baseUI","designPanel/panelTypes/changeStyleDesignPanel"],function(a,b,c,d){"use strict";return function(){return a.createElement(d,b.assign({},{title:this.getTitleForFieldPanel(this.state.fieldData.displayName),selectedComponent:[{id:this.props.fieldName}],compType:this.state.fieldData.componentType,currentStyleId:this.state.fieldData.style,shouldTranslate:!1,setStyleFunc:this.setFieldStyle.bind(this,this.state.fieldData),shouldMaintainOriginalLayout:!1},b.omit(this.filteredProps(),["shouldMaintainOriginalLayout","currentStyleId","getTitle","compRef","compType","setStyleFunc"])))}}),define("designPanel/list/fieldStyleDesignPanel",["react","lodash","util","designPanel/list/fieldStyleDesignPanel.rt","designPanel/list/listDesignPanelMixin","core"],function(a,b,c,d,e,f){"use strict";function g(a,b){this.getEditorAPI().bi.event(f.bi.events.lists.LIST_DESIGN_FIELD_STYLE_CHANGED,{list_part_id:this.getListId(),component_id:this.getCompId(),field_id:a.name,field_display_name:a.displayName,field_type:a.type,new_style_id:b})}return a.createClass({displayName:"fieldStyleDesignPanel",mixins:[e,c.propTypesFilterMixin],propTypes:{fieldName:a.PropTypes.string.isRequired},getInitialState:function(){var a=this.getFieldPropValue(this.props.fieldName);return{fieldData:a,lastPermanentStyle:a.style}},componentWillReceiveProps:function(){this.setState({fieldData:this.getFieldPropValue(this.props.fieldName)})},setFieldStyle:function(a,b,c){b!==this.state.fieldData.style&&(this.updateFieldPropValueInAllDevices(a.name,"style",b),c||b===this.state.lastPermanentStyle||(this.setState({lastPermanentStyle:b}),g.call(this,a,b)))},render:d})}),define("designPanel/list/listTextFieldDesignPanel.rt",["react/addons","lodash","baseUI","textControls","compPanels"],function(a,b,c,d,e){"use strict";function f(a,c){var d=b.assign({},a,c);return a.hasOwnProperty("style")&&(d.style=b.defaults(d.style,a.style)),a.hasOwnProperty("className")&&c.hasOwnProperty("className")&&(d.className=c.className+" "+a.className),d}function g(a){this.updateFieldProp("fontClass",a)}function h(a){this.updateFieldProp("fontFamily",a)}function i(a){this.updateFieldProp("fontSize",a)}function j(a){this.updateFieldProp("bold",!this.state.fieldData.bold)}function k(a){this.updateFieldProp("italic",!this.state.fieldData.italic)}function l(a){this.updateFieldProp("underline",!this.state.fieldData.underline)}function m(a){this.onClickColor(this.state.fieldData.color)}function n(a,b){this.onClickBackgroundColor(a)}function o(){var b=this.getBackgroundColorForPicker();return a.createElement(d.textBackgroundColor,{color:this.getColorValue(b),onClick:n.bind(this,b),handleNoColor:this.handleNoBackgroundColor,tooltipValue:"text_editor_buttons_tooltip_text_highlight",tooltipStyleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL})}function p(a){this.updateLayoutProp("text-align",a)}return function(){return a.createElement(e.compPanelFrame,f({panelName:"listTextFieldDesignPanel",title:this.getTitleForFieldPanel(this.state.fieldData.displayName),shouldTranslate:!1,className:"settings-panel"},this.filteredProps()),this.props.children?a.createElement("div",{key:"panel-children"},a.createElement("hr",{className:"divider-long"}),"\n        ",this.props.children,"\n    "):null,a.createElement("hr",{className:"divider-long"}),a.createElement(d.textStyle,{label:"text_editor_theme_label",value:this.state.fieldData.fontClass,infoText:"text_editor_tooltip_theme",nullLabel:this.translateIfNeeded("list_design_panel_Customize_TextField_CustomTheme_DropdownItem_Label"),onChange:g.bind(this),themeColors:this.getEditorAPI().theme.colors.getAll(),themeFonts:this.getEditorAPI().theme.fonts.getAll()}),a.createElement("hr",{className:"divider-long"}),a.createElement(d.fontFamily,{label:"text_editor_font_label",value:this.getFontFamilyValue(this.state.fieldData.fontFamily),infoText:"text_editor_font_tooltip",onChange:h.bind(this),fonts:d.fontUtils.getCurrentSelectableFontsWithParams(this.getEditorAPI())}),a.createElement("hr",{className:"divider-long"}),a.createElement(c.slider,{label:"text_editor_font_size_label",value:parseInt(this.state.fieldData.fontSize,10),units:"px",infoText:"text_editor_font_size_tooltip",onChange:i.bind(this),min:d.constants.FONT_SIZE.MIN,max:d.constants.FONT_SIZE.MAX}),a.createElement("hr",{className:"divider-long"}),a.createElement("div",{className:"button-row"},a.createElement(d.iconButton,{name:"textBold",isSelected:this.state.fieldData.bold,onClick:j.bind(this),tooltipValue:"text_editor_buttons_tooltip_bold",tooltipStyleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL}),a.createElement(d.iconButton,{name:"textItalic",isSelected:this.state.fieldData.italic,onClick:k.bind(this),tooltipValue:"text_editor_buttons_tooltip_italic",tooltipStyleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL}),a.createElement(d.iconButton,{name:"textUnderline",isSelected:this.state.fieldData.underline,onClick:l.bind(this),tooltipValue:"text_editor_buttons_tooltip_underline",tooltipStyleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL}),a.createElement(d.textColor,{value:this.getColorValue(this.state.fieldData.color),onClick:m.bind(this),tooltipValue:"text_editor_buttons_tooltip_text_color",tooltipStyleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL}),o.apply(this,[]),a.createElement(d.iconsDropDown,{value:this.state.fieldData.layout["text-align"],onChange:p.bind(this),items:this.textAlignOptions(),tooltipValue:"text_editor_buttons_tooltip_alignment",tooltipStyleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL})))}}),define("designPanel/list/listTextFieldDesignPanel",["react","lodash","core","util","designPanel/list/listTextFieldDesignPanel.rt","designPanel/list/listDesignPanelMixin","textControls"],function(a,b,c,d,e,f,g){"use strict";function h(a){return a&&a.replace(/^backcolor/,"color")}function i(a){return a&&a.replace(/^color/,"backcolor")}function j(a,b){this.getEditorAPI().panelManager.openPanel("panels.toolPanels.colorPicker.colorPickerPanel",{siteCustomColors:this.getEditorAPI().theme.colors.getCustomUsedInSkins(),sessionStorage:this.getEditorAPI().userPreferences.session,displayNoColor:!0,previewOnHover:!1,top:parseInt(this.props.style.top,10)+72+"px",left:parseInt(this.props.style.left,10)-12+"px",value:a,onChange:b},!0)}function k(a){this.updateFieldProp("color",a)}function l(a){a=i(a),this.updateFieldProp("backgroundColor",a)}return a.createClass({displayName:"listTextFieldDesignPanel",mixins:[f,d.propTypesFilterMixin,d.translationMixin],propTypes:{fieldName:a.PropTypes.string.isRequired},getInitialState:function(){return{fieldData:this.getFieldPropValue(this.props.fieldName)}},componentWillReceiveProps:function(){this.setState({fieldData:this.getFieldPropValue(this.props.fieldName)})},getFontFamilyValue:function(a){return a&&g.fontUtils.getFont(a).fontFamily},updateFieldProp:function(a,b){this.updateFieldPropValueInAllDevices(this.props.fieldName,a,b),this.addHistorySnapshot(this.props.fieldName,a,b)},textAlignOptions:function(){return{textAlignCenter:"center",textAlignLeft:"left",textAlignRight:"right",textAlignBlock:"justify"}},getBackgroundColorForPicker:function(){return h(this.state.fieldData.backgroundColor)},updateLayoutProp:function(a,c){var d=b.clone(this.state.fieldData.layout);d[a]=c,this.updateFieldProp("layout",d)},onClickColor:function(a){j.call(this,a,k.bind(this))},onClickBackgroundColor:function(a){j.call(this,a,l.bind(this))},handleNoBackgroundColor:function(){return this.updateFieldProp("backgroundColor",null)},getColorValue:function(a){return a&&0===a.indexOf("backColor")&&(a=h(a)),a&&0===a.indexOf("color")&&(a=this.getEditorAPI().theme.colors.getAll()[a]||a),a},render:e})}),define("designPanel/list/listDateFieldDesignPanel.rt",["react/addons","lodash","designPanel/list/listTextFieldDesignPanel","baseUI"],function(a,b,c,d){"use strict";function e(b,c){return a.createElement(d.dropDown.option,{value:b.value},"\n            ",this.translateIfNeeded(b.label),"\n        ")}return function(){return a.createElement(c,this.props,a.createElement.apply(this,[d.dropDown.select,{label:"list_design_panel_date_format",value:this.getFormatValue(),onChange:this.updateFormatValue},b.map(this.getAllDateFormats(),e.bind(this))]))}}),define("designPanel/list/listDateFieldDesignPanel",["react","util","designPanel/list/listDateFieldDesignPanel.rt","designPanel/list/listDesignPanelMixin"],function(a,b,c,d){"use strict";return a.createClass({displayName:"listDateFieldDesignPanel",mixins:[d,b.translationMixin],propTypes:{fieldName:a.PropTypes.string.isRequired},getFormatValue:function(){return this.getFieldPropValue(this.props.fieldName,"format")},updateFormatValue:function(a){this.updateFieldPropValueInAllDevices(this.props.fieldName,"format",a),this.addHistorySnapshot(this.props.fieldName,"format",a)},getAllDateFormats:function(){return[{label:"LIST_date_format_D/MM/YYYY",value:"m/d/yyyy"},{label:"list_date_format_DD/MM/YYYY",value:"mm/dd/yyyy"},{label:"list__date_format_DD.MM.YYYY",value:"mm.dd.yyyy"},{label:"list__date_format_D.MM.YYYY",value:"m.d.yyyy"},{label:"list__date_format_DD_MMM_YYYY",value:"dd mmm yyyy"},{label:"list__date_format_DD-MM-YYYY",value:"dd-mm-yyyy"},{label:"list__date_format_MMMM_DD_YYYY",value:"mmmm dd, yyyy"},{label:"list__date_format_DD/MM/YYYY",value:"dd/mm/yyyy"},{label:"list__date_format_DD/M/YYYY",value:"d/m/yyyy"},{label:"list__date_format_DD.M.YYYY",value:"d.m.yyyy"}]},render:c})}),define("designPanel/list/listCustomizeFieldsPanel",["react","lodash","util","designPanel/list/listCustomizeFieldsPanel.rt","designPanel/panelTypes/changeStyleDesignPanel","designPanel/list/listDesignPanelMixin","designPanel/list/fieldStyleDesignPanel","designPanel/list/listTextFieldDesignPanel","designPanel/list/listDateFieldDesignPanel","experiment!appBuilderFeaturesRevival","core"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";function m(a){var b=[a.type,a.componentType].join("|").toLowerCase();return l[b]||g}function n(a){this.getEditorAPI().bi.event(k.bi.events.lists.LIST_DESIGN_FIELD_CUSTOMIZE_CLICKED,{list_part_id:this.getListId(),component_id:this.getCompId(),field_id:a.name,field_display_name:a.displayName,field_type:a.type})}function o(a,b){this.getEditorAPI().bi.event(k.bi.events.lists.LIST_DESIGN_FIELD_VISIBILITY_CHANGED,{list_part_id:this.getListId(),component_id:this.getCompId(),field_id:a.name,field_display_name:a.displayName,field_type:a.type,check_box_status:b?"on":"off"})}var l={"string|wysiwyg.viewer.components.wrichtext":h,"wix:date|wysiwyg.viewer.components.wrichtext":i},p={displayName:"listCustomizeFieldsPanel",mixins:[f,c.propTypesFilterMixin],panelName:"listCustomizeFieldsPanel",getFields:function(){return this.getEditorAPI().wixapps.appbuilder.layout.getAllFields(this.getListId(),this.getFormat())},shouldShowFirstTime:function(){return j&&"1.0"===this.getEditorAPI().wixapps.appbuilder.data.lists.getListVersion(this.getListId())},canCustomizeField:function(a){return!this.getEditorAPI().isMobileEditor()&&"wix:RichText"!==a.type},openStylePanel:function(a){n.call(this,a),this.switchPanel(m(a),{listId:this.getListId(),fieldName:a.name})},toggleFieldVisibility:function(a,b){this.updateFieldPropValue(a.name,"hidden",!b),this.addHistorySnapshot(a.name,"hidden",!b),o.call(this,a,b)},render:d};return j&&b.assign(p,{getListLayout:function(){return this.getEditorAPI().wixapps.appbuilder.layout.getListLayout(this.getListId(),this.getFormat())},setListLayout:function(a,b){var c={};return c[a]=b,this.getEditorAPI().wixapps.appbuilder.layout.setListLayout(this.getListId(),c,this.getFormat())},openLearnMore:function(){var a="54a00e80-0fe5-4b3d-af7e-ec5f38d727f2",b={panel_name:this.panelName,origin:k.constants.BI.HELP.ORIGIN.PANEL,component:this.getEditorAPI().selection.getSelectedComponentType(),learn_more:!0};this.getEditorAPI().panelManager.openHelpCenter(a,null,null,b)},openSeparatorDesignPanel:function(a){this.switchPanel(e,b.assign(this.filteredProps(),{title:this.getTitleForFieldPanel(c.translate("list_design_panel_separator_label")),selectedComponent:[{id:"listSeparator"}],compType:a.separatorComponentType,currentStyleId:a.separatorStyle,setStyleFunc:this.setListLayout.bind(this,"separatorStyle"),shouldTranslate:!1,shouldMaintainOriginalLayout:!1}))}}),a.createClass(p)}),define("designPanel/list/listDesignPresetPanel",["react","lodash","designPanel/list/listDesignPresetPanel.rt","designPanel/list/listDesignPanelMixin","designPanel/list/listCustomizeFieldsPanel","core"],function(a,b,c,d,e,f){"use strict";function g(a){var b=a.custom.template;this.getEditorAPI().wixapps.appbuilder.layout.setItemTemplate(this.getListId(),b),this.getEditorAPI().components.layout.update(this.props.selectedComponent,{width:a.layout.width},!0)}function h(a){this.getEditorAPI().bi.event(f.bi.events.lists.LIST_DESIGN_PRESET_CHANGED,{list_part_id:this.getListId(),component_id:this.getCompId(),preset_id:a})}return a.createClass({displayName:"listDesignPresetPanel",mixins:[d],propTypes:{selectedComponent:a.PropTypes.array.isRequired},changePermanentState:function(a,b){g.call(this,a),h.call(this,b)},openCustomizeFieldsPanel:function(){this.switchPanel(e,{listId:this.getListId()})},getDesignPanelProps:function(){return b.assign({},this.props,{changePermanentState:this.changePermanentState,changeTempState:b.noop,maintainOriginalState:b.noop})},render:c})}),define("designPanel/list/listDesignPanel",["react","lodash","core","compPanels","designPanel/list/listDesignPresetPanel","designPanel/list/listCustomizeFieldsPanel"],function(a,b,c,d,e,f){"use strict";function g(a){return b.first(a).id}function h(a){this.getEditorAPI().bi.event(c.bi.events.lists.LIST_DESIGN_BACK_CLICKED,{list_part_id:j.call(this),component_id:g(this.props.selectedComponent),back_to_panel_name:a.displayName})}function i(){this.getEditorAPI().bi.event(c.bi.events.lists.LIST_DESIGN_PANEL_OPENED,{list_part_id:j.call(this),component_id:g(this.props.selectedComponent)})}function j(){return this.getEditorAPI().components.data.get(this.props.selectedComponent).appPartName}function k(){return this.getEditorAPI().wixapps.appbuilder.data.lists.getListVersion(j.call(this))}return a.createClass({displayName:"listDesignPanel",mixins:[c.mixins.editorAPIMixin,d.panelSwitcherMixin],propTypes:{selectedComponent:a.PropTypes.array.isRequired},getDefaultProps:function(){return{backButtonLabel:"list_design_panel_back_button_label",helpId:"1d4fc63f-a23a-4ed3-b811-905f18045fe9"}},getInitialPanelClass:function(){return this.getEditorAPI().isMobileEditor()||"1.0"===k.call(this)?f:e},onPreviousPanel:function(a){h.call(this,a)},componentWillMount:function(){i.call(this)}})}),define("designPanel/core/designPanelFactory",["react","lodash","core","designPanelUtils","designPanel/panelTypes/changeStyleDesignPanel","designPanel/panelTypes/changeDataDesignPanel","designPanel/panelTypes/changeGalleryDesignPanel","designPanel/wixapps/wixappsDesignPanel","designPanel/list/listDesignPanel"],function(a,b,c,d,e,f,g,h,i){"use strict";function k(a){var b=j[a];return b?this.getEditorAPI().isMobileEditor()&&b.mobile||b.desktop:e}var j={"wysiwyg.common.components.imagebutton.viewer.ImageButton":{desktop:f},"wysiwyg.viewer.components.documentmedia.DocumentMedia":{desktop:f},"wysiwyg.viewer.components.MatrixGallery":{desktop:g},"wysiwyg.viewer.components.PaginatedGridGallery":{desktop:g},"wysiwyg.viewer.components.SliderGallery":{desktop:g},"wysiwyg.viewer.components.SlideShowGallery":{desktop:g},"tpa.viewer.components.Masonry":{desktop:g},"tpa.viewer.components.Accordion":{desktop:g},"tpa.viewer.components.Impress":{desktop:g},"tpa.viewer.components.Freestyle":{desktop:g},"tpa.viewer.components.Collage":{desktop:g},"tpa.viewer.components.Honeycomb":{desktop:g},"tpa.viewer.components.StripShowcase":{desktop:g},"tpa.viewer.components.StripSlideshow":{desktop:g},"tpa.viewer.components.Thumbnails":{desktop:g},"wysiwyg.viewer.components.tpapps.TPA3DGallery":{desktop:g},"wysiwyg.viewer.components.tpapps.TPA3DCarousel":{desktop:g},"wixapps.integration.components.AppPart":{desktop:h},"wixapps.integration.components.AppPart2":{desktop:i}};return a.createClass({displayName:"designPanelFactory",mixins:[c.mixins.editorAPIMixin],propTypes:{compType:a.PropTypes.string,shouldMaintainOriginalLayout:a.PropTypes.bool},render:function(){var c=this.props.selectedComponent,e=this.props.compType;this.props.selectedComponent&&this.props.compType||(c=this.getEditorAPI().selection.getSelectedComponents(),e=this.getEditorAPI().components.getType(c));var f=k.call(this,e),g={compType:e,selectedComponent:c,shouldMaintainOriginalLayout:!0};return d.customizeDesignComponents.shouldDisplayDesignPanel(e)||(g.onlyAdvancedStyling=!0),a.createElement(f,b.assign(g,this.props))}})}),define("designPanel",["designPanel/core/designPanelFactory","designPanel/list/listDesignPresetPanel","designPanel/list/listCustomizeFieldsPanel","designPanel/list/fieldStyleDesignPanel","designPanel/list/listTextFieldDesignPanel","designPanel/panelTypes/changeStyleDesignPanel"],function(a,b,c,d,e,f){"use strict";return{designPanel:a,changeStyleDesignPanel:f,list:{listDesignPresetPanel:b,listCustomizeFieldsPanel:c,fieldStyleDesignPanel:d,listTextFieldDesignPanel:e}}});